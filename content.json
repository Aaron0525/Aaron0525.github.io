{"meta":{"title":"é€”ä¸­äººçš„åšå®¢","subtitle":"ITæŠ€æœ¯åˆ†äº«ï¼","description":null,"author":"é€”ä¸­äºº","url":"http://upyang.com"},"pages":[{"title":"å…³äºæˆ‘","date":"2017-07-08T14:18:02.000Z","updated":"2017-07-17T15:01:25.520Z","comments":true,"path":"about/index.html","permalink":"http://upyang.com/about/index.html","excerpt":"","text":"HTMLä¸ªäººç®€å† PDFä¸ªäººç®€å† å§“åï¼š æ¨é’Š å­¦å†ï¼š é•¿æ±Ÿå¤§å­¦ æœ¬ç§‘ è½¯ä»¶å·¥ç¨‹ Q Qï¼š 1067896503 é‚®ç®±ï¼š 1067896503@qq.com githubï¼š https://github.com/Aaron0525 ä¸ªäººç®€ä»‹ï¼š å¤§å››å­¦ç”Ÿï¼Œæ±‚å®ä¹ å·¥ä½œ! ç›®å‰æŠ€æœ¯æ ˆï¼š å‰ç«¯ï¼šHTML/HTML5ã€CSS/CSS3ã€JavaScriptã€jQueryã€bootstrapã€å¾®ä¿¡å°ç¨‹åº æ¡†æ¶ï¼šVue.js åç«¯ï¼šJavaã€Node.js æ•°æ®åº“ï¼šMySQLã€mongodbã€SqlServer è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼š webpackã€gulp"},{"title":"tags","date":"2017-07-07T10:02:16.000Z","updated":"2017-07-08T10:32:52.698Z","comments":false,"path":"tags/index.html","permalink":"http://upyang.com/tags/index.html","excerpt":"","text":"ä½ å¥½ï¼"},{"title":"æˆ‘çš„ä½œå“","date":"2017-07-07T10:02:57.000Z","updated":"2017-07-17T15:13:20.344Z","comments":true,"path":"categories/index.html","permalink":"http://upyang.com/categories/index.html","excerpt":"","text":"Vue2.0æ­å»ºç§»åŠ¨ç«¯éŸ³ä¹APP ğŸ‘‰ github: https://github.com/Aaron0525/Vue-music ğŸ‘‰ æ¼”ç¤ºåœ°å€: http://www.upyang.com/Vue-music/index.html#/recommend é¡¹ç›®ä»‹ç»ï¼š&emsp;&emsp;è¿™æ˜¯ä¸€ä¸ªç”¨Vue.jså†™çš„ç§»åŠ¨ç«¯éŸ³ä¹App(SPA),ä½¿ç”¨äº†Vue2.0+ES6+webpackç­‰å‰ç«¯çƒ­é—¨æŠ€æœ¯ã€‚æ ¸å¿ƒåŠŸèƒ½çƒ­é—¨æ­Œæ›²æ¨èã€éŸ³ä¹æ’­æ”¾ã€æ­Œæ›²æ­Œæ‰‹æœç´¢ç­‰ã€‚æŠ€æœ¯æ ˆï¼š&emsp;&emsp;MVVMæ¡†æ¶ï¼šVue.jsï¼ˆç‰ˆæœ¬2.0ï¼‰è½»é‡ç»„ä»¶åŒ–çš„çƒ­é—¨å‰ç«¯æ¡†æ¶ã€‚&emsp;&emsp;çŠ¶æ€ç®¡ç†ï¼šVuexã€‚ é‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ã€‚&emsp;&emsp;å‰ç«¯è·¯ç”±ï¼šVue Routerã€‚å®ƒæ˜¯Vue.jså®˜æ–¹çš„è·¯ç”±æ’ä»¶ï¼Œå®ƒå’Œvue.jsæ˜¯æ·±åº¦é›†æˆçš„ï¼Œé€‚åˆç”¨äºæ„å»ºå•é¡µé¢åº”ç”¨ã€‚vueçš„å•é¡µé¢åº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥ã€‚&emsp;&emsp;æ»šåŠ¨æ’ä»¶ï¼šbetter-scrollã€‚å®ç°äº†é¡µé¢æ— æ»šåŠ¨æ¡å½¢å¼çš„æ»šåŠ¨ï¼Œä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†é¦–é¡µçš„è½®æ’­å›¾ã€‚&emsp;&emsp;æ„å»ºå·¥å…·ï¼š webpack&emsp;&emsp;æœåŠ¡ç«¯é€šä¿¡ï¼šaxiosã€jsonpã€‚ä»QQéŸ³ä¹æŠ“å–æ•°æ®æ˜¾ç¤ºåˆ°é¡µé¢ã€‚&emsp;&emsp;æ„å»ºå·¥å…·ï¼š webpack å“åº”å¼ç½‘ç«™ ğŸ‘‰ github: https://github.com/Aaron0525/Responsive-website ğŸ‘‰ æ¼”ç¤ºåœ°å€: http://www.upyang.com/Responsive-website/ é¡¹ç›®ä»‹ç»ï¼š&emsp;&emsp;å“åº”å¼ç½‘ç«™è®¾è®¡(Responsive Web design)çš„ç†å¿µæ˜¯ï¼šé›†ä¸­åˆ›å»ºé¡µé¢çš„å›¾ç‰‡æ’ç‰ˆå¤§å°ï¼Œå¯ä»¥æ™ºèƒ½åœ°æ ¹æ®ç”¨æˆ·è¡Œä¸ºä»¥åŠä½¿ç”¨çš„è®¾å¤‡ç¯å¢ƒï¼ˆç³»ç»Ÿå¹³å°ã€å±å¹•å°ºå¯¸ã€å±å¹•å®šå‘ç­‰ï¼‰è¿›è¡Œç›¸å¯¹åº”çš„å¸ƒå±€ã€‚å“åº”å¼å¸ƒå±€è¦ç‚¹ï¼š &emsp;&emsp;ä¸€ã€åª’ä½“æŸ¥è¯¢ï¼ˆmedia queryï¼‰ã€‚åª’ä½“æŸ¥è¯¢æ˜¯å“åº”å¼ç½‘é¡µçš„æ ¸å¿ƒï¼Œå®ƒèƒ½æ£€æµ‹å½“å‰è®¾å¤‡çš„å®½åº¦æ¥é€‰ç”¨ä¸åŒçš„CSSæ ·å¼æ–‡ä»¶ã€‚åœ¨å†™CSSæ ·å¼æ—¶ï¼Œä»æœ€å°çš„è®¾å¤‡å¼€å§‹å†™ä¸ºå¥½ã€‚&emsp;&emsp;äºŒã€æµå¼å¸ƒå±€ã€‚å®ƒçš„ç‰¹ç‚¹å°±æ˜¯ç™¾åˆ†æ¯”å¸ƒå±€ï¼Œç›¸æ¯”é‡‡ç”¨å…·ä½“å°ºå¯¸çš„å¸ƒå±€ï¼Œç™¾åˆ†æ¯”å¸ƒå±€åœ¨ç”¨æˆ·ç¼©æ”¾æµè§ˆå™¨çª—å£æ—¶ï¼Œä¸ä¼šå‡ºç°å†…å®¹è¢«éšè—å’Œå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡ã€‚&emsp;&emsp;ä¸‰ã€å¼¹æ€§å›¾ç‰‡ã€‚ è¦è®©å›¾ç‰‡è‡ªé€‚åº”ç¼©æ”¾ï¼Œä¸€èˆ¬ä½¿ç”¨csså°†å›¾ç‰‡çš„å®½åº¦è®¾ç½®æˆ100%ï¼Œè¿™æ ·å°±èƒ½ä½¿å›¾ç‰‡åœ¨å¸ƒå±€ä¸­ä¿æŒç‰¹å®šçš„æ¯”ä¾‹ã€‚ä½†éšç€æµè§ˆå™¨çš„ç¼©æ”¾ï¼Œå½“å›¾ç‰‡çš„å®é™…å¤§å°è¶…è¿‡å›¾ç‰‡æœ¬èº«çš„å¤§å°æ—¶ï¼Œå›¾ç‰‡å°±ä¼šå˜çš„æ¨¡ç³Šã€‚æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯åŠæ—¶æ›¿æ¢æˆä¸€å¼ å°ºå¯¸æ›´å¤§çš„å›¾ç‰‡ã€‚å“åº”å¼å¸ƒå±€ä¼˜ç¼ºç‚¹ï¼š &emsp;&emsp;ä¼˜ç‚¹ï¼šåœ¨ä¸åŒç»ˆç«¯ã€ä¸åŒåˆ†è¾¨ç‡ä¸‹æœ‰å¾ˆå¼ºçš„é€‚é…æ€§ï¼›åªéœ€ä¸€å¥—ä»£ç ï¼Œä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çœäº†å¼€å‘å’Œç»´æŠ¤çš„æˆæœ¬ã€‚ç¼ºç‚¹ï¼šå…¼å®¹å„ç§è®¾å¤‡å·¥ä½œé‡å¤§ï¼Œæ•ˆç‡ä½ä¸‹ï¼›ä»£ç ç´¯èµ˜ï¼Œä¼šå‡ºç°éšè—æ— ç”¨çš„å…ƒç´ ï¼ŒåŠ è½½æ—¶é—´åŠ é•¿ã€‚&emsp;&emsp;æ‰€ä»¥å“åº”å¼å¸ƒå±€ä¸é€‚åˆæ•°æ®é‡å¤§ï¼Œæ“ä½œå¤æ‚çš„ç½‘ç«™ï¼Œé€‚ç”¨äºåšå®¢ã€ä¸­å°å‹ä¼ä¸šç½‘ç«™ç­‰ã€‚"}],"posts":[{"title":"Vueå­¦ä¹ ","slug":"Vueå­¦ä¹ ","date":"2017-07-21T15:28:51.000Z","updated":"2017-07-23T02:52:36.451Z","comments":true,"path":"2017/07/21/Vueå­¦ä¹ /","link":"","permalink":"http://upyang.com/2017/07/21/Vueå­¦ä¹ /","excerpt":"","text":"å‰è¨€ æœ€è¿‘ä¸€æ®µæ—¶é—´ä¸€ç›´åœ¨å­¦ä¹ Vue2.0çš„ç›¸å…³çŸ¥è¯†ï¼Œä¹‹å‰åªæ˜¯çœ‹è¿‡ç›¸å…³çš„è§†é¢‘æ•™å­¦ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰åŠ¨æ‰‹å»å®è·µè‡ªå·±çš„é¡¹ç›®ï¼Œè¿™æ¬¡å†³å®šç”¨Vue2.0å»æ¨¡ä»¿ä¸€ä¸ªç§»åŠ¨ç«¯App,çœ‹äº†å¾ˆå¤šè‡ªå·±ç”¨è¿‡çš„App,æœ€åå†³å®šæ¨¡ä»¿åšæ˜é‡‘ç§»åŠ¨ç«¯App,æ°å¥½è¿™æ¬¾Appä¹Ÿæ˜¯ç”¨Vueåšçš„ã€‚å†™ä¸‹è¿™ç¯‡åšå®¢ï¼Œè®°å½•å®è·µä¸­çš„æ–°çš„ä½“ä¼šã€‚ éœ€æ±‚åˆ†æé¦–å…ˆç›´è§‚çš„çœ‹ä¸‹æ˜é‡‘Appçš„åŸºæœ¬é¡µé¢æ„æˆï¼š","categories":[],"tags":[{"name":"Vue2.0","slug":"Vue2-0","permalink":"http://upyang.com/tags/Vue2-0/"},{"name":"ES6","slug":"ES6","permalink":"http://upyang.com/tags/ES6/"}]},{"title":"åŸç”Ÿjså®ç°Ajaxå®ä¾‹è®²è§£(äºŒ)","slug":"ajax2","date":"2017-07-12T14:30:38.000Z","updated":"2017-07-16T14:43:11.553Z","comments":true,"path":"2017/07/12/ajax2/","link":"","permalink":"http://upyang.com/2017/07/12/ajax2/","excerpt":"","text":"å¯¼è¯­Ajaxçš„æ ¸å¿ƒæŠ€æœ¯æ˜¯XMLHttpRequestå¯¹è±¡,å®ƒå¯ä»¥åœ¨ä¸å‘æœåŠ¡å™¨æäº¤æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ç½‘é¡µã€‚é€šè¿‡è¿™ä¸ªå¯¹è±¡ï¼ŒAjaxå¯ä»¥åƒæ¡Œé¢åº”ç”¨ç¨‹åºé‚£æ ·åªä¸æœåŠ¡å™¨è¿›è¡Œæ•°æ®å±‚çš„äº¤æ¢ï¼Œè€Œä¸å¿…æ¯æ¬¡éƒ½åˆ·æ–°ç•Œé¢ï¼Œä¹Ÿä¸å¿…æ¯æ¬¡å°†æ•°æ®å¤„ç†çš„å·¥ä½œéƒ½äº¤ç»™æœåŠ¡å™¨æ¥åšã€‚è¿™æ ·æ—¢å‡è½»äº†æœåŠ¡å™¨è´Ÿæ‹…åˆæé«˜äº†å“åº”é€Ÿåº¦ï¼Œè¿˜ç¼©çŸ­äº†ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ã€‚é€šå¸¸ä¸€ä¸ªAjaxçš„å®ç°è¿‡ç¨‹æœ‰äº”æ­¥ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥ä¸Šç¯‡åšå®¢ä¸­çš„å°å®ä¾‹ä¸ºä¾‹æ¥é€æ­¥å­¦ä¹ ã€‚ XMLHttpRequestå¯¹è±¡çš„äº”æ­¥ä½¿ç”¨æ³•åˆ›å»ºXMLHttpRequestå¯¹è±¡ã€‚IEæµè§ˆå™¨å°†XMLHttpRequestå®ç°ä¸ºä¸€ä¸ªActiveXå¯¹è±¡ï¼Œå…¶ä»–æµè§ˆå™¨å¦‚Firefoxï¼ŒOperaï¼ŒNetscapeç­‰å°†å…¶å®ç°ä¸ºä¸€ä¸ªæœ¬åœ°JavaScriptå¯¹è±¡ã€‚1234567891011121314151617181920212223242526272829function CreatXHR() &#123; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒActiveXæ§ä»¶ï¼Œé’ˆå¯¹IE6åŠä¹‹å‰ç‰ˆæœ¬ if (window.ActiveXObject) &#123; //å°†æ‰€æœ‰å¯èƒ½å‡ºç°çš„ActiveXObjectç‰ˆæœ¬éƒ½æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ var arrXHR = [&apos;Microsoft.XMLHTTP&apos;, &apos;MSXML2.XMLHTTP.6.0&apos;, &apos;MSXML2.XMLHTTP.5.0&apos;, &apos;MSXML2.XMLHTTP.4.0&apos;, &apos;MSXML2.XMLHTTP.3.0&apos;, &apos;MSXML2.XMLHTTP&apos;]; //é€šè¿‡å¾ªç¯åˆ›å»ºXMLHttpRequestå¯¹è±¡ var temp = arrXHR.length; for (var i=0;i&lt;temp;i++) &#123; try &#123; //åˆ›å»ºXMLHttpRequestå¯¹è±¡ xhr = new ActiveXObject(arrXHR[i]); //å¦‚æœåˆ›å»ºXMLHttpRequestå¯¹è±¡æˆåŠŸï¼Œåˆ™è·³å‡ºå¾ªç¯ break; &#125; catch(ex) &#123; &#125; &#125; &#125; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å°†XMLHttpRequestä½œä¸ºæœ¬åœ°å¯¹è±¡å®ç°ï¼Œé’ˆå¯¹IE7ï¼ŒFirefoxï¼ŒOperaç­‰æµè§ˆå™¨ else if(window.XMLHttpRequest) &#123; xhr = new XMLHttpRequest(); &#125; &#125; 123456789101112131415//åˆ›å»ºXMLHttpRequestå¯¹è±¡ï¼Œè°ƒç”¨å‰é¢å®šä¹‰å¥½çš„å‡½æ•° creatXMLHTTP(); if (xhr!=null) &#123; //åˆ›å»ºå“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° //åˆ›å»ºhttpè¯·æ±‚ //å‘é€httpè¯·æ±‚ &#125; else &#123; alert(&quot;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒXMLHTTP&quot;); &#125; æ³¨å†Œå›è°ƒå‡½æ•°12//åˆ›å»ºå“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° xhr.onreadystatechange = httpStateChange; åœ¨å¼‚æ­¥è°ƒç”¨æ—¶ï¼ŒXMLHttpRequestå¯¹è±¡æœ‰å‡ ä¸ªä¸åŒçš„çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€è¡¨ç¤ºäº†å¼‚æ­¥è°ƒç”¨çš„è¿‡ç¨‹ã€‚ 0ï¼šæœªåˆå§‹åŒ–çŠ¶æ€ï¼Œåˆšåˆ›å»ºå®Œä¸€ä¸ªXMLHttpRequestå¯¹è±¡ï¼› 1ï¼šåˆå§‹åŒ–çŠ¶æ€ï¼Œå³XMLHttpRequestå¯¹è±¡å·²ç»è·å¾—äº†è¦å°†æ•°æ®å‘é€åˆ°å“ªä¸ªæœåŠ¡å™¨ä¸Šã€ä»¥ä»€ä¹ˆæ–¹å¼å‘é€ç­‰ä¿¡æ¯ï¼› 2ï¼šå‘é€çŠ¶æ€ï¼ŒXMLHttpRequestå¼€å§‹å‘é€æ•°æ®ï¼› 3ï¼šæ•°æ®ä¼ é€çŠ¶æ€ï¼Œæ­¤æ—¶XMLHttpRequestæ­£åœ¨æ¥å—ä»æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®è¿˜æ²¡æœ‰ä¼ é€å®Œæ¯•ï¼› 4ï¼šå®ŒæˆçŠ¶æ€ï¼šæ­¤æ—¶XMLHttpRequestå¯¹è±¡å·²ç»å°†ä»æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®æ¥å—å®Œæ¯•ã€‚ä½¿ç”¨XMLHttpRequestå¯¹è±¡çš„onreadystatechangeå±æ€§ï¼Œå¯ä»¥è®¾ç½®å“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•°ã€‚è®¾ç½®å›è°ƒå‡½æ•°æ—¶ï¼Œä¸è¦åœ¨å‡½æ•°ååè€ŒåŠ æ‹¬å·ã€‚åŠ æ‹¬å·è¡¨ç¤ºå°†å›è°ƒå‡½æ•°çš„è¿”å›å€¼æ³¨å†Œç»™onreadystatechangeå±æ€§ã€‚ openæ–¹æ³•è®¾ç½®å’ŒæœåŠ¡å™¨ç«¯äº¤äº’çš„ä¿¡æ¯12//åˆ›å»ºhttpè¯·æ±‚ xhr.open(&quot;get&quot;,&quot;Readme.txt&quot;, true); è¯·æ±‚æ ¹ç›®å½•ä¸‹å­˜å‚¨ç”¨æˆ·åä¸ºReadmeçš„txtæ–‡ä»¶,ç¨ååˆ©ç”¨å®ƒè¿›è¡Œç”¨æˆ·åçš„éªŒè¯ã€‚ XMLHttpRequestçš„open(method,URL,flag,name,password)æ–¹æ³•ç”¨æ¥åˆå§‹åŒ–å¯¹è±¡ï¼Œå‰ä¸¤ä¸ªå‚æ•°å¿…é€‰ï¼Œåä¸‰ä¸ªå‚æ•°æ˜¯å¯é€‰ã€‚methodï¼šæŒ‡å®šç”¨ä»€ä¹ˆæ–¹å¼å‘æœåŠ¡å™¨å‘é€httpè¯·æ±‚ï¼Œå‚æ•°å€¼å¯ä»¥æ˜¯getï¼Œpostï¼Œheadï¼Œputå’Œdeleteäº”ç§ã€‚URLï¼šæŒ‡å®šæœåŠ¡å™¨çš„URLï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·å¤„ç†å’Œè¿”å›æ•°æ®çš„ç¨‹åºçš„URLã€‚è¯¥URLå¯ä»¥æ˜¯ç»å¯¹åœ°å€ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹åœ°å€ã€‚flagï¼šæŒ‡å®šæäº¤httpè¯·æ±‚çš„æ–¹å¼ï¼ŒtrueæŒ‡å¼‚æ­¥æ–¹å¼ï¼Œä¸ºé»˜è®¤å€¼ï¼›falseæŒ‡åŒæ­¥æ–¹å¼ã€‚nameå’Œpasswordï¼šå¦‚æœæœåŠ¡å™¨éœ€è¦éªŒè¯ï¼Œè¿™ä¸¤ä¸ªå‚æ•°ç”¨æ¥æäº¤ç”¨æˆ·åå’Œå¯†ç ã€‚ è®¾ç½®å‘é€çš„æ•°æ®ä¸æœåŠ¡å™¨ç«¯å¼€å§‹äº¤äº’ã€‚12//å‘é€httpè¯·æ±‚ xhr.send(null); å‘é€httpè¯·æ±‚ä½¿ç”¨XMLHttpRequestçš„send(data)æ–¹æ³•ï¼Œdataå‚æ•°å°±æ˜¯ä¼ é€’ç»™open()æ–¹æ³•ä¸­URLå‚æ•°æ‰€æŒ‡å®šçš„æ–‡ä»¶çš„å‚æ•°ã€‚è‹¥æœè¦ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œç”¨â€&amp;â€æ¥åˆ†éš”ï¼Œä¸éœ€è¦ä¼ é€’å‚æ•°å†™â€nullâ€ã€‚ å›è°ƒå‡½æ•°ä¸­åˆ¤æ–­äº¤äº’æ˜¯å¦ç»“æŸåˆ¤æ–­å¼‚æ­¥è°ƒç”¨æ˜¯å¦æˆåŠŸï¼š1234if (xhr.readyState==4)//å¼‚æ­¥è°ƒç”¨å®Œæ¯•&#123; if (xhr.status==200 || xhr.status==0)&#123;&#125;//å¼‚æ­¥è°ƒç”¨æˆåŠŸ||åœ¨æœ¬æœºä¸Šè°ƒè¯•&#125; readyStateå±æ€§å€¼ä¸º4ï¼Œè¯´æ˜å¼‚æ­¥è°ƒç”¨å®Œæˆï¼Œä½†å¹¶ä¸ä»£è¡¨å¼‚æ­¥è°ƒç”¨æ‰§è¡ŒæˆåŠŸã€‚XMLHttpRequestçš„statuså±æ€§å¯ä»¥è·å¾—ä»æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç ã€‚0ä»£è¡¨ä¸èƒ½ç†è§£çš„httpçŠ¶æ€ï¼Œé€šå¸¸åªæœ‰åœ¨æœ¬åœ°è®¡ç®—æœºæ‰“å¼€æ–‡ä»¶æ—¶æ‰ä¼šè¿”å›ã€‚æ¯”è¾ƒå¸¸ç”¨çš„httpçŠ¶æ€ç æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼š200ï¼šæœåŠ¡å™¨æˆåŠŸè¿”å›ç½‘é¡µã€‚404ï¼šå®¢æˆ·ç«¯è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨ã€‚503ï¼šæœåŠ¡å™¨å“åº”è¶…æ—¶ã€‚ è·å¾—æœåŠ¡å™¨è¿”å›çš„æ•°æ®123456if (xhr.readyState==4)&#123; if (xhr.status==200 || xhr.status==0)&#123; var Names = xhr.responseText; &#125;&#125; å¼‚æ­¥è°ƒç”¨çš„æœ€ç»ˆç›®çš„æ˜¯æ¥æ”¶ä»æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œå¹¶æ ¹æ®è¯¥æ•°æ®å†³å®šå¦‚ä½•æ˜¾ç¤ºåœ¨å®¢æˆ·ç«¯ç½‘é¡µä¸­ã€‚å¼‚æ­¥è°ƒç”¨æˆåŠŸåï¼ŒXMLHttpRequestå¯¹è±¡é€šè¿‡ä½¿ç”¨ä»¥ä¸‹4ä¸ªå±æ€§æ¥è·å¾—æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€‚responseTextï¼šè¡¨ç¤ºå°†æœåŠ¡å™¨è¿”å›çš„æ•°æ®ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚responseXMLï¼šè¡¨ç¤ºä»¥XMLçš„å½¢å¼è¿”å›ã€‚responseBodyï¼šè¡¨ç¤ºä»¥unsigned byteæ•°ç»„çš„å½¢å¼è¿”å›ã€‚responseStreamï¼šè¡¨ç¤ºä»¥IStreamå¯¹è±¡çš„å½¢å¼è¿”å›ã€‚ å±€éƒ¨æ›´æ–°1234567891011var OWarn = document.getElementById(&quot;Warn&quot;);if (Flag)&#123; OWarn.innerHTML = &quot;æ‚¨è¾“å…¥çš„ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼&quot;; Form.Btn.disabled = true;//æäº¤æŒ‰é’®ä¸å¯ç”¨&#125;else&#123; OWarn.innerHTML = &quot;åˆæ³•ç”¨æˆ·å&quot;; Form.Btn.disabled = false;//æäº¤æŒ‰é’®å¯ç”¨&#125; è·å–æœåŠ¡å™¨è¿”å›çš„æ•°æ®ä¹‹åå°±è¦æ˜¾ç¤ºå‡ºæ¥ã€‚Ajaxé€šè¿‡DOMæ¥å®Œæˆå±€éƒ¨æ›´æ–°æ•°æ®ã€‚ ç»“æŸè¯­ åœ¨ajaxçš„ç¼–ç¨‹ä¸­æ˜¯å¿…é¡»å¯¹XMLHttpRequestè¿›è¡Œä¸Šè¿°çš„5æ­¥æ“ä½œçš„ï¼Œå°è£…æˆä¸€ä¸ªå…·æœ‰å¤ç”¨æ€§æ•ˆæœçš„æ–¹æ³•ï¼Œå¯¹æˆ‘ä»¬çš„æ—¥å¸¸ä½¿ç”¨æ˜¯éå¸¸æ¥è¯´æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚","categories":[],"tags":[{"name":"ajax","slug":"ajax","permalink":"http://upyang.com/tags/ajax/"},{"name":"XMLHttpRequest","slug":"XMLHttpRequest","permalink":"http://upyang.com/tags/XMLHttpRequest/"},{"name":"jsonp","slug":"jsonp","permalink":"http://upyang.com/tags/jsonp/"}]},{"title":"åŸç”Ÿjså®ç°Ajaxå®ä¾‹è®²è§£(ä¸€)","slug":"ajax","date":"2017-07-12T02:02:20.000Z","updated":"2017-07-16T14:44:18.440Z","comments":true,"path":"2017/07/12/ajax/","link":"","permalink":"http://upyang.com/2017/07/12/ajax/","excerpt":"","text":"Ajaxç®€ä»‹ ajax = å¼‚æ­¥ JavaScript å’Œ XMLã€‚ ajaxæ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¼ ç»Ÿçš„ç½‘é¡µï¼ˆä¸ä½¿ç”¨ajaxï¼‰å¦‚æœéœ€è¦æ›´æ–°å†…å®¹ï¼Œå¿…é¡»é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µã€‚Ajaxçš„å‡ºç°ï¼Œä½¿å¾—ä½¿ç½‘å¯ä»¥å®ç°å¼‚æ­¥æ›´æ–°ï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚ æ³¨æ„ï¼šajaxæœ¬èº«ä¸æ”¯æŒè·¨åŸŸè¯·æ±‚ï¼Œéœ€è¦åœ¨æœåŠ¡å™¨ç«¯å¤„ç†ã€‚ å·¥ä½œåŸç† ajaxçš„æŠ€æœ¯æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡ã€‚ ajaxè¯·æ±‚è¿‡ç¨‹ï¼šåˆ›å»ºXMLHttpRequestã€è¿æ¥æœåŠ¡å™¨ã€å‘é€è¯·æ±‚ã€æœåŠ¡å™¨åšå‡ºå“åº”ã€æ¥æ”¶å“åº”æ•°æ® å›¾ç¤ºï¼š ajaxä¸jsonpåŒºåˆ«ä»å®ç°æ–¹å¼ä¸Šæ¥è®²ï¼Œajaxæ˜¯é€šè¿‡åˆ›å»ºXMLHttpRequestæ¥è·å–åŒæºçš„æ•°æ®ã€‚è€Œjsonpæ˜¯é€šè¿‡&lt;script&gt;æ ‡ç­¾æ¥è°ƒç”¨æœåŠ¡å™¨æä¾›çš„jsè„šæœ¬ã€‚ jsonpäº§ç”ŸåŸå›  1. Ajaxç›´æ¥è¯·æ±‚æ™®é€šæ–‡ä»¶å­˜åœ¨è·¨åŸŸæ— æƒé™è®¿é—®çš„é—®é¢˜ï¼ˆé™æ€é¡µã€åŠ¨æ€é¡µã€webæœåŠ¡ã€wcfåªè¦æ˜¯è·¨åŸŸè¯·æ±‚ä¸€å¾‹ä¸å‡†ï¼‰ 2. webçš„é¡µé¢ä¸Šè°ƒç”¨jsæ–‡ä»¶æ˜¯ä¸å—è·¨åŸŸçš„å½±å“ï¼ˆå‡¡æ‹¥æœ‰srcå±æ€§çš„æ ‡ç­¾éƒ½æ‹¥æœ‰è·¨åŸŸèƒ½åŠ›script img iframeï¼‰ 3. å¯ä»¥åˆ¤æ–­ ç°åœ¨æƒ³é€šè¿‡çº¯webç«¯(ActiveXæ§ä»¶ã€æœåŠ¡ç«¯ä»£ç†ã€H5ä¹‹Websocketç­‰æ–¹å¼ä¸ç®—)è·¨åŸŸè®¿é—®æ•°æ®å°±åªæœ‰ä¸€ç§å¯èƒ½ï¼Œå°±æ˜¯åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè®¾æ³•æŠŠæ•°æ®è£…è¿›jsæ ¼å¼çš„æ–‡ä»¶é‡Œï¼Œä¾›å®¢æˆ·åº¦è°ƒç”¨å’Œè¿›ä¸€æ­¥å¤„ç†ï¼› 4. jsonçš„çº¯å­—ç¬¦æ•°æ ¼å¼å¯ä»¥ç®€æ´çš„æè¿°å¤æ‚æ•°æ®è¿˜è¢«jsåŸç”Ÿæ”¯æŒ 5. webå®¢æˆ·ç«¯é€šè¿‡ä¸è°ƒç”¨è„šæœ¬ä¸€æ ·çš„æ–¹å¼æ¥è°ƒç”¨è·¨åŸŸæœåŠ¡å™¨ä¸ŠåŠ¨æ€ç”Ÿæˆçš„jsæ ¼å¼æ–‡ä»¶(åç¼€.json)ï¼ŒæœåŠ¡å™¨ä¹‹æ‰€ä»¥è¦åŠ¨æ€ç”Ÿæˆjsonæ–‡ä»¶ç›®çš„æŠŠå®¢æˆ·ç«¯éœ€è¦çš„æ•°æ®è£…å…¥è¿›å» 6. å®¢æˆ·ç«¯åœ¨å¯¹jsonæ–‡ä»¶è°ƒç”¨æˆåŠŸåè·å¾—è‡ªå·±æ‰€éœ€çš„æ•°æ®å‰©ä¸‹çš„å°±æŒ‰ç…§è‡ªå·±éœ€æ±‚è¿›è¡Œå¤„ç†å’Œå±•ç°ï¼Œè¿™ç§è·å–è¿œç¨‹æ•°æ®çš„æ–¹å¼éå¸¸åƒajaxå…¶å®å¹¶ä¸€æ · 7. ä¸ºäº†æ–¹ä¾¿å®¢æˆ·ç«¯ä½¿ç”¨æ•°æ®é€æ¸å½¢æˆéæ­£å¼ä¼ è¾“åè®®jsonp å…¶å®ï¼Œè¯´åˆ°ajaxå°±ä¼šé¢ä¸´ä¸¤ä¸ªä¸å¯é¿å…çš„é—®é¢˜ï¼Œä¸€æ˜¯ä»¥ä½•ç§æ ¼å¼æ¥å‡ç¼“æ•°æ®ï¼›äºŒæ˜¯å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ã€‚ç›®å‰æ¥è¯´ï¼Œæ‰€è¢«æ¨å´‡çš„æ–¹æ¡ˆæ˜¯JSONä½œæ•°æ®äº¤æ¢ï¼ŒJSONPæ¥è§£å†³è·¨åŸŸé—®é¢˜ã€‚ JSONä¸JSONPè™½ç„¶çœ‹ä¸Šå»åªæœ‰ä¸€å­—ä¹‹å·®ï¼Œä½†æ˜¯å®é™…ä¸Šæ ¹æœ¬ä¸æ˜¯ä¸€å›äº‹ã€‚JSONæ˜¯ä¸€ç§key/valueå½¢å¼çš„æ•°æ®æ ¼å¼ï¼ŒäºŒJSONPåˆ™æ˜¯ä¸€ç§è·¨åŸŸæ•°æ®äº¤äº’åè®®ã€‚ å®ä¾‹ é¢˜ç›®ï¼šæ³¨å†Œæ—¶ï¼Œä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ŒåŒæ—¶è¦éªŒè¯ç”¨æˆ·åæ˜¯å¦åˆæ³•ã€‚ å®ç°åŠŸèƒ½ï¼Œç”¨æˆ·åœ¨è¾“å…¥ç”¨æˆ·ååï¼Œéœ€è¦ç»™å‡ºæé†’è¯¥åç§°æ˜¯å¦å·²ç»å­˜åœ¨ã€‚ htmlæ–‡æ¡£ç»“æ„123456789101112131415161718&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Ajaxå®ä¾‹è¯¦è§£&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;reg&quot; style=&quot;margin-top: 50px;margin-left:100px;&quot;&gt; &lt;p&gt;æ³¨å†Œé¡µ(ajaxæ£€æµ‹ç”¨æˆ·åæ˜¯å¦åˆæ³•)&lt;/p&gt; &lt;form name=&quot;Form&quot;&gt; ç”¨æˆ·å: &lt;input type=&quot;text&quot; name=&quot;Name&quot; onblur=&quot;check()&quot;&gt; &lt;span id=&quot;myDiv&quot;&gt;&lt;/span&gt;&lt;br&gt; å¯† ç : &lt;input type=&quot;text&quot; name=&quot;Password&quot;&gt;&lt;br&gt; &lt;input type=&quot;button&quot; value=&quot; æäº¤&quot; name=&quot;Btn&quot; disabled=&quot;false&quot;&gt; &lt;/form&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; JavaScriptä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;script type=&quot;text/javascript&quot;&gt; //åˆå§‹åŒ–ä¸€ä¸ªå­˜å‚¨XMLHttpRequestå¯¹è±¡çš„å˜é‡ var xhr = null; //å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºXMLHttpRequestå¯¹è±¡,å…¼å®¹å„ä¸ªç‰ˆæœ¬ function CreatXHR() &#123; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒActiveXæ§ä»¶ï¼Œé’ˆå¯¹IE6åŠä¹‹å‰ç‰ˆæœ¬ if (window.ActiveXObject) &#123; //å°†æ‰€æœ‰å¯èƒ½å‡ºç°çš„ActiveXObjectç‰ˆæœ¬éƒ½æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ var arrXHR = [&apos;Microsoft.XMLHTTP&apos;, &apos;MSXML2.XMLHTTP.6.0&apos;, &apos;MSXML2.XMLHTTP.5.0&apos;, &apos;MSXML2.XMLHTTP.4.0&apos;, &apos;MSXML2.XMLHTTP.3.0&apos;, &apos;MSXML2.XMLHTTP&apos;]; //é€šè¿‡å¾ªç¯åˆ›å»ºXMLHttpRequestå¯¹è±¡ var temp = arrXHR.length; for (var i=0;i&lt;temp;i++) &#123; try &#123; //åˆ›å»ºXMLHttpRequestå¯¹è±¡ xhr = new ActiveXObject(arrXHR[i]); //å¦‚æœåˆ›å»ºXMLHttpRequestå¯¹è±¡æˆåŠŸï¼Œåˆ™è·³å‡ºå¾ªç¯ break; &#125; catch(ex) &#123; &#125; &#125; &#125; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å°†XMLHttpRequestä½œä¸ºæœ¬åœ°å¯¹è±¡å®ç°ï¼Œé’ˆå¯¹IE7ï¼ŒFirefoxï¼ŒOperaç­‰æµè§ˆå™¨ else if(window.XMLHttpRequest) &#123; xhr = new XMLHttpRequest(); &#125; &#125; //å“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° function httpStateChange() &#123; if (xhr.readyState==4)//å¼‚æ­¥è°ƒç”¨å®Œæ¯• &#123; if (xhr.status==200 || xhr.status==0)//å¼‚æ­¥è°ƒç”¨æˆåŠŸï¼Œåœ¨æœ¬æœºä¸Šè°ƒè¯• &#123; //è·å¾—æœåŠ¡å™¨è¿”å›çš„æ•°æ® var Names = xhr.responseText; var arrName = Names.split(&quot;;&quot;);//æŠŠè·å–åˆ°çš„ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚ //å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œç”¨äºåˆ¤æ–­ç”¨æˆ·åæ˜¯å¦å·²ç»å­˜åœ¨ var Flag = false; for(i=0;i&lt;arrName.length;i++) &#123; if (arrName[i]== Form.Name.value) &#123; Flag = true;//ç”¨æˆ·åå­˜åœ¨ break; &#125; &#125; //åˆæ³•æ€§éªŒè¯æé†’ var OWarn = document.getElementById(&quot;Warn&quot;); if (Flag) &#123; OWarn.innerHTML = &quot;æ‚¨è¾“å…¥çš„ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼&quot;; Form.Btn.disabled = true;//æäº¤æŒ‰é’®ä¸å¯ç”¨ &#125; else &#123; OWarn.innerHTML = &quot;åˆæ³•ç”¨æˆ·å&quot;; Form.Btn.disabled = false;//æäº¤æŒ‰é’®å¯ç”¨ &#125; &#125; &#125; &#125; //æ ¡éªŒç”¨æˆ·åæ˜¯å¦æœ‰æ•ˆ function check() &#123; //åˆ›å»ºXMLHttpRequestå¯¹è±¡ï¼Œè°ƒç”¨å‰é¢å®šä¹‰å¥½çš„å‡½æ•° CreatXHR(); if (xhr!=null) &#123; //åˆ›å»ºå“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° xhr.onreadystatechange = httpStateChange; //åˆ›å»ºhttpè¯·æ±‚ xhr.open(&quot;get&quot;,&quot;Readme.txt&quot;, true); //å‘é€httpè¯·æ±‚ xhr.send(null); &#125; else &#123; alert(&quot;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒXMLHTTP&quot;); &#125; &#125;&lt;/script&gt; æ³¨æ„ æ³¨æ„ï¼šéœ€è¦åœ¨htmlåŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªReademe.txtæ–‡ä»¶æ¥å­˜å‚¨å·²ç»å­˜åœ¨çš„ç”¨æˆ·åï¼Œå¤šä¸ªç”¨æˆ·åä¹‹é—´ç”¨åˆ†å¥½éš”å¼€ã€‚ æ•ˆæœå›¾ å¯ä»¥å¤åˆ¶ä»£ç äº²è‡ªè¯•çœ‹ä¸‹æ•ˆæœå“¦ï¼(å»ºè®®Firefoxä¸‹è°ƒè¯•)è¯¦ç»†ä»£ç è®²è§£è¯·çœ‹ä¸‹ä¸€ç« é€šä¿—æ˜“æ‡‚Ajaxå®ä¾‹è®²è§£(äºŒ)","categories":[],"tags":[{"name":"ajax","slug":"ajax","permalink":"http://upyang.com/tags/ajax/"},{"name":"XMLHttpRequest","slug":"XMLHttpRequest","permalink":"http://upyang.com/tags/XMLHttpRequest/"},{"name":"jsonp","slug":"jsonp","permalink":"http://upyang.com/tags/jsonp/"}]},{"title":"jsonpè·¨åŸŸå®ç°","slug":"jsonpè·¨åŸŸå®ç°","date":"2017-07-08T10:57:30.000Z","updated":"2017-07-09T15:25:11.436Z","comments":true,"path":"2017/07/08/jsonpè·¨åŸŸå®ç°/","link":"","permalink":"http://upyang.com/2017/07/08/jsonpè·¨åŸŸå®ç°/","excerpt":"","text":"åŒæºç­–ç•¥åœ¨JavaScriptä¸­ï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„å®‰å…¨æ€§é™åˆ¶ï¼Œè¢«ç§°ä¸ºâ€œSame-Origin Policyâ€ï¼ˆåŒæºç­–ç•¥ï¼‰ã€‚è¿™ä¸€ç­–ç•¥å¯¹äºJavaScriptä»£ç èƒ½å¤Ÿè®¿é—®çš„é¡µé¢å†…å®¹åšäº†å¾ˆé‡è¦çš„é™åˆ¶ï¼Œå³JavaScriptåªèƒ½è®¿é—®ä¸åŒ…å«å®ƒçš„æ–‡æ¡£åœ¨åŒä¸€åŸŸä¸‹çš„å†…å®¹ã€‚ï¼ˆå›¾ç‰‡æ¥è‡ªMDNï¼‰ JSONPåœ¨jsä¸­ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨XMLHttpRequestè¯·æ±‚ä¸åŒåŸŸä¸Šçš„æ•°æ®æ—¶ï¼Œæ˜¯ä¸å¯ä»¥çš„ã€‚ä½†æ˜¯ï¼Œåœ¨é¡µé¢ä¸Šç”¨æ ‡ç­¾å¼•å…¥&lt;script&gt;ä¸åŒåŸŸä¸Šçš„jsè„šæœ¬æ–‡ä»¶å´æ˜¯å¯ä»¥çš„ï¼Œjsonpæ­£æ˜¯åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥å®ç°çš„ã€‚ jsonpçš„å®¢æˆ·ç«¯å®ç° tocatæœåŠ¡å™¨ä¸Šæœ‰ä¸ªremote.jsï¼ˆè¿™é‡Œç”¨tocatï¼Œwebé¡¹ç›®æ¼”ç¤ºï¼‰ alert(&quot;è·¨åŸŸæˆåŠŸ&quot;); æœ¬åœ°index.htmlæ–‡ä»¶ 1234567891011&lt;!DOCTYPE&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;è·¨åŸŸèµ„æº&lt;/title&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt;/* å®Œæˆè·¨åŸŸ */&lt;script src=&quot;http://localhost:8080/web/js/remote.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; å¾ˆæ˜æ˜¾ï¼Œæ˜¾ç¤ºè·¨åŸŸæˆåŠŸ æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æœ¬åœ°index.htmlå®šä¹‰callbackå‡½æ•° ï¼Œç„¶åè¿œç¨‹tomcat.jsä¼ å…¥å›è°ƒæ•°æ® 123456789101112131415161718&lt;!DOCTYPE&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;è·¨åŸŸèµ„æº&lt;/title&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt; /* å®Œæˆè·¨åŸŸ */ &lt;script type=&quot;text/javascript&quot;&gt; window.onload = function() &#123; var callback = function(data) &#123; alert(&quot;è·¨åŸŸè°ƒç”¨è¿œç¨‹tomcat.jsæˆåŠŸ: &quot; + data.name); &#125; &#125; &lt;/script&gt; &lt;script src=&quot;http://localhost:8080/web/js/tomcat.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; è¿œç¨‹æœåŠ¡å™¨ï¼š tomcat.js 1callback(&#123;&quot;name&quot;:&quot;kk&quot;&#125;); åˆ°æ­¤ï¼Œè·¨åŸŸåŸºæœ¬å®ç°ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œè¿œç¨‹ç«™ç‚¹æ€ä¹ˆçŸ¥é“è¦è°ƒç”¨å“ªä¸ªcallbackå‘¢ï¼Ÿ æ‰€ä»¥å°±æœ‰äº†jsonpçš„æ ¸å¿ƒï¼šæœåŠ¡ç«¯æä¾›çš„callbackæ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œ æœ¬åœ°åªè¦åŠ¨æ€ä¼ ä¸€ä¸ªcallbackç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°±çŸ¥é“è¯¥è°ƒç”¨å“ªä¸ªäº† åƒè¿™æ ·ï¼šå®¢æˆ·ç«¯12345678910111213141516171819202122&lt;!DOCTYPE&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;è·¨åŸŸèµ„æº&lt;/title&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt; &lt;script type=&quot;text/javascript&quot;&gt; window.onload = function() &#123; var callback = function(data) &#123; alert(&quot;è·¨åŸŸè°ƒç”¨è¿œç¨‹æˆåŠŸ: &quot; + data.name); &#125; var url = &quot;http://localhost:8080/web/js/helloServlet?userid=1&amp;callback=callback&quot;; // åˆ›å»ºscriptæ ‡ç­¾ï¼Œè®¾ç½®å…¶å±æ€§ var script = document.createElement(&apos;script&apos;); script.setAttribute(&apos;src&apos;, url); // æŠŠscriptæ ‡ç­¾åŠ å…¥headï¼Œæ­¤æ—¶è°ƒç”¨å¼€å§‹ document.getElementsByTagName(&apos;head&apos;)[0].appendChild(script); &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; æœåŠ¡ç«¯ï¼šï¼ˆè¿™é‡Œé€‰ç”¨javaè§£é‡Šï¼‰// ä»å®¢æˆ·ç«¯è·å–å‚æ•°useridå’Œcallback1PrintWriter out =response.getWriter(); // æ ¹æ®useridæŸ¥æ‰¾åˆ°çš„æ•°æ®å­˜å‚¨ä¸ºjson1out.println(callback+&quot;(&quot;+json+&quot;)&quot;); jsonpçš„æ‰§è¡Œå…¨è¿‡ç¨‹å°±æ˜¯è¿™ä¹ˆå›äº‹äº†ï¼ˆä¸ªäººç†è§£ï¼‰ ç°åœ¨å†æ¥çœ‹JQueryä¸­çš„å®ç°ï¼Œæˆ‘ä»¬æœ€ç»å¸¸ç”¨çš„$.ajaxï¼Œä¼¼ä¹é€šé€äº†ä¸å°‘ï¼Œä¹Ÿå°±æ˜¯è¿™ä¹ˆå›äº‹ 12345678910111213141516171819202122232425$(function() &#123; $.ajax(&#123; async: false, url: http, //è·¨åŸŸurlåœ°å€ type: &quot;GET&quot;, dataType: &apos;jsonp&apos;, jsonp: &apos;jsoncallback&apos;, data: &#123; &quot;userid&quot;: &quot;1&quot; &#125;, timeout: 5000, beforeSend: function() &#123; //jsonp æ–¹å¼æ­¤æ–¹æ³•ä¸è¢«è§¦å‘.åŸå› å¯èƒ½æ˜¯dataTypeå¦‚æœæŒ‡å®šä¸ºjsonpçš„è¯,å°±å·²ç»ä¸æ˜¯ajaxäº‹ä»¶äº† &#125;, success: function(json) &#123; //å®¢æˆ·ç«¯jqueryé¢„å…ˆå®šä¹‰å¥½çš„callbackå‡½æ•°,æˆåŠŸè·å–è·¨åŸŸæœåŠ¡å™¨ä¸Šçš„jsonæ•°æ®å,ä¼šåŠ¨æ€æ‰§è¡Œè¿™ä¸ªcallbackå‡½æ•° &#125; error: function(xhr) &#123; //jsonp æ–¹å¼æ­¤æ–¹æ³•ä¸è¢«è§¦å‘.åŸå› æ˜¯:dataTypeå¦‚æœæŒ‡å®šä¸ºjsonpçš„è¯,å°±å·²ç»ä¸æ˜¯ajaxäº‹ä»¶äº† //è¯·æ±‚å‡ºé”™å¤„ç† alert(&quot;è¯·æ±‚å‡ºé”™(è¯·æ£€æŸ¥ç›¸å…³åº¦ç½‘ç»œçŠ¶å†µ.)&quot;); &#125; &#125;); &#125;) è¿™é‡Œå‘ç°ï¼Œ$.ajaxå’Œajaxå¹¶ä¸æ˜¯ä¸€å›äº‹å•Š,ajaxçš„æ ¸å¿ƒæ˜¯é€šè¿‡XmlHttpRequestè·å–éæœ¬é¡µå†…å®¹ï¼Œè€Œjsonpçš„æ ¸å¿ƒåˆ™æ˜¯åŠ¨æ€æ·»åŠ &lt;script&gt;æ ‡ç­¾æ¥è°ƒç”¨æœåŠ¡å™¨æä¾›çš„jsè„šæœ¬ã€‚ window.nameæ³¨æ„ï¼Œwindow.nameçš„å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²çš„å¤§å°æœ€å¤§èƒ½å…è®¸2Må·¦å³ç”šè‡³æ›´å¤§çš„ä¸€ä¸ªå®¹é‡ï¼Œå…·ä½“å–å†³äºä¸åŒçš„æµè§ˆå™¨ï¼Œä½†ä¸€èˆ¬æ˜¯å¤Ÿç”¨äº†ã€‚å®ä¾‹ï¼šå‡è®¾æœ‰ä¸‰ä¸ªé¡µé¢ï¼šhttp://a.com/a.html //æ¸´æœ›è·å¾—æ•°æ®çš„é¡µé¢http://a.com/b.html //açš„å…„å¼Ÿé¡µé¢ï¼Œå……å½“ä¸­é—´äººè§’è‰²http://b.com/data.html //ä¸åŒæºçš„æ•°æ®é¡µ http://a.com/a.html,ç›‘å¬iframeçš„onloadäº‹ä»¶ï¼Œåœ¨æ­¤äº‹ä»¶ä¸­è®¾ç½®è¿™ä¸ªiframeçš„srcæŒ‡å‘æœ¬åœ°åŸŸçš„ä»£ç†é¡µé¢http://a.com/b.htmlï¼ˆä»£ç†æ–‡ä»¶å’Œåº”ç”¨é¡µé¢åœ¨åŒä¸€åŸŸä¸‹ï¼Œæ‰€ä»¥å¯ä»¥ç›¸äº’é€šä¿¡ï¼‰åŠ¨æ€åˆ›å»ºiframe 1234567891011121314151617181920212223242526272829&lt;script type=&quot;text/javascript&quot;&gt;var state = 0, iframe = document.createElement(&apos;iframe&apos;);// é€šè¿‡iframeçš„srcä¸data.htmlé€šä¿¡iframe.src = &apos;http://b.com/data.html&apos;;//ç›‘å¬onloadif (iframe.attachEvent) &#123; iframe.attachEvent(&apos;onload&apos;, loadfn);&#125; else &#123; iframe.onload = loadfn;var loadfn = function() &#123; if (state === 0) &#123; state = 1; iframe.contentWindow.location = &quot;http://a.com/b.html&quot;; // è®¾ç½®çš„ä»£ç†é¡µé¢ &#125; else if (state === 1) &#123; var data = iframe.contentWindow.name; // è¯»å–æ•°æ® alert(data); //å¼¹å‡º&apos;data.html!&apos; &#125; &#125;;&lt;/script&gt; â— http://b.com/data.html&lt;script type=&quot;text/javascript&quot;&gt; window.name = &apos;data.html&apos;;&lt;/script&gt; è¿™æ ·å°±å¯ä»¥æˆåŠŸè§£å†³äº†ï¼Œç†ä¸€ä¸‹æ€è·¯ï¼Œåº”è¯¥æ˜¯è¿™æ ·:å……å½“ä¸­é—´äººçš„iframeæƒ³è¦è·å–åˆ°data.htmlçš„é€šè¿‡window.nameè®¾ç½®çš„æ•°æ®ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªiframeçš„srcè®¾ä¸ºwww.cnblogs.com/data.htmlå°±è¡Œäº†ã€‚ç„¶åa.htmlæƒ³è¦å¾—åˆ°iframeæ‰€è·å–åˆ°çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æƒ³è¦å¾—åˆ°iframeçš„window.nameçš„å€¼ï¼Œè¿˜å¿…é¡»æŠŠè¿™ä¸ªiframeçš„srcè®¾æˆè·Ÿa.htmlé¡µé¢åŒä¸€ä¸ªåŸŸæ‰è¡Œ å›¾ç¤ºï¼š HTML5ä¸­æ–°å¼•è¿›çš„window.postMessageæ–¹æ³•åœ¨HTML5ä¸­æ–°å¢äº†postMessageæ–¹æ³•ï¼ŒpostMessageå¯ä»¥å®ç°è·¨æ–‡æ¡£æ¶ˆæ¯ä¼ è¾“ï¼ˆCross Document Messagingï¼‰ï¼ŒInternet Explorer 8, Firefox 3, Opera 9, Chrome 3å’Œ Safari 4éƒ½æ”¯æŒpostMessageã€‚å®ç°ï¼šå‘é€ä¿¡æ¯çš„é¡µé¢http://a.com/a.html12345678910111213141516171819202122232425&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;å®¢æˆ·ç«¯&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; window.onload = function() &#123; window.frames[0].postMessage(&apos;data&apos;, &apos;http://b.com/data.html&apos;); //postMessageæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ•°æ®ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼ŒæŒ‡æ˜ç›®æ ‡çª—å£çš„æºï¼Œå…·ä½“çœ‹MDN &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;iframe id=&quot;child&quot; src=&quot;http://b.com/data.html&quot;&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt;æ¥æ”¶ä¿¡æ¯çš„é¡µé¢http://b.com/data.html// é€šè¿‡ç›‘å¬messageäº‹ä»¶è·å–æ•°æ®window.addEventListener(&apos;message&apos;,function(e)&#123; var e =e||event; alert(e.data); &#125;,false); å›¾ç¤ºï¼š è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ã€‚ å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚ æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORSé€šä¿¡ä¸åŒæºçš„AJAXé€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç°AJAXè¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚å› æ­¤ï¼Œå®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ã€‚åªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡ã€‚å…·ä½“åŸç†å‚è§MDN","categories":[],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://upyang.com/tags/JavaScript/"},{"name":"Jsonp","slug":"Jsonp","permalink":"http://upyang.com/tags/Jsonp/"},{"name":"HTML5","slug":"HTML5","permalink":"http://upyang.com/tags/HTML5/"},{"name":"CORS","slug":"CORS","permalink":"http://upyang.com/tags/CORS/"}]},{"title":"Hello World","slug":"hello-world","date":"2017-07-07T08:00:29.363Z","updated":"2017-07-07T08:00:29.363Z","comments":true,"path":"2017/07/07/hello-world/","link":"","permalink":"http://upyang.com/2017/07/07/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}