{"meta":{"title":"é€”ä¸­äººçš„åšå®¢","subtitle":"ITæŠ€æœ¯åˆ†äº«ï¼","description":null,"author":"é€”ä¸­äºº","url":"http://upyang.com"},"pages":[{"title":"å…³äºæˆ‘","date":"2017-07-08T14:18:02.000Z","updated":"2017-07-17T15:01:25.520Z","comments":true,"path":"about/index.html","permalink":"http://upyang.com/about/index.html","excerpt":"","text":"HTMLä¸ªäººç®€å† PDFä¸ªäººç®€å† å§“åï¼š æ¨é’Š å­¦å†ï¼š é•¿æ±Ÿå¤§å­¦ æœ¬ç§‘ è½¯ä»¶å·¥ç¨‹ Q Qï¼š 1067896503 é‚®ç®±ï¼š 1067896503@qq.com githubï¼š https://github.com/Aaron0525 ä¸ªäººç®€ä»‹ï¼š å¤§å››å­¦ç”Ÿï¼Œæ±‚å®ä¹ å·¥ä½œ! ç›®å‰æŠ€æœ¯æ ˆï¼š å‰ç«¯ï¼šHTML/HTML5ã€CSS/CSS3ã€JavaScriptã€jQueryã€bootstrapã€å¾®ä¿¡å°ç¨‹åº æ¡†æ¶ï¼šVue.js åç«¯ï¼šJavaã€Node.js æ•°æ®åº“ï¼šMySQLã€mongodbã€SqlServer è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼š webpackã€gulp"},{"title":"æˆ‘çš„ä½œå“","date":"2017-08-24T03:04:20.391Z","updated":"2017-08-24T03:04:20.391Z","comments":false,"path":"categories/index.html","permalink":"http://upyang.com/categories/index.html","excerpt":"","text":"@timeline{ è¯¦æƒ…ç´¢å¼•@item{ 2016.10å“åº”å¼ç½‘ç«™åˆ©ç”¨åª’ä½“æŸ¥è¯¢å†™çš„å“åº”å¼ç½‘ç«™ } @item{ 2016.12å€’è®¡æ—¶æ•ˆæœCanvasåˆ¶ä½œçš„å€’è®¡æ—¶æ•ˆæœ } @item{ 2017.4ç§»åŠ¨ç«¯éŸ³ä¹AppVue2.0çŸ¥è¯†æ„å»ºçš„ç§»åŠ¨ç«¯éŸ³ä¹App } @item{ 2017.7Vue2.0æ˜é‡‘AppVue2.0çŸ¥è¯†æ¨¡ä»¿æ˜é‡‘ç§»åŠ¨ç«¯App } }"},{"title":"tags","date":"2017-07-07T10:02:16.000Z","updated":"2017-07-08T10:32:52.698Z","comments":false,"path":"tags/index.html","permalink":"http://upyang.com/tags/index.html","excerpt":"","text":"ä½ å¥½ï¼"}],"posts":[{"title":"å‰ç«¯èŠ‚æµ","slug":"å‰ç«¯èŠ‚æµ","date":"2017-09-07T12:19:17.000Z","updated":"2017-09-07T14:58:25.620Z","comments":true,"path":"2017/09/07/å‰ç«¯èŠ‚æµ/","link":"","permalink":"http://upyang.com/2017/09/07/å‰ç«¯èŠ‚æµ/","excerpt":"","text":"ä»€ä¹ˆæ˜¯å‡½æ•°èŠ‚æµï¼Ÿä»‹ç»å‰ï¼Œå…ˆè¯´ä¸‹èƒŒæ™¯ã€‚å‰ç«¯å¼€å‘ä¸­ï¼Œæµè§ˆå™¨æŸäº›è®¡ç®—å’Œå¤„ç†æ¯”å…¶ä»–çš„æ˜‚è´µå¾ˆå¤šã€‚ä¾‹å¦‚ï¼ŒDOMæ“ä½œæ¯”èµ·éDOMäº¤äº’éœ€è¦æ›´å¤šçš„å†…å­˜å’ŒCPUæ—¶é—´ã€‚è¿ç»­å°è¯•è¿›è¡Œè¿‡å¤šçš„DOMç›¸å…³æ“ä½œå¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨æŒ‚èµ·ï¼Œæœ‰æ—¶ç”šè‡³å´©æºƒã€‚å°¤å…¶åœ¨IEä¸­ä½¿ç”¨onresizeäº‹ä»¶å¤„ç†ç¨‹åºçš„æ—¶å€™å®¹æ˜“å‘ç”Ÿï¼Œå½“è°ƒæ•´æµè§ˆå™¨å¤§å°çš„æ—¶å€™ï¼Œè¯¥shij9ianä¼šè¿ç»­è§¦å‘ã€‚åœ¨onresizeäº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨å¦‚æœå°è¯•è¿›è¡ŒDOMæ“ä½œï¼Œå…¶é«˜é¢‘ç‡çš„æ›´æ”¹å¯èƒ½ä¼šè®©æµè§ˆå™¨å´©æºƒã€‚ä¸ºäº†ç»•å¼€è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å®šæ—¶å™¨å¯¹è¯¥å‡½æ•°è¿›è¡ŒèŠ‚æµã€‚ å‡½æ•°èŠ‚æµçš„åŸç†å‡½æ•°èŠ‚æµèƒŒåçš„åŸºæœ¬æ€æƒ³æ˜¯æŒ‡ï¼ŒæŸäº›ä»£ç ä¸å¯ä»¥åœ¨æ²¡æœ‰é—´æ–­çš„æƒ…å†µè¿ç»­é‡å¤æ‰§è¡Œã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”ä¹‹åè¿è¡Œä»£ç ã€‚å½“ç¬¬äºŒæ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå®ƒä¼šæ¸…é™¤å‰ä¸€æ¬¡çš„å®šæ—¶å™¨å¹¶è®¾ç½®å¦ä¸€ä¸ªã€‚å¦‚æœå‰ä¸€ä¸ªå®šæ—¶å™¨å·²ç»æ‰§è¡Œè¿‡äº†ï¼Œè¿™ä¸ªæ“ä½œå°±æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚ç„¶è€Œï¼Œå¦‚æœå‰ä¸€ä¸ªå®šæ—¶å™¨å°šæœªæ‰§è¡Œï¼Œå…¶å®å°±æ˜¯å°†å…¶æ›¿æ¢ä¸ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ã€‚ç›®çš„æ˜¯åªæœ‰åœ¨æ‰§è¡Œå‡½æ•°çš„è¯·æ±‚åœæ­¢äº†ä¸€æ®µæ—¶é—´ä¹‹åæ‰æ‰§è¡Œã€‚ä»¥ä¸‹æ˜¯è¯¥æ¨¡å¼çš„åŸºæœ¬å½¢å¼ï¼š1234567891011121314151617181920var processor = &#123; timeoutId: null, //å®é™…è¿›è¡Œå¤„ç†çš„æ–¹æ³• performProcessing: function() &#123; //å®é™…æ‰§è¡Œçš„ä»£ç  &#125;, //åˆå§‹å¤„ç†è°ƒç”¨çš„æ–¹æ³• process: function() &#123; clearTimeout(this.timeoutId); var that = this; this.timeoutId = setTimeout(function() &#123; that.performProcessing(); &#125;,100); &#125;&#125;;//å°è¯•å¼€å§‹æ‰§è¡Œprocessor.process(); åœ¨è¿™æ®µä»£ç ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå«åšprocessorå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡è¿˜æœ‰2ä¸ªæ–¹æ³•ï¼šprocess()å’ŒperformProcessing()ã€‚å‰è€…æ˜¯åˆå§‹åŒ–ä»»ä½•å¤„ç†æ‰€å¿…é¡»è°ƒç”¨çš„ï¼Œåè€…åˆ™å®é™…è¿›è¡Œåº”å®Œæˆçš„å¤„ç†ã€‚å½“è°ƒç”¨äº†process()ï¼Œç¬¬ä¸€æ­¥æ˜¯æ¸…é™¤å­˜å¥½çš„timeoutId,æ¥ç»„ç»‡ä¹‹å‰çš„è°ƒç”¨è¢«æ‰§è¡Œã€‚ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨è°ƒç”¨performProcessing()ã€‚ç”±äºsetTimeout()ä¸­ç”¨åˆ°çš„å‡½æ•°çš„ç¯å¢ƒæ€»æ˜¯window,æ‰€ä»¥æœ‰å¿…è¦ä¿å­˜thisçš„å¼•ç”¨ä¸€æ–¹ä¾¿ä»¥åä½¿ç”¨ã€‚æ—¶é—´é—´éš”è®¾ä¸ºäº†100msï¼ŒæŠ˜è¡¨ç¤ºæœ€åä¸€æ¬¡è°ƒç”¨process()ä¹‹åè‡³å°‘100msåæ‰ä¼šè°ƒç”¨performProcessing()ã€‚æ‰€ä»¥å¦‚æœ100msä¹‹å†…è°ƒç”¨äº†process()å…±20æ¬¡ï¼ŒperformProcessing()ä»åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ æ¨¡å¼ç®€åŒ–è¿™ä¸ªæ¨¡å¼å¯ä»¥ä½¿ç”¨throttle()å‡½æ•°æ¥ç®€åŒ–ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥è‡ªåŠ¨è¿›è¡Œå®šæ—¶å™¨çš„è®¾ç½®å’Œæ¸…é™¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š123456function throttle(method,context) &#123; clearTimeout(method.tId); method.tId = setTimeout(function() &#123; method.call(context); &#125;,100)&#125; throttle()å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¦æ‰§è¡Œçš„å‡½æ•°ä»¥åŠåœ¨å“ªä¸ªä½œç”¨åŸŸä¸­æ‰§è¡Œã€‚å®šæ—¶å™¨IDæ˜¯å­˜å‚¨åœ¨å‡½æ•°çš„tIdå±æ€§ä¸­çš„ï¼Œç¬¬ä¸€æ¬¡æŠŠæ–¹æ³•ä¼ é€’ç»™throttle()çš„æ—¶å€™ï¼Œè¿™ä¸ªå±æ€§å¯èƒ½å¹¶ä¸å­˜åœ¨ã€‚æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œå¹¶å°†å…¶IDå­˜å‚¨åœ¨æ–¹æ³•çš„tIdå±æ€§ä¸­ã€‚å®šæ—¶å™¨ä»£ç ä½¿ç”¨call()æ¥ç¡®ä¿æ–¹æ³•åœ¨é€‚å½“çš„ç¯å¢ƒä¸­æ‰§è¡Œã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå°±åœ¨å…¨å±€ä½œç”¨åŸŸå†…æ‰§è¡Œè¯¥æ–¹æ³•ã€‚ å®ä¾‹å‰é¢æåˆ°è¿‡ï¼ŒèŠ‚æµåœ¨resizeäº‹ä»¶ä¸­æ˜¯æœ€å¸¸ç”¨çš„ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸€ä¸ª&lt;div&gt;å…ƒç´ éœ€è¦ä¿æŒå®ƒçš„é«˜åº¦é€‚ä¸­ç­‰åŒäºå®½åº¦ï¼Œå®ç°è¿™ä¸€åŠŸèƒ½çš„javascriptä»£ç ï¼š1234window.onload = function() &#123; var oBox = document.getElementById(&quot;mydiv&quot;); oBox.style.height = oBox.offsetWidth+&apos;px&apos;;&#125; è¿™æ®µç®€çŸ­çš„ä»£ç å¯èƒ½å°±ä¼šé€ æˆæµè§ˆå™¨è¿è¡Œç¼“æ…¢ã€‚é¦–å…ˆï¼Œéœ€è¦è®¡ç®—offsetWidthå±æ€§ï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ æˆ–è€…é¡µé¢ä¸Šæœ‰éå¸¸å¤æ‚çš„CSSæ ·å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹ä¼šå¾ˆå¤æ‚ã€‚å…¶æ¬¡ï¼Œè®¾ç½®æŸä¸ªå…ƒç´ çš„é«˜åº¦éœ€è¦å¯¹é¡µé¢è¿›è¡Œå›æµæ¥ä»¤æ”¹åŠ¨ç”Ÿæ•ˆï¼Œå¦‚æœé¡µé¢æœ‰å¾ˆå¤šå…ƒç´ åŒæ—¶åº”ç”¨äº†ç›¸å½“æ•°é‡çš„CSSçš„è¯ï¼Œè¿™åˆéœ€è¦å¾ˆå¤šè®¡ç®—ã€‚ ä½¿ç”¨throttle()å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š12345678function resizeDiv() &#123; var oBox = document.getElementById(&quot;mydiv&quot;); oBox.style.height = oBox.offsetWidth+&apos;px&apos;;&#125;window.onresize = function () &#123; throttle(resizeDiv);&#125; æ€»ç»“åªè¦ä»£ç æ˜¯å‘¨æœŸæ€§æ‰§è¡Œçš„ï¼Œéƒ½åº”è¯¥ä½¿ç”¨èŠ‚æµï¼Œä½†æ˜¯ä¸èƒ½æ§åˆ¶è¯·æ±‚æ‰§è¡Œçš„é€Ÿç‡ã€‚è¿™é‡Œå±•ç¤ºçš„throttle()å‡½æ•°ç”¨äº†100msä½œä¸ºé—´éš”ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ¥è°ƒæ•´å®ƒã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://upyang.com/tags/javascript/"}]},{"title":"ç®—æ³•ä¸æ•°æ®ç»“æ„","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„","date":"2017-08-26T12:01:51.000Z","updated":"2017-09-05T13:39:00.348Z","comments":true,"path":"2017/08/26/ç®—æ³•ä¸æ•°æ®ç»“æ„/","link":"","permalink":"http://upyang.com/2017/08/26/ç®—æ³•ä¸æ•°æ®ç»“æ„/","excerpt":"","text":"jsæ’åºç®—æ³•æ’å…¥æ’åº åŸç†ï¼šä»æ•°ç»„ç¬¬äºŒä¸ªå€¼å¼€å§‹ï¼Œä¾æ¬¡å°†åç»­çš„æ•°å€¼ç»è¿‡æ¯”è¾ƒæ’å…¥å¸¦å‰é¢å·²æ’å¥½åºçš„æœ‰åºè¡¨ä¸­ã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n^2) æœ€å¥½æƒ…å†µï¼š O(n),æ•°ç»„ä»å°åˆ°å¤§å·²ç»æ’å¥½ æœ€åæƒ…å†µï¼š O(n^2),æ•°ç»„æ˜¯ä»å¤§åˆ°å°çš„é¡ºåº ç¨³å®šæ€§ï¼š ç¨³å®š123456789101112131415function InsertSort(arr) &#123; var result = arr.slice(0); //å¤åˆ¶ä¸€ä¸ªarræ•°ç»„çš„å‰¯æœ¬ //ä»æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹æ¯”è¾ƒï¼Œæ‰€ä»¥ä»i=1å¼€å§‹ for(let i=1;i&lt;=arr.length;i++) &#123; var temp = result[i]; var j = i-1; while(j &gt;= 0 &amp;&amp; temp&lt;result[j]) &#123; result[j+1] =result[j]; j--; &#125; result[j+1]=temp; &#125; return result; &#125; å¿«é€Ÿæ’åº åŸç†ï¼šä»æ•°ç»„ä¸­å–ä¸€ä¸ªå€¼ä¸ºåŸºå‡†å€¼ï¼Œå¹¶å°†å‰©ä¸‹çš„å€¼ä¸ä¹‹æ¯”è¾ƒï¼Œå°äºåŸºå‡†å€¼çš„æ”¾åˆ°å·¦è¾¹ï¼Œå¤§äºåŸºå‡†å€¼çš„æ”¾åˆ°å³è¾¹ï¼Œå¹¶å†æ¬¡å¯¹å·¦å³ä¸¤è¾¹è¿›è¡Œå¿«é€Ÿæ’åºï¼Œç›´è‡³å·¦å³ä¸¤è¾¹åªå‰©ä¸€ä¸ªå…ƒç´ ã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) æœ€å¥½æƒ…å†µï¼š O(nlogn) æœ€åæƒ…å†µï¼š O(n^2) å½“é€‰æ‹©çš„åŸºå‡†å€¼ä¸ºæœ€å¤§å€¼æˆ–æœ€å°å€¼æ—¶ ç¨³å®šæ€§ï¼š ä¸ç¨³å®š12345678910111213141516171819function QuickSort(arr) &#123; var len = arr.length; if(len&lt;+1) &#123; return arr; &#125; //å‘ä¸‹å–æ•´ï¼Œå–å‡ºæ•°ç»„ä¸­é—´çš„å€¼ä½œä¸ºæ¯”è¾ƒçš„å¯¹è±¡ var index = Math.floor(len/2); var temp = arr.splice(index,1)[0]; //åˆ é™¤åˆšå¾—åˆ°çš„æ¯”è¾ƒå¯¹è±¡ï¼Œå–åˆ°æ–°æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  var left=[]; var right=[]; for(let i=0;i&lt;len-1;i++) &#123; if(arr[i]&gt;=temp) &#123; right.push(arr[i]); &#125;else&#123; left.push(arr[i]); &#125; &#125; return QuickSort(left).concat([temp],QuickSort(right)); //é€’å½’å¹¶åˆå¹¶æ•°ç»„ &#125; å†’æ³¡æ’åº åŸç†ï¼šå¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œç›¸é‚»å…ƒç´ æ ¹æ®å¤§å°è¿›è¡Œäº¤æ¢ï¼Œæ¯æ¬¡éå†å°†æœ€å°å€¼æ¨è‡³æœ€å‰æ–¹ï¼Œç„¶åå¯¹å‰©ä¸‹çš„å€¼å†æ¬¡è¿›è¡Œæ¯”è¾ƒã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n^2) æœ€å¥½æƒ…å†µï¼š O(n) æœ€åæƒ…å†µï¼š O(n^2) ç¨³å®šæ€§ï¼š ç¨³å®š1234567891011121314function PopSort(arr) &#123; var len = arr.length; var result = arr.slice(0);//å¤åˆ¶ä¸€ä¸ªarræ•°ç»„çš„å‰¯æœ¬ for(let i=0;i&lt;len;i++) &#123; for(let j=len-1;j&gt;i;j--) &#123; if(result[j] &lt; result[j-1]) &#123; let temp =result[j-1]; result[j-1]=result[j]; result[j]=temp; &#125; &#125; &#125; return result; &#125; é€‰æ‹©æ’åº åŸç†ï¼šä¸å†’æ³¡æ’åºç±»ä¼¼ï¼Œåªä¸è¿‡é€‰æ‹©æ’åºä¸æ˜¯é€šè¿‡ç›¸é‚»å…ƒç´ äº¤æ¢è€Œå°†æœ€å°å€¼â€œå†’æ³¡â€åˆ°é¡¶ç«¯ï¼Œè€Œæ˜¯ä»æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œä¸åé¢çš„çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœåé¢çš„å…ƒç´ éƒ½æ¯”ä»–å¤§ï¼Œåˆ™ä¸éœ€è¦äº¤æ¢ï¼Œå¦‚æœæœ‰æ¯”å…¶å°çš„ï¼Œåˆ™ä¸¤ä¸ªå€¼ç›¸äº’äº¤æ¢ã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n^2) æœ€å¥½æƒ…å†µï¼š O(n^2) æœ€åæƒ…å†µï¼š O(n^2) ç¨³å®šæ€§ï¼š ç¨³å®š1234567891011121314151617function SelectSort(arr) &#123; var len = arr.length; for(let i=0;i&lt;len;i++) &#123; //éå†æ•°ç»„çš„æ¯ä¸€ä¸ªå€¼ï¼Œå¹¶äºå…¶åçš„å€¼æ¯”è¾ƒæ‰¾å‡ºæœ€å°å€¼ä¹‹åäº’æ¢ let k=i; for(let j=i+1;j&lt;len;j++) &#123; if(arr[j]&lt;arr[k]) &#123; k=j; &#125; &#125; if(k!=i) &#123; //å¦‚æœarr[i]å·²ç»æ˜¯æœ€å°çš„åˆ™ä¸éœ€è¦äº’æ¢ var temp=arr[k]; arr[k]=arr[i]; arr[i]=temp; &#125; &#125; return arr;&#125; å½’å¹¶æ’åº åŸç†ï¼šåŸºæœ¬æ€æƒ³æ˜¯åˆ†æ²»ç­–ç•¥ï¼Œå…ˆè¿›è¡Œåˆ’åˆ†å†è¿›è¡Œåˆå¹¶ï¼Œå½’å¹¶çš„å«ä¹‰æ˜¯å°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„æœ‰åºè¡¨ç»„åˆæˆä¸€ä¸ªæ–°çš„æœ‰åºè¡¨ã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) æœ€å¥½æƒ…å†µï¼š O(nlogn) æœ€åæƒ…å†µï¼š O(nlogn) ç¨³å®šæ€§ï¼š ç¨³å®š12345678910111213141516171819202122function MergeSort(arr) &#123; var len = arr.length; if(len &lt; 2) &#123; var index = Math.floor(len / 2); left = arr.slice(0,index); //å¾—åˆ°ä¸‹æ ‡ä»0~index-1çš„æ•°ç»„ right = arr.slice(index); //å¾—åˆ°ä¸‹æ ‡ä»indexå¼€å§‹åˆ°æœ«å°¾çš„æ•°ç»„ return merge(MergeSort(left) , MergeSort(right)); //é‡Œé¢é‡‡ç”¨é€’å½’ &#125;else &#123; return arr; &#125; &#125; function merge(left , right) &#123; //è¯¥å‡½æ•°ä¸å¿«æ’ç±»ä¼¼ï¼Œä½†æ˜¯ä»”ç»†å‘ç°ï¼Œæ¯æ¬¡leftæˆ–è€…rightéƒ½æ˜¯è¦shiftæ‰ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¡¨ç¤ºleftæˆ–è€…rightæ˜¯ä¼šå˜åŒ–çš„ï¼Œæœ€åarr.concatï¼Œå› ä¸ºä¸çŸ¥é“leftæˆ–è€…rightå…¶ä¸­ä¸€ä¸ªå“ªä¸ªå‰©ä¸‹å…ƒç´ ï¼Œæ‰€ä»¥è¦å°†å‰©ä¸‹çš„å…ƒç´ ç»™åŠ ä¸Š var arr = []; while(left.length &amp;&amp; right.length) &#123; if(left[0] &lt; right[0]) &#123; arr.push(left.shift()); &#125;else &#123; arr.push(right.shift()) &#125; &#125; return arr.concat(left , right); &#125; åŸºæ•°æ’åº åŸç†ï¼šåŸºæ•°æ’åºåªæ˜¯é’ˆå¯¹äºæ•°å­—ï¼Œæ€æƒ³å°±æ˜¯å°†æˆ‘ä»¬éœ€è¦å¾…æ’åˆ—çš„å…ƒç´ æŒ‰ç…§æŒ‡å®šçš„è¿›åˆ¶å°†æ¯ä¸€ä½æ’åˆ—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºï¼šP(N+B)ï¼Œæ³¨ï¼šå…¶ä¸­Pä¸ºå¾…æ’åˆ—æ•°å­—çš„æœ€å¤§ä½æ•°ï¼ŒNä¸ºå¾…æ’åºåˆ—çš„é•¿åº¦ï¼ŒBä¸ºè¿›åˆ¶æ•°é¦–å…ˆæˆ‘ä»¬æ¥çœ‹åˆ©ç”¨LSD(æ¬¡ä½ä¼˜å…ˆ)è¿›è¡ŒåŸºæ•°æ’åºã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n*k) æœ€å¥½æƒ…å†µï¼š O(n*k) æœ€åæƒ…å†µï¼š O(n*k) ç¨³å®šæ€§ï¼š ç¨³å®š123456789101112131415161718192021222324function RadixSort(arr,maxDigit) &#123; //maxDigitä½æ•°ç»„å…ƒç´ çš„æœ€å¤§ä½æ•° var mod = 10; var dev = 1; var counter = []; for(let i=0;i&lt;maxDigit;i++,dev *= 10,mod *=10) &#123; for(let j=0;j&lt;arr.length;j++) &#123; var bucket = parseInt((arr[j]%mod)/dev); if(counter[bucket]==null) &#123; counter[bucket] = []; &#125; counter[bucket].push(arr[j]); &#125; var pos = 0; for(let j=0;j&lt;counter.length;j++) &#123; var value = null; if(counter[j]!=null) &#123; while((value=counter[j].shift()) != null) &#123; arr[pos++] = value; &#125; &#125; &#125; &#125; return arr;&#125; å †æ’åº åŸç†ï¼š1.å»ºå †ã€‚å †å®è´¨ä¸Šæ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œå¿…é¡»æ»¡è¶³ï¼šæ ‘ä¸­ä»»ä¸€éå¶å­ç»“ç‚¹çš„å…³é”®å­—å‡ä¸å¤§äºï¼ˆæˆ–ä¸å°äºï¼‰å…¶å·¦å³å­©å­ï¼ˆè‹¥å­˜åœ¨ï¼‰ç»“ç‚¹çš„å…³é”®å­—ã€‚å †åˆ†ä¸ºï¼šå¤§æ ¹å †å’Œå°æ ¹å †ï¼Œå‡åºæ’åºé‡‡ç”¨å¤§æ ¹å †ï¼Œé™åºæ’åºé‡‡ç”¨å°æ ¹å †ã€‚å¦‚æœæ˜¯å¤§æ ¹å †ï¼Œåˆ™é€šè¿‡è°ƒæ•´å‡½æ•°å°†å€¼æœ€å¤§çš„èŠ‚ç‚¹è°ƒæ•´è‡³å †æ ¹ã€‚2.å°†å †æ ¹ä¿å­˜äºå°¾éƒ¨ï¼Œå¹¶å¯¹å‰©ä½™åºåˆ—è°ƒç”¨è°ƒæ•´å‡½æ•°ï¼Œè°ƒæ•´å®Œæˆåï¼Œå†å°†æœ€å¤§è·Ÿä¿å­˜äºå°¾éƒ¨-1ï¼ˆ-1ï¼Œ-2ï¼Œâ€¦ï¼Œ-iï¼‰ï¼Œå†å¯¹å‰©ä½™åºåˆ—è¿›è¡Œè°ƒæ•´ï¼Œåå¤è¿›è¡Œè¯¥è¿‡ç¨‹ï¼Œç›´è‡³æ’åºå®Œæˆã€‚ å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n*log2n) æœ€å¥½æƒ…å†µï¼š O(n*log2n) æœ€åæƒ…å†µï¼š O(n*log2n) ç¨³å®šæ€§ï¼š ä¸ç¨³å®š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061function headAdjust(elements, pos, len)&#123; //å°†å½“å‰èŠ‚ç‚¹å€¼è¿›è¡Œä¿å­˜ var swap = elements[pos]; //å®šä½åˆ°å½“å‰èŠ‚ç‚¹çš„å·¦è¾¹çš„å­èŠ‚ç‚¹ var child = pos * 2 + 1; //é€’å½’ï¼Œç›´è‡³æ²¡æœ‰å­èŠ‚ç‚¹ä¸ºæ­¢ while(child &lt; len)&#123; //å¦‚æœå½“å‰èŠ‚ç‚¹æœ‰å³è¾¹çš„å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”å³å­èŠ‚ç‚¹è¾ƒå¤§çš„åœºåˆï¼Œé‡‡ç”¨å³å­èŠ‚ç‚¹ //å’Œå½“å‰èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒ if(child + 1 &lt; len &amp;&amp; elements[child] &lt; elements[child + 1])&#123; child += 1; &#125; //æ¯”è¾ƒå½“å‰èŠ‚ç‚¹å’Œæœ€å¤§çš„å­èŠ‚ç‚¹ï¼Œå°äºåˆ™è¿›è¡Œå€¼äº¤æ¢ï¼Œäº¤æ¢åå°†å½“å‰èŠ‚ç‚¹å®šä½ //äºå­èŠ‚ç‚¹ä¸Š if(elements[pos] &lt; elements[child])&#123; elements[pos] = elements[child]; pos = child; child = pos * 2 + 1; &#125; else&#123; break; &#125; elements[pos] = swap; &#125;&#125;//æ„å»ºå †function buildHeap(elements)&#123; //ä»æœ€åä¸€ä¸ªæ‹¥æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹å¼€å§‹ï¼Œå°†è¯¥èŠ‚ç‚¹è¿åŒå…¶å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œ //å°†æœ€å¤§çš„æ•°äº¤æ¢ä¸è¯¥èŠ‚ç‚¹,äº¤æ¢åï¼Œå†ä¾æ¬¡å‘å‰èŠ‚ç‚¹è¿›è¡Œç›¸åŒäº¤æ¢å¤„ç†ï¼Œ //ç›´è‡³æ„å»ºå‡ºå¤§é¡¶å †ï¼ˆå‡åºä¸ºå¤§é¡¶ï¼Œé™åºä¸ºå°é¡¶ï¼‰ for(var i=elements.length/2; i&gt;=0; i--)&#123; headAdjust(elements, i, elements.length); &#125;&#125;function sort(elements)&#123; //æ„å»ºå † buildHeap(elements); //ä»æ•°åˆ—çš„å°¾éƒ¨å¼€å§‹è¿›è¡Œè°ƒæ•´ for(var i=elements.length-1; i&gt;0; i--)&#123; //å †é¡¶æ°¸è¿œæ˜¯æœ€å¤§å…ƒç´ ï¼Œæ•…ï¼Œå°†å †é¡¶å’Œå°¾éƒ¨å…ƒç´ äº¤æ¢ï¼Œå°† //æœ€å¤§å…ƒç´ ä¿å­˜äºå°¾éƒ¨ï¼Œå¹¶ä¸”ä¸å‚ä¸åé¢çš„è°ƒæ•´ var swap = elements[i]; elements[i] = elements[0]; elements[0] = swap; //è¿›è¡Œè°ƒæ•´ï¼Œå°†æœ€å¤§ï¼‰å…ƒç´ è°ƒæ•´è‡³å †é¡¶ headAdjust(elements, 0, i); &#125;&#125;var elements = [3, 1, 5, 7, 2, 4, 9, 6, 10, 8];console.log(&apos;before: &apos; + elements);sort(elements);console.log(&apos; after: &apos; + elements); æ•°ç»„å»é‡æ–¹æ³•ä¸€åŸç†ï¼šfindInArrå‡½æ•°ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªæ•°åœ¨å½“å‰æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨è¿”å›true,æ‰¾å®Œæ‰€æœ‰æ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›falseï¼Œè¿™ä¸ªæ•°å°±æ˜¯æˆ‘ä»¬è¦æ“ä½œçš„é‚£ä¸ªæ•°ç»„ã€‚selectï¼Œå¾ªç¯æ•°ç»„ï¼Œå¹¶è°ƒç”¨findInArræ–¹æ³• æŸ¥æ‰¾å½“å‰arr[i]åœ¨arr2ä¸­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœè¿”å›false é‚£ä¹ˆå°±æŠŠå½“å‰è¿™ä¸ªæ•° arr[i] ï¼Œpushåˆ°æ–°çš„æ•°ç»„ arr2ä¸­ï¼Œæœ€åreturn arr2ã€‚1234567891011121314151617function findInArr(n,arr) &#123; for(let i=0;i&lt;arr.length;i++) &#123; if(n == arr[i]) &#123; return true; &#125; &#125; return false;&#125;function select(arr) &#123; var arr2 = []; for(let i=0;i&lt;arr.length;i++) &#123; if(!findInArr(arr[i],arr2)) &#123; arr2.push(arr[i]); &#125; &#125; return arr2;&#125; æ–¹æ³•äºŒåŸç†ï¼šåˆ©ç”¨jsonç‰¹æ€§ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„jsonï¼Œé€šè¿‡å¯¹keyçš„æ£€ç´¢ï¼Œâ€”&gt; !json[arr[i]],å–åè¯´æ˜ä¸å­˜åœ¨è¿™æ ·æˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œèµ‹å€¼ï¼Œjson[arr[i]] = true; å¯¹äºèµ‹ä»€ä¹ˆå€¼ï¼Œéšæ„ï¼Œä¿è¯å®ƒçš„é”®å€¼å¯¹å°±è¡Œå¹¶ä¸”æŠŠå½“å‰è¿™ä¸ªæ•°push æˆ–è€…å…¶ä»–æ–¹å¼éƒ½è¡Œ ï¼Œæ€»æ˜¯æ·»åŠ åˆ°æ–°æ•°ç»„ arr2ä¸­ï¼Œæœ€åreturn arr2ã€‚1234567891011function Jsonselect(arr) &#123; var json =&#123;&#125;; var arr2 = []; for(let i=0;i&lt;arr.length;i++) &#123; if(!json[arr[i]]) &#123; json[arr[i]] = true; arr2.push(arr[i]); &#125; &#125; return arr2;&#125; äºŒå‰æ ‘çš„éå†äºŒå‰æ ‘çš„éå†æŒ‡çš„æ˜¯æŒ‰ç…§æŸç§é¡ºåºï¼Œä¾æ¬¡è®¿é—®äºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œæœ‰ä¸”è®¿é—®ä¸€æ¬¡ã€‚äºŒå‰æ ‘çš„éå†æœ‰ä»¥ä¸‹ä¸‰ç§:ï¼ˆ1ï¼‰å‰åºéå†ï¼Œä»æ ¹èŠ‚ç‚¹ï¼Œåˆ°å·¦å­æ ‘ï¼Œå†åˆ°å³å­æ ‘ï¼Œç®€ç§°æ ¹å·¦å³ã€‚ï¼ˆ2ï¼‰ä¸­åºéå†ï¼Œä»å·¦èŠ‚ç‚¹ï¼Œåˆ°æ ¹èŠ‚ç‚¹ï¼Œå†åˆ°å³å­æ ‘ï¼Œç®€ç§°å·¦æ ¹å³ã€‚ï¼ˆ3ï¼‰ååºéå†ï¼Œä»å·¦å­æ ‘ï¼Œåˆ°å³å­æ ‘ï¼Œå†åˆ°æ ¹èŠ‚ç‚¹ï¼Œç®€ç§°å·¦å³æ ¹ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; *&#123; margin: 0; padding: 0; &#125; .wrap&#123; display: flex; border:1px solid #000; width: 600px; margin:0 auto; height: 150px; align-items: center; justify-content:center; &#125; .wrap div&#123; display: flex; height: 70%; width: 44%; margin:0 3%; border:1px solid #000; justify-content:center; align-items: center; background: #fff; &#125; .btn-wrap&#123; text-align: center; padding-top: 20px; &#125; .btn-wrap button&#123; display: inline-block; padding:4px 10px; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;wrap&quot;&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;btn-wrap&quot;&gt; &lt;button&gt;å‰åº&lt;/button&gt; &lt;button&gt;ä¸­åº&lt;/button&gt; &lt;button&gt;ååº&lt;/button&gt; &lt;/div&gt; &lt;script&gt; var wrap = document.querySelector(&quot;.wrap&quot;); var btn_wrap = document.querySelector(&quot;.btn-wrap&quot;); var btn1 = btn_wrap.querySelectorAll(&quot;button&quot;)[0]; var btn2 = btn_wrap.querySelectorAll(&quot;button&quot;)[1]; var btn3 = btn_wrap.querySelectorAll(&quot;button&quot;)[2]; var arr = []; var last; var toggle = false; //ç»™æŒ‰é’®ç»‘å®šäº‹ä»¶ btn1.onclick = function()&#123; if(!toggle)&#123; toggle = true; reset(); preOrder(wrap); showWay(); &#125; &#125; btn2.onclick = function()&#123; if(!toggle)&#123; toggle = true; reset(); inOrder(wrap); showWay(); &#125; &#125; btn3.onclick = function()&#123; if(!toggle)&#123; toggle = true; reset(); postOrder(wrap); showWay(); &#125; &#125; //äºŒå‰æ ‘çš„éå†çš„ä¸‰ç§æ–¹å¼ //(1)å‰åºéå†ï¼ˆDLR function preOrder(node)&#123; if(node)&#123; arr.push(node); preOrder(node.firstElementChild); preOrder(node.lastElementChild); &#125; &#125; //(2)ä¸­åºéå†ï¼ˆLDRï¼‰ function inOrder(node)&#123; if(node)&#123; inOrder(node.firstElementChild); arr.push(node); inOrder(node.lastElementChild); &#125; &#125; //(3)ååºéå†ï¼ˆLRDï¼‰ function postOrder(node)&#123; if(node)&#123; postOrder(node.firstElementChild); postOrder(node.lastElementChild); arr.push(node); &#125; &#125; //æ˜¾ç¤ºéå†çš„è¿‡ç¨‹ function showWay()&#123; for(var i=0; i&lt;arr.length; i++)&#123; setTimeout(function(i)&#123; return function()&#123; if(i == arr.length-1)&#123; toggle = false; &#125; if(last)&#123; last.style.background = &quot;white&quot;; &#125; arr[i].style.background = &quot;red&quot;; last = arr[i]; &#125; &#125;(i),i*1000) &#125; &#125; //åˆå§‹åŒ– function reset()&#123; arr = []; if(last)&#123; last.style.background = &quot;white&quot;; &#125; &#125; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; æ€»ç»“ä½œä¸ºå‰ç«¯å¼€å‘è€…è€Œè¨€ï¼Œå¯èƒ½ä¸ä¼šåƒåç«¯å¼€å‘é‚£æ ·é‡åˆ°å¾ˆå¤šçš„ç®—æ³•å’Œæ•°æ®ç»“æ„é—®é¢˜ï¼Œä½†æ˜¯ä¸è®ºæ˜¯åšå‰ç«¯ã€ æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯ï¼Œ ä»»ä½•ä¸€ä¸ªç¨‹åºå‘˜éƒ½ä¼šå¼€å§‹é¢å¯¹æ›´åŠ å¤æ‚çš„é—®é¢˜ï¼Œ è¿™ä¸ªæ—¶å€™ç®—æ³•å’Œæ•°æ®ç»“æ„çŸ¥è¯†å°±å˜å¾—ä¸å¯æˆ–ç¼ºï¼Œå®ƒæ˜¯ç¼–ç¨‹èƒ½åŠ›ä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://upyang.com/tags/javascript/"}]},{"title":"canvaså€’è®¡æ—¶æ•ˆæœ","slug":"canvas","date":"2017-08-22T09:49:26.000Z","updated":"2017-08-24T03:33:11.377Z","comments":true,"path":"2017/08/22/canvas/","link":"","permalink":"http://upyang.com/2017/08/22/canvas/","excerpt":"","text":"Canvas-å€’è®¡æ—¶æ•ˆæœğŸ‘‰ githubï¼š https://github.com/Aaron0525/canvas ğŸ‘‰ æ¼”ç¤ºåœ°å€: http://www.upyang.com/canvas/ Canvasæ¦‚è¿°Canvas APIï¼ˆç”»å¸ƒï¼‰ç”¨äºåœ¨ç½‘é¡µå®æ—¶ç”Ÿæˆå›¾åƒï¼Œå¹¶ä¸”å¯ä»¥æ“ä½œå›¾åƒå†…å®¹ï¼Œcanvasæœ¬èº«æ²¡æœ‰ç»˜å›¾èƒ½åŠ›ï¼Œéœ€è¦javascriptè„šæœ¬æ¥æ‰§è¡Œç»˜å›¾ã€‚ ä½¿ç”¨å‰ï¼Œé¦–å…ˆéœ€è¦æ–°å»ºä¸€ä¸ª&lt;canvas&gt;ç½‘é¡µå…ƒç´ ã€‚123&lt;canvas id=&quot;myCanvas&quot; width=&quot;400&quot; height=&quot;200&quot;&gt; æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼&lt;/canvas&gt; ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒè¿™ä¸ªAPIï¼Œåˆ™å°±ä¼šæ˜¾ç¤º&lt;canvas&gt;æ ‡ç­¾ä¸­é—´çš„æ–‡å­—â€”â€”â€œæ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼â€ã€‚ æ¯ä¸ªcanvasèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„contextå¯¹è±¡ï¼ˆä¸Šä¸‹æ–‡å¯¹è±¡ï¼‰ï¼ŒCanvas APIå®šä¹‰åœ¨è¿™ä¸ªcontextå¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥éœ€è¦è·å–è¿™ä¸ªå¯¹è±¡ï¼Œæ–¹æ³•æ˜¯ä½¿ç”¨getContextæ–¹æ³•ã€‚12345var canvas = document.getElementById(&apos;myCanvas&apos;);if (canvas.getContext) &#123; var ctx = canvas.getContext(&apos;2d&apos;);&#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒgetContextæ–¹æ³•æŒ‡å®šå‚æ•°2dï¼Œè¡¨ç¤ºè¯¥canvasèŠ‚ç‚¹ç”¨äºç”Ÿæˆ2Då›¾æ¡ˆï¼ˆå³å¹³é¢å›¾æ¡ˆï¼‰ã€‚å¦‚æœå‚æ•°æ˜¯webglï¼Œå°±è¡¨ç¤ºç”¨äºç”Ÿæˆ3Då›¾åƒï¼ˆå³ç«‹ä½“å›¾æ¡ˆï¼‰ï¼Œè¿™éƒ¨åˆ†å®é™…ä¸Šå•ç‹¬å«åšWebGL APIï¼ˆæœ¬æ–‡ä¸æ¶‰åŠï¼‰ã€‚ ç»˜å›¾æ–¹æ³•canvasç”»å¸ƒæä¾›äº†ä¸€ä¸ªç”¨æ¥ä½œå›¾çš„å¹³é¢ç©ºé—´ï¼Œè¯¥ç©ºé—´çš„æ¯ä¸ªç‚¹éƒ½æœ‰è‡ªå·±çš„åæ ‡ï¼Œxè¡¨ç¤ºæ¨ªåæ ‡ï¼Œyè¡¨ç¤ºç«–åæ ‡ã€‚åŸç‚¹(0, 0)ä½äºå›¾åƒå·¦ä¸Šè§’ï¼Œxè½´çš„æ­£å‘æ˜¯åŸç‚¹å‘å³ï¼Œyè½´çš„æ­£å‘æ˜¯åŸç‚¹å‘ä¸‹ã€‚ ç»˜åˆ¶è·¯å¾„beginPathæ–¹æ³•è¡¨ç¤ºå¼€å§‹ç»˜åˆ¶è·¯å¾„ï¼ŒmoveTo(x, y)æ–¹æ³•è®¾ç½®çº¿æ®µçš„èµ·ç‚¹ï¼ŒlineTo(x, y)æ–¹æ³•è®¾ç½®çº¿æ®µçš„ç»ˆç‚¹ï¼Œstrokeæ–¹æ³•ç”¨æ¥ç»™é€æ˜çš„çº¿æ®µç€è‰²ã€‚123456ctx.beginPath(); // å¼€å§‹è·¯å¾„ç»˜åˆ¶ctx.moveTo(20, 20); // è®¾ç½®è·¯å¾„èµ·ç‚¹ï¼Œåæ ‡ä¸º(20,20)ctx.lineTo(200, 20); // ç»˜åˆ¶ä¸€æ¡åˆ°(200,20)çš„ç›´çº¿ctx.lineWidth = 1.0; // è®¾ç½®çº¿å®½ctx.strokeStyle = &apos;#CC0000&apos;; // è®¾ç½®çº¿çš„é¢œè‰²ctx.stroke(); // è¿›è¡Œçº¿çš„ç€è‰²ï¼Œè¿™æ—¶æ•´æ¡çº¿æ‰å˜å¾—å¯è§ movetoå’Œlinetoæ–¹æ³•å¯ä»¥å¤šæ¬¡ä½¿ç”¨ã€‚æœ€åï¼Œè¿˜å¯ä»¥ä½¿ç”¨closePathæ–¹æ³•ï¼Œè‡ªåŠ¨ç»˜åˆ¶ä¸€æ¡å½“å‰ç‚¹åˆ°èµ·ç‚¹çš„ç›´çº¿ï¼Œå½¢æˆä¸€ä¸ªå°é—­å›¾å½¢ï¼Œçœå´ä½¿ç”¨ä¸€æ¬¡linetoæ–¹æ³•ã€‚ ç»˜åˆ¶çŸ©å½¢fillRect(x, y, width, height)æ–¹æ³•ç”¨æ¥ç»˜åˆ¶çŸ©å½¢ï¼Œå®ƒçš„å››ä¸ªå‚æ•°åˆ†åˆ«ä¸ºçŸ©å½¢å·¦ä¸Šè§’é¡¶ç‚¹çš„xåæ ‡ã€yåæ ‡ï¼Œä»¥åŠçŸ©å½¢çš„å®½å’Œé«˜ã€‚fillStyleå±æ€§ç”¨æ¥è®¾ç½®çŸ©å½¢çš„å¡«å……è‰²ã€‚12ctx.fillStyle = &apos;yellow&apos;;ctx.fillRect(50, 50, 200, 100); strokeRectæ–¹æ³•ä¸fillRectç±»ä¼¼ï¼Œç”¨æ¥ç»˜åˆ¶ç©ºå¿ƒçŸ©å½¢ã€‚1ctx.strokeRect(10,10,200,100); clearRectæ–¹æ³•ç”¨æ¥æ¸…é™¤æŸä¸ªçŸ©å½¢åŒºåŸŸçš„å†…å®¹ã€‚1ctx.clearRect(100,50,50,50); ç»˜åˆ¶æ–‡æœ¬illText(string, x, y) ç”¨æ¥ç»˜åˆ¶æ–‡æœ¬ï¼Œå®ƒçš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸ºæ–‡æœ¬å†…å®¹ã€èµ·ç‚¹çš„xåæ ‡ã€yåæ ‡ã€‚ä½¿ç”¨ä¹‹å‰ï¼Œéœ€ç”¨fontè®¾ç½®å­—ä½“ã€å¤§å°ã€æ ·å¼ï¼ˆå†™æ³•ç±»ä¼¼ä¸CSSçš„fontå±æ€§ï¼‰ã€‚ä¸æ­¤ç±»ä¼¼çš„è¿˜æœ‰strokeTextæ–¹æ³•ï¼Œç”¨æ¥æ·»åŠ ç©ºå¿ƒå­—ã€‚12345678910// è®¾ç½®å­—ä½“ctx.font = &quot;Bold 20px Arial&quot;;// è®¾ç½®å¯¹é½æ–¹å¼ctx.textAlign = &quot;left&quot;;// è®¾ç½®å¡«å……é¢œè‰²ctx.fillStyle = &quot;#008600&quot;;// è®¾ç½®å­—ä½“å†…å®¹ï¼Œä»¥åŠåœ¨ç”»å¸ƒä¸Šçš„ä½ç½®ctx.fillText(&quot;Hello!&quot;, 10, 50);// ç»˜åˆ¶ç©ºå¿ƒå­—ctx.strokeText(&quot;Hello!&quot;, 10, 100); fillTextæ–¹æ³•ä¸æ”¯æŒæ–‡æœ¬æ–­è¡Œï¼Œå³æ‰€æœ‰æ–‡æœ¬å‡ºç°åœ¨ä¸€è¡Œå†…ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¦ç”Ÿæˆå¤šè¡Œæ–‡æœ¬ï¼Œåªæœ‰è°ƒç”¨å¤šæ¬¡fillTextæ–¹æ³•ã€‚ ç»˜åˆ¶åœ†å½¢å’Œæ‰‡å½¢arcæ–¹æ³•ç”¨æ¥ç»˜åˆ¶æ‰‡å½¢ã€‚1ctx.arc(x, y, radius, startAngle, endAngle, anticlockwise); arcæ–¹æ³•çš„xå’Œyå‚æ•°æ˜¯åœ†å¿ƒåæ ‡ï¼Œradiusæ˜¯åŠå¾„ï¼ŒstartAngleå’ŒendAngleåˆ™æ˜¯æ‰‡å½¢çš„èµ·å§‹è§’åº¦å’Œç»ˆæ­¢è§’åº¦ï¼ˆä»¥å¼§åº¦è¡¨ç¤ºï¼‰ï¼Œanticlockwiseè¡¨ç¤ºåšå›¾æ—¶åº”è¯¥é€†æ—¶é’ˆç”»ï¼ˆtrueï¼‰è¿˜æ˜¯é¡ºæ—¶é’ˆç”»ï¼ˆfalseï¼‰ã€‚ ä¸‹é¢æ˜¯å¦‚ä½•ç»˜åˆ¶å®å¿ƒçš„åœ†å½¢ã€‚1234ctx.beginPath();ctx.arc(60, 60, 50, 0, Math.PI*2, true);ctx.fillStyle = &quot;#000000&quot;;ctx.fill(); ç»˜åˆ¶ç©ºå¿ƒåœ†å½¢çš„ä¾‹å­ã€‚12345ctx.beginPath();ctx.arc(60, 60, 50, 0, Math.PI*2, true);ctx.lineWidth = 1.0;ctx.strokeStyle = &quot;#000&quot;;ctx.stroke(); è®¾ç½®æ¸å˜è‰²createLinearGradientæ–¹æ³•ç”¨æ¥è®¾ç½®æ¸å˜è‰²ã€‚12345var myGradient = ctx.createLinearGradient(0, 0, 0, 160);myGradient.addColorStop(0, &quot;#BABABA&quot;);myGradient.addColorStop(1, &quot;#636363&quot;); createLinearGradientæ–¹æ³•çš„å‚æ•°æ˜¯(x1, y1, x2, y2)ï¼Œå…¶ä¸­x1å’Œy1æ˜¯èµ·ç‚¹åæ ‡ï¼Œx2å’Œy2æ˜¯ç»ˆç‚¹åæ ‡ã€‚é€šè¿‡ä¸åŒçš„åæ ‡å€¼ï¼Œå¯ä»¥ç”Ÿæˆä»ä¸Šè‡³ä¸‹ã€ä»å·¦åˆ°å³çš„æ¸å˜ç­‰ç­‰ã€‚ ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š12ctx.fillStyle = myGradient;ctx.fillRect(10,10,200,100); è®¾ç½®é˜´å½±ä¸€ç³»åˆ—ä¸é˜´å½±ç›¸å…³çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥è®¾ç½®é˜´å½±ã€‚1234567ctx.shadowOffsetX = 10; // è®¾ç½®æ°´å¹³ä½ç§»ctx.shadowOffsetY = 10; // è®¾ç½®å‚ç›´ä½ç§»ctx.shadowBlur = 5; // è®¾ç½®æ¨¡ç³Šåº¦ctx.shadowColor = &quot;rgba(0,0,0,0.5)&quot;; // è®¾ç½®é˜´å½±é¢œè‰²ctx.fillStyle = &quot;#CC0000&quot;;ctx.fillRect(10,10,200,100); å›¾åƒå¤„ç†æ–¹æ³•drawImageæ–¹æ³•Canvas API å…è®¸å°†å›¾åƒæ–‡ä»¶æ’å…¥ç”»å¸ƒï¼Œåšæ³•æ˜¯è¯»å–å›¾ç‰‡åï¼Œä½¿ç”¨drawImageæ–¹æ³•åœ¨ç”»å¸ƒå†…è¿›è¡Œé‡ç»˜123var img = new Image();img.src = &apos;image.png&apos;;ctx.drawImage(img, 0, 0); // è®¾ç½®å¯¹åº”çš„å›¾åƒå¯¹è±¡ï¼Œä»¥åŠå®ƒåœ¨ç”»å¸ƒä¸Šçš„ä½ç½® ä¸Šé¢ä»£ç å°†ä¸€ä¸ªPNGå›¾åƒè½½å…¥ç”»å¸ƒã€‚drawImage()æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›¾åƒæ–‡ä»¶çš„DOMå…ƒç´ ï¼ˆå³&lt;img&gt;èŠ‚ç‚¹ï¼‰ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å›¾åƒå·¦ä¸Šè§’åœ¨ç”»å¸ƒä¸­çš„åæ ‡ï¼Œä¸Šä¾‹ä¸­çš„(0, 0)å°±è¡¨ç¤ºå°†å›¾åƒå·¦ä¸Šè§’æ”¾ç½®åœ¨ç”»å¸ƒçš„å·¦ä¸Šè§’ã€‚ ç”±äºå›¾åƒçš„è½½å…¥éœ€è¦æ—¶é—´ï¼ŒdrawImageæ–¹æ³•åªèƒ½åœ¨å›¾åƒå®Œå…¨è½½å…¥åæ‰èƒ½è°ƒç”¨ï¼Œå› æ­¤ä¸Šé¢çš„ä»£ç éœ€è¦æ”¹å†™ã€‚12345678910111213var image = new Image();image.onload = function() &#123; var canvas = document.createElement(&apos;canvas&apos;); canvas.width = image.width; canvas.height = image.height; canvas.getContext(&apos;2d&apos;).drawImage(image, 0, 0); // æ’å…¥é¡µé¢åº•éƒ¨ document.body.appendChild(image); return canvas;&#125;image.src = &apos;image.png&apos;; getImageDataã€putImageDataæ–¹æ³•getImageDataæ–¹æ³•å¯ä»¥ç”¨æ¥è¯»å–Canvasçš„å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†æ¯ä¸ªåƒç´ çš„ä¿¡æ¯ã€‚1var imageData = context.getImageData(0, 0, canvas.width, canvas.height); imageDataå¯¹è±¡æœ‰ä¸€ä¸ªdataå±æ€§ï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ã€‚è¯¥æ•°ç»„çš„å€¼ï¼Œä¾æ¬¡æ˜¯æ¯ä¸ªåƒç´ çš„çº¢ã€ç»¿ã€è“ã€alphaé€šé“å€¼ï¼Œå› æ­¤è¯¥æ•°ç»„çš„é•¿åº¦ç­‰äº å›¾åƒçš„åƒç´ å®½åº¦ x å›¾åƒçš„åƒç´ é«˜åº¦ x 4ï¼Œæ¯ä¸ªå€¼çš„èŒƒå›´æ˜¯0â€“255ã€‚è¿™ä¸ªæ•°ç»„ä¸ä»…å¯è¯»ï¼Œè€Œä¸”å¯å†™ï¼Œå› æ­¤é€šè¿‡æ“ä½œè¿™ä¸ªæ•°ç»„çš„å€¼ï¼Œå°±å¯ä»¥è¾¾åˆ°æ“ä½œå›¾åƒçš„ç›®çš„ã€‚ä¿®æ”¹è¿™ä¸ªæ•°ç»„ä»¥åï¼Œä½¿ç”¨putImageDataæ–¹æ³•å°†æ•°ç»„å†…å®¹é‡æ–°ç»˜åˆ¶åœ¨Canvasä¸Šã€‚1context.putImageData(imageData, 0, 0); toDataURLæ–¹æ³•å¯¹å›¾åƒæ•°æ®åšå‡ºä¿®æ”¹ä»¥åï¼Œå¯ä»¥ä½¿ç”¨toDataURLæ–¹æ³•ï¼Œå°†Canvasæ•°æ®é‡æ–°è½¬åŒ–æˆä¸€èˆ¬çš„å›¾åƒæ–‡ä»¶å½¢å¼ã€‚12345function convertCanvasToImage(canvas) &#123; var image = new Image(); image.src = canvas.toDataURL(&apos;image/png&apos;); return image;&#125; ä¸Šé¢çš„ä»£ç å°†Canvasæ•°æ®ï¼Œè½¬åŒ–æˆPNG data URIã€‚ saveã€restoreæ–¹æ³•saveæ–¹æ³•ç”¨äºä¿å­˜ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œrestoreæ–¹æ³•ç”¨äºæ¢å¤åˆ°ä¸Šä¸€æ¬¡ä¿å­˜çš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚1234567891011121314ctx.save();ctx.shadowOffsetX = 10;ctx.shadowOffsetY = 10;ctx.shadowBlur = 5;ctx.shadowColor = &apos;rgba(0,0,0,0.5)&apos;;ctx.fillStyle = &apos;#CC0000&apos;;ctx.fillRect(10,10,150,100);ctx.restore();ctx.fillStyle = &apos;#000000&apos;;ctx.fillRect(180,10,150,100); ä¸Šé¢ä»£ç å…ˆç”¨saveæ–¹æ³•ï¼Œä¿å­˜äº†å½“å‰è®¾ç½®ï¼Œç„¶åç»˜åˆ¶äº†ä¸€ä¸ªæœ‰é˜´å½±çš„çŸ©å½¢ã€‚æ¥ç€ï¼Œä½¿ç”¨restoreæ–¹æ³•ï¼Œæ¢å¤äº†ä¿å­˜å‰çš„è®¾ç½®ï¼Œç»˜åˆ¶äº†ä¸€ä¸ªæ²¡æœ‰é˜´å½±çš„çŸ©å½¢ã€‚ åŠ¨ç”»åˆ©ç”¨JavaScriptï¼Œå¯ä»¥åœ¨canvaså…ƒç´ ä¸Šå¾ˆå®¹æ˜“åœ°äº§ç”ŸåŠ¨ç”»æ•ˆæœã€‚1234567891011121314151617var posX = 20, posY = 100;setInterval(function() &#123; context.fillStyle = &quot;black&quot;; context.fillRect(0,0,canvas.width, canvas.height); posX += 1; posY += 0.25; context.beginPath(); context.fillStyle = &quot;white&quot;; context.arc(posX, posY, 10, 0, Math.PI*2, true); context.closePath(); context.fill();&#125;, 30); ä¸Šé¢ä»£ç ä¼šäº§ç”Ÿä¸€ä¸ªå°åœ†ç‚¹ï¼Œæ¯éš”30æ¯«ç§’å°±å‘å³ä¸‹æ–¹ç§»åŠ¨çš„æ•ˆæœã€‚setIntervalå‡½æ•°çš„ä¸€å¼€å§‹ï¼Œä¹‹æ‰€ä»¥è¦å°†ç”»å¸ƒé‡æ–°æ¸²æŸ“é»‘è‰²åº•è‰²ï¼Œæ˜¯ä¸ºäº†æŠ¹å»ä¸Šä¸€æ­¥çš„å°åœ†ç‚¹ã€‚ é€šè¿‡è®¾ç½®åœ†å¿ƒåæ ‡ï¼Œå¯ä»¥äº§ç”Ÿå„ç§è¿åŠ¨è½¨è¿¹ã€‚ å…ˆä¸Šå‡åä¸‹é™ã€‚12345678910var vx = 10, vy = -10, gravity = 1;setInterval(function() &#123; posX += vx; posY += vy; vy += gravity; // ...&#125;); ä¸Šé¢ä»£ç ä¸­ï¼Œxåæ ‡å§‹ç»ˆå¢å¤§ï¼Œè¡¨ç¤ºæŒç»­å‘å³è¿åŠ¨ã€‚yåæ ‡å…ˆå˜å°ï¼Œç„¶ååœ¨é‡åŠ›ä½œç”¨ä¸‹ï¼Œä¸æ–­å¢å¤§ï¼Œè¡¨ç¤ºå…ˆä¸Šå‡åä¸‹é™ã€‚ å°çƒä¸æ–­åå¼¹åï¼Œé€æ­¥è¶‹äºé™æ­¢ã€‚1234567891011121314151617var vx = 10, vy = -10, gravity = 1;setInterval(function() &#123; posX += vx; posY += vy; if (posY &gt; canvas.height * 0.75) &#123; vy *= -0.6; vx *= 0.75; posY = canvas.height * 0.75; &#125; vy += gravity; // ...&#125;); ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä¸€æ—¦å°çƒçš„yåæ ‡å¤„äºå±å¹•ä¸‹æ–¹75%çš„ä½ç½®ï¼Œå‘xè½´ç§»åŠ¨çš„é€Ÿåº¦å˜ä¸ºåŸæ¥çš„75%ï¼Œè€Œå‘yè½´åå¼¹ä¸Šä¸€æ¬¡åå¼¹é«˜åº¦çš„40%ã€‚","categories":[],"tags":[{"name":"canvas","slug":"canvas","permalink":"http://upyang.com/tags/canvas/"}]},{"title":"jsæ•°ç»„æ“ä½œ","slug":"js-Array","date":"2017-08-21T14:22:37.000Z","updated":"2017-09-02T15:19:07.409Z","comments":true,"path":"2017/08/21/js-Array/","link":"","permalink":"http://upyang.com/2017/08/21/js-Array/","excerpt":"","text":"Arrayå¯¹è±¡ç”¨äºåœ¨å•ä¸ªçš„ ç‰ˆä¸¤ç§å­˜å‚¨å¤šä¸ªå€¼ã€‚ åˆ›å»ºArrayå¯¹è±¡çš„è¯­æ³•123new Array();new Array(size);new Array(element0, element1,....., elementn); Arrayå¯¹è±¡æ–¹æ³• æ“ä½œç»ƒä¹  ç”¨jså®ç°éšæœºé€‰å–10â€“100ä¹‹é—´çš„10ä¸ªæ•°å­—ï¼Œå­˜å…¥ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æ’åºã€‚ 123456789101112var Array = [];function getRandom(start,end) &#123; var temp = end - start + 1; return Math.floor(Math.Random()*temp + start);&#125;for(let i=0;i&lt;10;i++) &#123; Array.push(getRandom(10,100));&#125;Array.sort(); //æ­£åºArray.sort(function(a,b) &#123; return b-a&#125;) //å€’åºï¼Œé‡å†™ä¸‹sortå‡½æ•° æŠŠä¸¤ä¸ªæ•°ç»„åˆå¹¶ï¼Œå¹¶åˆ é™¤ç¬¬äºŒä¸ªå…ƒç´ ã€‚ 12345var temp1 = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;];var temp2 = [&apos;b&apos;,&apos;c&apos;,&apos;d&apos;];var Array = temp1.concat(temp2);Array.splice(1,1);console.log(Array); æœ‰è¿™æ ·ä¸€ä¸ªURLï¼šhttp://item.taobao.com/item.htm?a=1&amp;b=2&amp;c=&amp;d=xxx&amp;eï¼Œè¯·å†™ä¸€æ®µJSç¨‹åºæå–URLä¸­çš„å„ä¸ªGETå‚æ•°(å‚æ•°åå’Œå‚æ•°ä¸ªæ•°ä¸ç¡®å®š)ï¼Œå°†å…¶æŒ‰key-valueå½¢å¼è¿”å›åˆ°ä¸€ä¸ªjsonç»“æ„ä¸­ï¼Œå¦‚{a:â€™1â€², b:â€™2â€², c:â€, d:â€™xxxâ€™, e:undefined}ã€‚ 123456789101112function serilizeUrl(url) &#123; var result = &#123;&#125;; url = url.split(&quot;?&quot;)[1]; //é—®å·å¤„åˆ†å‰²å­—ç¬¦ä¸²å¹¶å¾—åˆ°ååŠéƒ¨åˆ†(å‰åŠéƒ¨åˆ†ç´¢å¼•ä¸º0ï¼ŒååŠéƒ¨åˆ†ç´¢å¼•ä¸º1) var map = url.split(&quot;&amp;&quot;); //&amp;å‰ååˆ†å‰²å¼€å¹¶è¿”å›ä¸€ä¸ªæ•°ç»„ for(var i = 0, len = map.length; i &lt; len; i++) &#123; result[map[i].split(&quot;=&quot;)[0]] = map[i].split(&quot;=&quot;)[1]; &#125; return result; console.log(result);&#125;serilizeUrl(&apos;http://item.taobao.com/item.htm?a=1&amp;b=2&amp;c=&amp;d=xxx&amp;e&apos;); å·²çŸ¥æœ‰å­—ç¬¦ä¸²foo=â€get-element-by-idâ€,å†™ä¸€ä¸ªfunctionå°†å…¶è½¬åŒ–æˆé©¼å³°è¡¨ç¤ºæ³•â€getElementByIdâ€ã€‚ 12345678var foo = &quot;get-element-by-id&quot;;var arr = foo.split(&quot;-&quot;);console.log(arr);for(let i=0;i&lt;=arr.length;i++) &#123; arr[i] = arr[i].toString().chatAt(0).toUpppercase()+arr[i].substr(1,arr[i].length-1);&#125;var result = arr.join();console.log(result); JavaScriptå®ç°åƒä½åˆ†éš”ç¬¦å®ç°æ€è·¯ï¼šå…¶å®JSæœ‰è‡ªå¸¦çš„toLocaleStringå‡½æ•°ç›´æ¥å¯ä»¥å®ç°åƒä½åˆ†éš”ç¬¦ï¼Œè¿™é‡Œè¦è®²çš„æ˜¯å¦‚ä½•åº•å±‚å»å®ç°ï¼Œå°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„ï¼Œå†å¾ªç¯æ•´ä¸ªæ•°ç»„ï¼Œ æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªåˆ†éš”é€—å·ï¼Œæœ€åå†åˆå¹¶æˆå­—ç¬¦ä¸²ã€‚å› ä¸ºåˆ†éš”ç¬¦åœ¨é¡ºåºä¸Šæ˜¯ä»åå¾€å‰æ·»åŠ çš„ï¼šæ¯”å¦‚ 1234567æ·»åŠ åæ˜¯1,234,567 è€Œä¸æ˜¯ 123,456,7 ï¼Œæ‰€ä»¥æ–¹ä¾¿èµ·è§å¯ä»¥å…ˆæŠŠæ•°ç»„å€’åºï¼Œæ·»åŠ å®Œä¹‹åå†å€’åºå›æ¥ï¼Œå°±æ˜¯æ­£å¸¸çš„é¡ºåºäº†ã€‚è¦æ³¨æ„çš„æ˜¯å¦‚æœæ•°å­—å¸¦å°æ•°çš„è¯ï¼Œè¦æŠŠå°æ•°éƒ¨åˆ†åˆ†å¼€å¤„ç†ã€‚ 123456789101112131415161718function numFormat(num) &#123; num = num.toString().split(&quot;.&quot;); //åˆ†éš”å°æ•°ç‚¹ var arr = num[0].split(&quot;&quot;).reverse(); //è½¬æ¢æˆå­—ç¬¦æ•°ç»„å¹¶ä¸”å€’åºæ’åˆ— var res = []; for(var i=0,len=arr.length;i&lt;len;i++) &#123; if(i%3===0&amp;&amp;i!==0) &#123; res.push(&quot;,&quot;); //æ·»åŠ åˆ†éš”ç¬¦ &#125; res.push(arr[i]); &#125; res.reverse(); //å†æ¬¡å€’åºæˆä¸ºæ­£ç¡®çš„é¡ºåº if(num[1]) &#123; //å¦‚æœæœ‰å°æ•°çš„è¯æ·»åŠ å°æ•°éƒ¨åˆ† res=res.join(&quot;&quot;).concat(&apos;.&apos;+num[1]); &#125;else &#123; res=res.join(&quot;&quot;); &#125; return res;&#125;","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://upyang.com/tags/javascript/"}]},{"title":"ä»åŸç†ä¸Šç†è§£NodeJSçš„é€‚ç”¨åœºæ™¯","slug":"nodejsåº”ç”¨åœºæ™¯","date":"2017-08-18T07:35:29.000Z","updated":"2017-08-20T13:20:40.801Z","comments":true,"path":"2017/08/18/nodejsåº”ç”¨åœºæ™¯/","link":"","permalink":"http://upyang.com/2017/08/18/nodejsåº”ç”¨åœºæ™¯/","excerpt":"","text":"æ¦‚è¿°NodeJSå®£ç§°å…¶ç›®æ ‡æ˜¯â€œæ—¨åœ¨æä¾›ä¸€ç§ç®€å•çš„æ„å»ºå¯ä¼¸ç¼©ç½‘ç»œç¨‹åºçš„æ–¹æ³•â€ï¼Œé‚£ä¹ˆå®ƒçš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‘¢ï¼Œå®ƒæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ä»¥åŠå®ƒé€‚ç”¨äºä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿ NodeJSçš„ç‰¹ç‚¹1. å®ƒæ˜¯ä¸€ä¸ªJavascriptè¿è¡Œç¯å¢ƒ 2. ä¾èµ–äºChrome V8å¼•æ“è¿›è¡Œä»£ç è§£é‡Š 3. äº‹ä»¶é©±åŠ¨ 4. éé˜»å¡I/O 5. è½»é‡ã€å¯ä¼¸ç¼©ï¼Œé€‚äºå®æ—¶æ•°æ®äº¤äº’åº”ç”¨ 6. å•è¿›ç¨‹ï¼Œå•çº¿ç¨‹ Apacheçš„å¤šçº¿ç¨‹é«˜å¹¶å‘æ¨¡å¼Apacheæ˜¯å½“å‰ä¸–ç•Œæ’åç¬¬ä¸€çš„WebæœåŠ¡ç«¯è½¯ä»¶ï¼Œå®ƒç”±äºæ”¯æŒå¤šçº¿ç¨‹å¹¶å‘è€Œå—åˆ°å¹¿å¤§æœåŠ¡å™¨æŠ€æœ¯é€‰å‹è€…çš„æ¬¢è¿ã€‚ä½†å‘å±•åˆ°åæ¥ï¼ŒApacheåœ¨ä¸€äº›WEBçš„å¤§å‹åº”ç”¨ä¸­ä¹Ÿæ¸æ¸æš´éœ²å‡ºå®ƒçš„ç¼ºç‚¹ï¼šé˜»å¡ã€‚ é‚£æœ‰çš„åŒå­¦ä¼šå¥‡æ€ªï¼ŒApacheä¸æ˜¯å¤šçº¿ç¨‹å¤„ç†å¹¶å‘å—ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šå‡ºç°é˜»å¡å‘¢ï¼Ÿ è¦æ˜ç™½è¿™ä¸€ç‚¹æˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£çº¿ç¨‹è¿™ä¸ªæ¦‚å¿µ ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ æˆ‘ä»¬å¼•ç”¨å®˜æ–¹çš„è§£é‡Šï¼šçº¿ç¨‹å¯ä»¥ç‹¬ç«‹è¿è¡Œçš„æœ€å°çš„CPUå•ä½ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œå¹¶å‘è¿è¡Œï¼Œå…±äº«è¯¥è¿›ç¨‹ä¸‹çš„å†…å­˜åœ°å€ç©ºé—´ï¼ˆæ³¨æ„è¿™ä¸ªç‰¹ç‚¹ï¼‰ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŒä¸€ä¸ªè¿›ç¨‹ä¸‹çš„çº¿ç¨‹æ˜¯ä¼šå…±äº«ç›¸åŒçš„æ–‡ä»¶å’Œå†…å­˜çš„ï¼ˆå†…å­˜åœ°å€ç©ºé—´ï¼‰ï¼Œæ‰€ä»¥å¤§å®¶å¯ä»¥æƒ³è±¡ï¼Œå½“ä¸åŒçš„çº¿ç¨‹éœ€è¦å ç”¨åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œæ ¹æ®å…ˆåˆ°å…ˆå¾—çš„åŸåˆ™ï¼Œå…ˆåˆ°çš„çº¿ç¨‹åœ¨è¿ä½œæ—¶ï¼Œåæ¥çš„çº¿ç¨‹åªèƒ½åœ¨æ—è¾¹ç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯åŠ å…¥åˆ°äº†é˜»å¡æ’é˜Ÿåºåˆ—ã€‚æ‰€ä»¥è¿™å°±æ˜¯é€ æˆçº¿ç¨‹é˜»å¡çš„åŸå› ã€‚ å› æ­¤ï¼Œè™½è¯´è¿›ç¨‹å¯ä»¥æ”¯æŒå¤šä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬çœ‹ä¼¼åŒæ—¶æ‰§è¡Œï¼Œä½†äº’ç›¸ä¹‹é—´å¹¶ä¸åŒæ­¥ã€‚ä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„å†…å­˜åœ°å€ç©ºé—´ï¼Œè¿™å°±æ„å‘³ç€å®ƒä»¬å¯ä»¥è®¿é—®ç›¸åŒçš„å˜é‡å’Œå¯¹è±¡ï¼Œè€Œä¸”å®ƒä»¬ä»åŒä¸€å †ä¸­åˆ†é…å¯¹è±¡ã€‚å°½ç®¡è¿™è®©çº¿ç¨‹ä¹‹é—´å…±äº«ä¿¡æ¯å˜å¾—æ›´å®¹æ˜“ï¼Œå› ä¸ºç¨‹åºè®¾è®¡è€…å¿…é¡»å°å¿ƒï¼Œç¡®ä¿å®ƒä»¬ä¸ä¼šå¦¨ç¢åŒä¸€è¿›ç¨‹é‡Œçš„å…¶å®ƒçº¿ç¨‹ã€‚ äº†è§£äº†å¤šçº¿ç¨‹å¹¶è¡Œçš„ç¼ºé™·åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´å¥½åœ°ç†è§£NodeJSçš„å¼ºå¤§æ‰€åœ¨äº†ã€‚å› ä¸ºNodeJSæ˜¯å¼‚æ­¥å•çº¿ç¨‹çš„ï¼ NodeJSçš„å¼‚æ­¥I/OåŸç†æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µApacheè¯·æ±‚æ•°æ®åº“çš„ä»£ç ï¼š12res = db.query(&apos;select * from user&apos;);res.output(); ä»£ç æ‰§è¡Œåˆ°ç¬¬ä¸€è¡Œçš„æ—¶å€™çº¿ç¨‹ä¼šé˜»å¡ï¼Œç­‰å¾…queryè¿”å›ç»“æœï¼Œç„¶åç»§ç»­å¤„ç†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œé“¶è¡Œæ’é˜ŸåŠç†ä¸šåŠ¡æ—¶ï¼ŒæœåŠ¡ç«¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œç”¨æˆ·è¯·æ±‚åˆ°è¾¾åªèƒ½å¤„ç†ä¸€ä¸ªï¼Œå…¶ä½™çš„è¦å…ˆç­‰å¾…ã€‚ç”±äºæ•°æ®åº“æŸ¥è¯¢ã€ç£ç›˜è¯»å†™ã€ç½‘ç»œé€šä¿¡ç­‰åŸå› ï¼ˆæ‰€è°“çš„I/Oï¼‰é˜»å¡æ—¶é—´ä¼šéå¸¸å¤§ï¼ˆç›¸å¯¹äºCPUå§‹ç»ˆé¢‘ç‡ï¼‰ã€‚å¯¹äºé«˜å¹¶å‘çš„è®¿é—®ï¼Œä¸€æ–¹é¢çº¿ç¨‹é•¿æœŸé˜»å¡ç­‰å¾…ï¼Œå¦ä¸€æ–¹é¢ä¸ºäº†åº”ä»˜æ–°æƒ…æ±‚è€Œä¸æ–­æ·»åŠ æ–°çº¿ç¨‹ï¼Œä¼šæµªè´¹å¤§é‡ç³»ç»Ÿèµ„æºï¼Œå¹¶å‘é‡é«˜çš„æ—¶å€™ï¼Œè¯·æ±‚ä»ç„¶éœ€è¦ç­‰å¾…ï¼ŒåŒæ—¶çº¿ç¨‹çš„å¢åŠ ä¹Ÿä¼šä¹Ÿä¼šå ç”¨å¤§é‡çš„CPUæ—¶é—´æ¥å¤„ç†å†…å­˜ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚çœ‹çœ‹node.jsæ€ä¹ˆå¤„ç†ã€‚123res = db.query(&apos;select * from user&apos;,function(res) &#123; res.output();&#125;) çœ‹åˆ°æ²¡ï¼Œå°±å››ä¸ªå­—ï¼šå¼‚æ­¥å›è°ƒã€‚queryçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿›ç¨‹æ‰§è¡Œåˆ°db.queryçš„æ—¶å€™ä¸ä¼šç­‰å¾…ç»“æœè¿”å›ï¼Œè€Œæ˜¯ç›´æ¥ç»§ç»­æ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œç›´åˆ°è¿›å…¥äº‹ä»¶å¾ªç¯ã€‚å½“æ•°æ®åº“æ‰§è¡Œç»“æœè¿”å›çš„æ—¶å€™ä¼šå°†äº‹ä»¶å‘é€åˆ°äº‹ä»¶é˜Ÿåˆ—ï¼Œç­‰åˆ°çº¿ç¨‹è¿›å…¥äº‹ä»¶å¾ªç¯åæ‰ä¼šè°ƒç”¨ä¹‹å‰çš„å›è°ƒå‡½æ•°ã€‚æ›´ä¸“ä¸šçš„è¯´æ³•æ˜¯å¼‚æ­¥I/Oã€‚åªè¦å•çº¿ç¨‹å°±å¯ä»¥ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨åƒéº¦å½“åŠ³è¿™æ ·çš„å¿«é¤åº—ç‚¹é¤ï¼Œæˆ‘ä»¬ç‚¹å®Œé¤åæ‹¿åˆ°äº†ä¸€ä¸ªå·ç ï¼Œæ‹¿åˆ°å·ç åï¼Œæˆ‘ä»¬å¾€å¾€ä¼šåœ¨ä½ç½®ä¸Šç­‰å¾…ï¼Œè€Œåœ¨æˆ‘ä»¬åé¢çš„è¯·æ±‚ä¼šç»§ç»­å¾—åˆ°å¤„ç†ï¼ŒåŒæ ·æ˜¯æ‹¿äº†ä¸€ä¸ªå·ç ç„¶ååˆ°ä¸€æ—ç­‰å¾…ï¼Œæ¥å¾…å‘˜èƒ½ä¸€ç›´è¿›è¡Œå¤„ç†ã€‚ç­‰åˆ°é¥­èœåšå·äº†ï¼Œä¼šå–Šå·ç ï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†è‡ªå·±çš„é¥­èœï¼Œè¿›è¡Œåç»­çš„å¤„ç†ï¼ˆåƒé¥­ï¼‰ã€‚è¿™ä¸ªå–Šå·ç çš„åŠ¨ä½œåœ¨NodeJSä¸­å«åšå›è°ƒï¼ˆCallbackï¼‰ï¼Œèƒ½åœ¨äº‹ä»¶ï¼ˆçƒ§èœï¼ŒI/Oï¼‰å¤„ç†å®Œæˆåç»§ç»­æ‰§è¡Œåé¢çš„é€»è¾‘ï¼ˆåƒé¥­ï¼‰ï¼Œè¿™ä½“ç°äº†NodeJSçš„æ˜¾è‘—ç‰¹ç‚¹ï¼Œå¼‚æ­¥æœºåˆ¶ã€äº‹ä»¶é©±åŠ¨æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰é˜»å¡æ–°ç”¨æˆ·çš„è¿æ¥ï¼ˆç‚¹é¤ï¼‰ï¼Œä¹Ÿä¸éœ€è¦ç»´æŠ¤å·²ç»ç‚¹é¤çš„ç”¨æˆ·ä¸å¨å¸ˆçš„è¿æ¥ã€‚ é‚£ä¸ºä»€ä¹ˆNodeJSåšåˆ°å•çº¿ç¨‹ï¼Œå´å¯ä»¥å®ç°å¼‚æ­¥å‘¢ï¼Ÿåœ¨è¿™é‡Œæˆ‘ä»¬å…ˆä¸Šä¸€å¹…å›¾ï¼Œç›´æˆ³å›¾ä¸­çš„Event queue NodeJSçš„å·¥ä½œåŸç†å…¶å®å°±æ˜¯äº‹ä»¶å¾ªç¯ã€‚å¯ä»¥è¯´æ¯ä¸€æ¡NodeJSçš„é€»è¾‘éƒ½æ˜¯å†™åœ¨å›è°ƒå‡½æ•°é‡Œé¢çš„ï¼Œè€Œå›è°ƒå‡½æ•°éƒ½æ˜¯æœ‰è¿”å›ä¹‹åæ‰å¼‚æ­¥æ‰§è¡Œçš„ï¼ çœ‹åˆ°è¿™é‡Œï¼Œä½ ä¸ç¦ä¼šæƒŠå¹ï¼ŒNodeJSå¦‚æœæ‰€æœ‰å¤„ç†éƒ½å¼‚æ­¥ï¼Œå²‚ä¸æ˜¯æ™“å¾—é£äº†ï¼Ÿé”™é”™é”™ï¼å½“ç„¶ä¸æ˜¯ï¼Œä¸è¦å¿˜è®°ï¼ŒNodeJSå®ç°è¿™äº›çš„åŸºç¡€æ˜¯å•çº¿ç¨‹ã€‚æ²¡é”™ï¼Œå•çº¿ç¨‹ï¼ä¸€æ¡çº¿ç¨‹æ‰›èµ·æ‰€æœ‰æ“ä½œï¼ ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼ŒNodeJSåœ¨å¯’é£ä¸­é¢å¯¹ç€10ä¸‡å¹¶å‘å¤§å†›ï¼ŒOKï¼Œæ²¡é—®é¢˜ï¼Œä¸Šæ¥æ•Œäººä¸€ä¸ªæ‰”åˆ°åŸé‡Œï¼Œä¸Šæ¥ä¸€ä¸ªåˆæ‰”åˆ°åŸé‡Œã€‚åŸé‡Œå…¨æ°‘çš†å…µï¼Œå¯ä»¥å¾ˆå¥½åœ°æ¶ˆåŒ–è¿™äº›æ•Œäººã€‚ä½†å¦‚æœä¸Šæ¥ä¸€ä¸ªç±»ä¼¼äºå¼ é£èµµäº‘è¿™æ ·çš„äººç‰©ï¼Œè€Nodeå¿ƒé‡Œä¸€æƒ¨ï¼Œå’Œå¼ é£å¤§æˆ˜300å›åˆï¼ŒæŠŠä»–æ‰“æ®‹äº†ï¼Œå†æ‰”åˆ°åŸé‡Œã€‚é‚£åé¢çš„10ä¸‡å¤§å†›å°±å¾—ç­‰è¿™300å›åˆã€‚æ‰€ä»¥è¿™è¯´æ˜ä»€ä¹ˆï¼Ÿè¯´æ˜NodeJSä¸æ˜¯æ²¡æœ‰é˜»å¡ï¼Œè€Œæ˜¯é˜»å¡ä¸å‘ç”Ÿåœ¨åç»­å›è°ƒçš„æµç¨‹ï¼Œè€Œä¼šå‘ç”Ÿåœ¨NodeJSæœ¬èº«å¯¹é€»è¾‘çš„è®¡ç®—å’Œå¤„ç†ã€‚æˆ‘ä»¬å·²ç»çŸ¥é“ï¼ŒNodeJSçš„åˆ†å‘èƒ½åŠ›æ— æ¯”å¼ºå¤§ï¼Œå¯ä»¥å¾ªç¯äº‹ä»¶è¿›è¡Œå¼‚æ­¥å›è°ƒã€‚ä½†å¦‚æœåœ¨å¾ªç¯äº‹ä»¶æ—¶é‡åˆ°å¤æ‚çš„é€»è¾‘è¿ç®—ï¼Œé‚£ä¹ˆå•è–„çš„å•çº¿ç¨‹æ€ä¹ˆæ”¯æ’‘å¾—èµ·ä¸Šç™¾ä¸‡çš„é€»è¾‘+å¹¶å‘å‘¢ï¼ŸNodeJSå®ƒçš„æ‰€æœ‰I/Oã€ç½‘ç»œé€šä¿¡ç­‰æ¯”è¾ƒè€—æ—¶çš„æ“ä½œï¼Œéƒ½å¯ä»¥äº¤ç»™worker threadsæ‰§è¡Œå†å›è°ƒï¼Œæ‰€ä»¥å¾ˆå¿«ã€‚ä½†CPUçš„æ­£å¸¸æ“ä½œï¼Œå®ƒå°±åªèƒ½è‡ªå·±æŠ—äº†ã€‚ NodeJSçš„åº”ç”¨åœºæ™¯æ—¢ç„¶NodeJSå¤„ç†å¹¶å‘çš„èƒ½åŠ›å¼ºï¼Œä½†å¤„ç†è®¡ç®—å’Œé€»è¾‘çš„èƒ½åŠ›åè€Œå¾ˆå¼±ï¼Œå› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå¤æ‚çš„é€»è¾‘è¿ç®—éƒ½æ¬åˆ°å‰ç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰å®Œæˆï¼Œè€ŒNodeJSåªéœ€è¦æä¾›å¼‚æ­¥I/Oï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å¯¹é«˜å¹¶å‘çš„é«˜æ€§èƒ½å¤„ç†ã€‚æƒ…å†µå°±å¾ˆå¤šå•¦ï¼Œæ¯”å¦‚ï¼šRESTFUL APIã€å®æ—¶èŠå¤©ã€å®¢æˆ·ç«¯é€»è¾‘å¼ºå¤§çš„å•é¡µAPPï¼Œå…·ä½“çš„ä¾‹å­æ¯”å¦‚è¯´ï¼šæœ¬åœ°åŒ–çš„åœ¨çº¿éŸ³ä¹åº”ç”¨ï¼Œæœ¬åœ°åŒ–çš„åœ¨çº¿æœç´¢åº”ç”¨ï¼Œæœ¬åœ°åŒ–çš„åœ¨çº¿APPç­‰ã€‚","categories":[],"tags":[{"name":"nodejs","slug":"nodejs","permalink":"http://upyang.com/tags/nodejs/"}]},{"title":"jsè´£ä»»é“¾","slug":"jsè´£ä»»é“¾æ¨¡å¼","date":"2017-08-07T01:13:37.000Z","updated":"2017-08-15T12:58:00.279Z","comments":true,"path":"2017/08/07/jsè´£ä»»é“¾æ¨¡å¼/","link":"","permalink":"http://upyang.com/2017/08/07/jsè´£ä»»é“¾æ¨¡å¼/","excerpt":"","text":"å‰è¨€æœ€è¿‘åŒå­¦é—®åˆ°äº†ä¸€ä¸ªä»–å®é™…å·¥ä½œä¸­å…³äºç”Ÿäº§æ‰˜è¿æ–¹é¢çš„ä¸€ä¸ªé—®é¢˜ï¼Œé—®é¢˜ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯è§‰å¾—æŒºæœ‰æ„æ€ï¼Œåˆ†äº«åœ¨æ­¤ã€‚ å®é™…éœ€æ±‚ç°æœ‰Aã€Bã€Cã€Då››ä¸ªç”Ÿäº§çº¿ï¼Œç”Ÿäº§æ€»é‡ä¸º2100ï¼Œæ¯ä¸ªç”Ÿäº§çº¿çš„ç”Ÿäº§é‡æœªçŸ¥ä¸”åœ¨0~2100(åŒ…æ‹¬0å’Œ2100ï¼Œä¿è¯æ€»é‡ä¸º2100å³å¯)ï¼Œç”Ÿäº§å®Œæ¯•åï¼Œ6å°è½¦è¾†è¿›è¡Œæ‰˜è¿ï¼Œè§„å®šæ¯å°è½¦è¾†åªèƒ½è¿350ï¼Œä¸”è£…æ»¡åæ‰èƒ½å¤Ÿå‡ºå‘ï¼Œè£…è½¦é¡ºåºä¸ºABCD,å³ä¸Šä¸€ä¸ªç”Ÿäº§çº¿ç”Ÿäº§çš„ä¸œè¥¿è£…å®Œåæ‰èƒ½å¤Ÿè£…ä¸‹ä¸€ä¸ªç”Ÿäº§çº¿çš„ä¸œè¥¿ï¼Œè¦æ±‚æ ¹æ®æ¯æ¡ç”Ÿäº§çº¿çš„ç”Ÿäº§é‡ï¼Œç»™å‡ºæ¯å°è½¦è¾†çš„æ‰˜è¿å®‰æ’ã€‚ ä¾‹å¦‚ï¼š Aï¼š100 ï¼Œ Bï¼š1400 ï¼ŒCï¼š500 ï¼Œ Dï¼š100æ‰˜è¿å®‰æ’ï¼š ç¬¬ä¸€è¾†è½¦ï¼š Aï¼š100 ï¼Œ Bï¼š250 ç¬¬äºŒè¾†è½¦ï¼š Aï¼š0 ï¼Œ Bï¼š350 ç¬¬ä¸‰è¾†è½¦ï¼š Aï¼š0 ï¼Œ Bï¼š350 ç¬¬å››è¾†è½¦ï¼š Aï¼š0 ï¼Œ Bï¼š350 ç¬¬äº”è¾†è½¦ï¼š Aï¼š0 ï¼Œ Bï¼š100 ï¼ŒCï¼š250 ç¬¬å…­è¾†è½¦ï¼š Aï¼š0 ï¼Œ Bï¼š0 ï¼Œ Cï¼š250 ï¼ŒDï¼š100 åˆ†æçœ‹äº†è¿™ä¸ªéœ€æ±‚ï¼Œè„‘è¢‹é‡Œç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯ifåˆ¤æ–­ï¼Œä½†æ˜¯å®é™…å†™ä»£ç çš„æ—¶å€™å‘ç°ï¼Œæ¡ä»¶å¤ªå¤šäº†ï¼Œç®—ä¸‹æ¥ä¸€å…±æœ‰81ç§æƒ…å†µäº†ï¼Œæ„Ÿè§‰å·²ç»ä¸é€‚åˆç”¨ifäº†ï¼Œè¿™æ—¶æŸ¥æ‰¾å„ç§èµ„æ–™ä»¥åŠè¯·é—®å¤§ç¥åå‘ç°äº†è´£ä»»é“¾è¿™ç§è®¾è®¡æ¨¡å¼ã€‚ è´£ä»»é“¾æ¨¡å¼é¡¾åæ€ä¹‰ï¼Œè´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ä¸ºè¯·æ±‚åˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾ã€‚è¿™ç§æ¨¡å¼ç»™äºˆè¯·æ±‚çš„ç±»å‹ï¼Œå¯¹è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è¿›è¡Œè§£è€¦ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚ åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œé€šå¸¸æ¯ä¸ªæ¥æ”¶è€…éƒ½åŒ…å«å¯¹å¦ä¸€ä¸ªæ¥æ”¶è€…çš„å¼•ç”¨ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸èƒ½å¤„ç†è¯¥è¯·æ±‚ï¼Œé‚£ä¹ˆå®ƒä¼šæŠŠç›¸åŒçš„è¯·æ±‚ä¼ ç»™ä¸‹ä¸€ä¸ªæ¥æ”¶è€…ï¼Œä¾æ­¤ç±»æ¨ã€‚ æ„å›¾ï¼šé¿å…è¯·æ±‚å‘é€è€…ä¸æ¥æ”¶è€…è€¦åˆåœ¨ä¸€èµ·ï¼Œè®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰å¯èƒ½æ¥æ”¶è¯·æ±‚ï¼Œå°†è¿™äº›å¯¹è±¡è¿æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶ä¸”æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚ ä¸»è¦è§£å†³ï¼šèŒè´£é“¾ä¸Šçš„å¤„ç†è€…è´Ÿè´£å¤„ç†è¯·æ±‚ï¼Œå®¢æˆ·åªéœ€è¦å°†è¯·æ±‚å‘é€åˆ°èŒè´£é“¾ä¸Šå³å¯ï¼Œæ— é¡»å…³å¿ƒè¯·æ±‚çš„å¤„ç†ç»†èŠ‚å’Œè¯·æ±‚çš„ä¼ é€’ï¼Œæ‰€ä»¥èŒè´£é“¾å°†è¯·æ±‚çš„å‘é€è€…å’Œè¯·æ±‚çš„å¤„ç†è€…è§£è€¦äº†ã€‚ å…³é”®ä»£ç ï¼šHandleré‡Œé¢èšåˆå®ƒè‡ªå·±ï¼Œåœ¨HanleRequesté‡Œåˆ¤æ–­æ˜¯å¦åˆé€‚ï¼Œå¦‚æœæ²¡è¾¾åˆ°æ¡ä»¶åˆ™å‘ä¸‹ä¼ é€’ï¼Œå‘è°ä¼ é€’ä¹‹å‰ set è¿›å»ã€‚ åº”ç”¨å®ä¾‹ï¼š 1ã€çº¢æ¥¼æ¢¦ä¸­çš„â€å‡»é¼“ä¼ èŠ±â€ã€‚ 2ã€JS ä¸­çš„äº‹ä»¶å†’æ³¡ã€‚ 3ã€JAVA WEB ä¸­ Apache Tomcatå¯¹ Encoding çš„å¤„ç†ï¼ŒStruts2 çš„æ‹¦æˆªå™¨ï¼Œjsp servlet çš„ Filterã€‚ ä¼˜ç‚¹ï¼š 1ã€é™ä½è€¦åˆåº¦ã€‚å®ƒå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ã€‚ 2ã€ç®€åŒ–äº†å¯¹è±¡ã€‚ä½¿å¾—å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ã€‚ 3ã€å¢å¼ºç»™å¯¹è±¡æŒ‡æ´¾èŒè´£çš„çµæ´»æ€§ã€‚é€šè¿‡æ”¹å˜é“¾å†…çš„æˆå‘˜æˆ–è€…è°ƒåŠ¨å®ƒä»¬çš„æ¬¡åºï¼Œå…è®¸åŠ¨æ€åœ°æ–°å¢æˆ–è€…åˆ é™¤è´£ä»»ã€‚ 4ã€å¢åŠ æ–°çš„è¯·æ±‚å¤„ç†ç±»å¾ˆæ–¹ä¾¿ã€‚ ç¼ºç‚¹ï¼š 1ã€ä¸èƒ½ä¿è¯è¯·æ±‚ä¸€å®šè¢«æ¥æ”¶ã€‚ 2ã€ç³»ç»Ÿæ€§èƒ½å°†å—åˆ°ä¸€å®šå½±å“ï¼Œè€Œä¸”åœ¨è¿›è¡Œä»£ç è°ƒè¯•æ—¶ä¸å¤ªæ–¹ä¾¿ï¼Œå¯èƒ½ä¼šé€ æˆå¾ªç¯è°ƒç”¨ã€‚ 3ã€å¯èƒ½ä¸å®¹æ˜“è§‚å¯Ÿè¿è¡Œæ—¶çš„ç‰¹å¾ï¼Œæœ‰ç¢äºé™¤é”™ã€‚ ä½¿ç”¨åœºæ™¯ï¼š 1ã€æœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œå…·ä½“å“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚ç”±è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šã€‚ 2ã€åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹ï¼Œå‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤ä¸€ä¸ªè¯·æ±‚ã€‚ 3ã€å¯åŠ¨æ€æŒ‡å®šä¸€ç»„å¯¹è±¡å¤„ç†è¯·æ±‚ã€‚ è´£ä»»é“¾çš„è¯¦ç»†è®²è§£å¯ä»¥å‚é˜…èœé¸Ÿæ•™ç¨‹ä¸­çš„è¯´æ˜ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273class WearHouse&#123; constructor(volume,wearHouse)&#123; this.volume=volume; this.wearHouse=wearHouse; this.outString=[]; &#125; next(take)&#123; if(this.wearHouse!=undefined) &#123; this.wearHouse.takeOut(take).forEach((subT) =&gt; &#123; this.outString.push(subT) &#125;) &#125; &#125; takeOut(num)&#123; if(num&gt;this.volume)&#123; num-=this.volume; var temp=this.volume; this.volume=0; this.outString.push(this.print(0,temp)); this.next(num); &#125;else&#123; this.volume-=num; this.outString.push(this.print(this.volume,num)); &#125; var temOut=this.outString; this.outString=[]; return temOut; &#125; print(volumn,takeNum)&#123;&#125; &#125; class WearHouseA extends WearHouse&#123; print(volumn,takeNum)&#123; return [&apos;A&apos;,takeNum]; &#125; &#125; class WearHouseB extends WearHouse&#123; print(volumn,takeNum)&#123; return [&apos;B&apos;,takeNum]; &#125; &#125; class WearHouseC extends WearHouse&#123; print(volumn,takeNum)&#123; return [&apos;C&apos;,takeNum]; &#125; &#125; class WearHouseD extends WearHouse&#123; print(volumn,takeNum)&#123; return [&apos;D&apos;,takeNum]; &#125; &#125; var D=new WearHouseD(100,undefined); var C=new WearHouseC(500,D); var B=new WearHouseB(1400,C); var A=new WearHouseA(100,B); var strSet=[]; for(var a=0;a&lt;6;a++)&#123; strSet.push(...A.takeOut(350)); &#125; console.log(strSet); * æ€»ç»“è´£ä»»é“¾æ¨¡å¼ï¼Œå¯¹äºè§£å†³æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºä¾æ¬¡æ‰§è¡Œçš„é—®é¢˜ä¹ŸæŒºæœ‰æ•ˆçš„ï¼Œä¸ç”¨å†™å¾ˆå¤šçš„åˆ¤æ–­è¯­å¥ã€‚è´£ä»»é“¾æ¨¡å¼åœ¨javaä¸­åº”ç”¨å°¤å…¶å¹¿æ³›ï¼Œå°è¯•ç”¨jsæ¥å®ç°è´£ä»»é“¾ä¹Ÿæ˜¯æŒºæœ‰æ„æ€çš„ã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://upyang.com/tags/javascript/"}]},{"title":"javascripté¢è¯•","slug":"javascripté¢è¯•","date":"2017-08-04T02:37:31.000Z","updated":"2017-08-21T14:27:11.546Z","comments":true,"path":"2017/08/04/javascripté¢è¯•/","link":"","permalink":"http://upyang.com/2017/08/04/javascripté¢è¯•/","excerpt":"","text":"åŸå‹ã€ç»§æ‰¿123456789101112131415161718192021222324252627282930function Parent() &#123; this.a = 1; this.b = [1, 2, this.a]; this.c = &#123; demo: 5 &#125;; this.show = function () &#123; console.log(this.a , this.b , this.c.demo ); &#125;&#125;function Child() &#123; this.a = 2; this.change = function () &#123; this.b.push(this.a); this.a = this.b.length; this.c.demo = this.a++; &#125;&#125;Child.prototype = new Parent();var parent = new Parent();var child1 = new Child();var child2 = new Child();child1.a = 11;child2.a = 12;parent.show(); &lt;!-- è¾“å‡º 1 [1,2,1] 5 --&gt;child1.show(); &lt;!-- è¾“å‡º 11 [1,2,1] 5 --&gt;child2.show(); &lt;!-- è¾“å‡º 12 [1,2,1] 5 --&gt;child1.change();child2.change();parent.show(); &lt;!-- è¾“å‡º 1 [1,2,1] 5 --&gt;child1.show(); &lt;!-- è¾“å‡º 5 [1,2,1,11,12] 5 --&gt;child2.show(); &lt;!-- è¾“å‡º 6 [1,2,1,11,12] 5 --&gt; è€ƒå¯ŸçŸ¥è¯†ç‚¹ï¼š 1ï¼Œthisçš„æŒ‡å‘ 2ï¼ŒåŸå‹(prototype)ä»¥åŠåŸå‹é“¾ 3ï¼Œç»§æ‰¿ 4ï¼Œå¼•ç”¨ è¦æ­£ç¡®è§£å‡ºè¿™é“é¢˜ï¼Œéœ€è¦ç†è§£ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š 1ï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ªåŸå‹[[prototype]]å±æ€§ æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ 2ï¼Œæ¯ä¸€ä¸ªå®ä¾‹ç”Ÿæˆçš„æ—¶å€™ï¼Œéƒ½ä¼šåœ¨å†…å­˜ä¸­äº§ç”Ÿä¸€å—æ–°çš„å †å†…å­˜ã€‚ 3ï¼Œæ¯ä¸€å®ä¾‹éƒ½æœ‰ä¸€ä¸ªéšå¼åŸå‹proto æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ 4ï¼Œthisçš„æŒ‡å‘ å–å†³äºthisè°ƒç”¨æ—¶çš„ä½ç½®, åœ¨è¿™é“é¢˜ä¸­ï¼Œ ä¹Ÿå¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œ è°è°ƒç”¨æ–¹æ³•ï¼Œ thiså°±æŒ‡å‘å“ªä¸ªå¯¹è±¡ã€‚ 5ï¼Œæ•°ç»„å’Œå­—é¢é‡å¯¹è±¡ éƒ½æ˜¯ å¼•ç”¨ã€‚ 6ï¼ŒåŸå‹é“¾çš„æŸ¥æ‰¾è§„åˆ™ï¼š å°±è¿‘åŸåˆ™ å½“å®ä¾‹ä¸Šå­˜åœ¨å±æ€§æ—¶ï¼Œ ç”¨å®ä¾‹ä¸Šçš„ã€‚ å¦‚æœå®ä¾‹ä¸å­˜åœ¨ï¼Œé¡ºåœ¨åŸå‹é“¾ï¼Œå¾€ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±ä½¿ç”¨åŸå‹é“¾çš„ã€‚ å¦‚æœåŸå‹é“¾éƒ½ä¸å­˜åœ¨ï¼Œå°±ç”¨ObjectåŸå‹å¯¹è±¡ä¸Šçš„ã€‚ å¦‚æœObjectåŸå‹å¯¹è±¡éƒ½ä¸å­˜åœ¨ï¼Œ å°±æ˜¯undefinedã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://upyang.com/tags/javascript/"}]},{"title":"Vueé¡¹ç›®ä¸Šä¼ githubå¹¶é¢„è§ˆ","slug":"Vueé¡¹ç›®ä¸Šä¼ githubå¹¶é¢„è§ˆ","date":"2017-07-25T08:05:27.000Z","updated":"2017-07-31T04:14:11.453Z","comments":true,"path":"2017/07/25/Vueé¡¹ç›®ä¸Šä¼ githubå¹¶é¢„è§ˆ/","link":"","permalink":"http://upyang.com/2017/07/25/Vueé¡¹ç›®ä¸Šä¼ githubå¹¶é¢„è§ˆ/","excerpt":"","text":"å‰è¨€æœ€è¿‘åœ¨åˆæ­¥å®Œæˆè‡ªå·±çš„æ˜é‡‘ç§»åŠ¨ç«¯Appåï¼Œæƒ³è¦ä¸Šä¼ åˆ°githubï¼Œå¹¶ä¸”åˆ¶ä½œä¸€ä¸ªç®€å•çš„é¢„è§ˆåŠŸèƒ½ï¼ŒæœŸé—´é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œåˆ†äº«åœ¨æ­¤ï¼Œä»¥ä¾¿æŸ¥é˜…ã€‚ æ‰“åŒ…Vueé¡¹ç›®å½“Vueé¡¹ç›®å®Œæˆåï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å‘½ä»¤ï¼š npm run build å®é™…ä¸Šæ­¤å‘½ä»¤å°±æ˜¯æ‰§è¡Œbuild.jsæ–‡ä»¶ï¼Œå°†é¡¹ç›®æ‰“åŒ…æˆé™æ€èµ„æºã€‚æ­¤å‘½ä»¤å®Œæˆåï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šå¤šå‡ºä¸€ä¸ªdistæ–‡ä»¶å¤¹ï¼Œdistæ–‡ä»¶é‡Œé¢æœ‰ï¼š staticæ–‡ä»¶ä¸‹åŒ…æ‹¬é¡¹ç›®æ‰“åŒ…åçš„cssã€jsã€imgã€fonts(å­—ä½“å›¾æ ‡)ã€‚ é¡¹ç›®èµ„æºæ— æ³•åŠ è½½ç‚¹å‡»index.html,æµè§ˆå™¨æ˜¾ç¤ºè¯¥é¡µé¢æ˜¯ç©ºç™½çš„ï¼Œæ‰“å¼€æ§åˆ¶å°çœ‹åˆ°ï¼š è¿™é‡Œçœ‹åˆ°index.htmlæ–‡ä»¶ä¸­æ²¡æœ‰åŠ è½½ä»»ä½•cssã€jsæ–‡ä»¶ï¼Œè§£å†³æ–¹æ³•ï¼š æ‰“å¼€é¡¹ç›®æ ¹ç›®å½• config ä¸‹çš„ index.js æ–‡ä»¶ï¼Œè¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š å°† assetsPublicPath: â€˜/â€˜, æ”¹ä¸º assetsPublicPath: â€˜./â€˜, ä¿å­˜åé‡æ–°â€™npm run buildâ€™,åœ¨æ–°ç”Ÿæˆçš„distç›®å½•ä¸‹ç‚¹å¼€index.htmlï¼Œè¿™æ—¶é¡µé¢ç»“æ„æ­£å¸¸æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯é¡µé¢å­—ä½“å›¾æ ‡å’Œmockçš„æ•°æ®æ— æ³•æ­£å¸¸åŠ è½½ã€‚ å­—ä½“å›¾æ ‡æ— æ³•åŠ è½½é¡µé¢ä¸­ç”¨backgroundåŠ è½½çš„å›¾ç‰‡å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ˜¯æ‰€æœ‰çš„å­—ä½“å›¾æ ‡éƒ½ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œè§£å†³æ–¹æ³•ï¼šæ‰“å¼€æ ¹ç›®å½•ä¸‹ build ä¸­çš„ utils.js æ–‡ä»¶ï¼Œåœ¨æ§åˆ¶buildæ ·å¼æ–‡ä»¶ä»£ç ä¸­æ·»åŠ  publicPath: â€˜../../â€˜ï¼Œ å¦‚ä¸‹ï¼š ä¿å­˜åï¼Œä¾æ—§é‡æ–°â€™npm run buildâ€™,æ‰“å¼€distç›®å½•ä¸‹çš„index.jså¯ä»¥çœ‹åˆ°å­—ä½“å›¾æ ‡æ­£å¸¸æ˜¾ç¤ºäº†ã€‚è¿™é‡Œä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·ä¿®æ”¹ï¼Œå¯ä»¥å‚è€ƒhttps://github.com/vuejs-templates/webpack/issues/166ã€‚ Mockæ•°æ®æ— æ³•æ­£å¸¸åŠ è½½æ­¤é¡¹ç›®çš„ç»å¤§éƒ¨åˆ†é¡µé¢å†…å®¹æ˜¯é€šè¿‡åœ¨è·Ÿç›®å½•ä¸‹åˆ›å»ºçš„data.jsonæ–‡ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šçš„ï¼Œæ˜¯æ¨¡æ‹Ÿä»åç«¯è¯·æ±‚æ•°æ®çš„ï¼Œå¼€å‘è°ƒè¯•æ—¶ç”¨â€™npm run devâ€™å‘½ä»¤ï¼Œä¼šå€ŸåŠ©nodeå¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œå¯ä»¥æ­£å¸¸çš„æ¸²æŸ“å‡ºç›¸åº”çš„æ•°æ®ã€‚è€Œé€šè¿‡æ‰“åŒ…åçš„é¡¹ç›®æ—¶å±äºé™æ€èµ„æºçš„ï¼Œç‚¹å‡»index.htmlæŸ¥çœ‹é¡¹ç›®ï¼Œæ˜¯æ— æ³•åŠ è½½mockçš„æ•°æ®çš„ï¼Œæµè§ˆå™¨ä¹Ÿä¼šæŠ¥è·¨åŸŸçš„é”™è¯¯ã€‚è‹¥æƒ³æ­£å¸¸çš„åŠ è½½mockæ•°æ®ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯è®²æ‰“åŒ…åçš„èµ„æºä¸¢åˆ°æœåŠ¡å™¨ä¸­ï¼Œæˆ–è€…ä½¿ç”¨jsonpè¯·æ±‚çº¿ä¸ŠçœŸå®æ•°æ®ï¼Œå› ä¸ºå®ƒçš„åŸç†æ˜¯åˆ©ç”¨scriptæ ‡ç­¾æ¥è·å¾—æ•°æ®ï¼Œåœ¨githubä¸Šæ˜¯å¯ä»¥é¢„è§ˆåˆ°çš„ã€‚ åˆ©ç”¨gitå‘½ä»¤å°†é¡¹ç›®ä¸Šä¼ åˆ°githubé¦–å…ˆè®¾ç½®SSH key,ç½‘ä¸Šçš„æ•™ç¨‹å¾ˆå¤šï¼Œæ¨èä¸€ä¸ªç®€ä¹¦é‡Œé¢çš„ä¸¤ç§æ–¹æ³•ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°github,å®Œæˆååœ¨githubé‡Œé¢æ–°å»ºä¸€ä¸ªä¸€ä¸ªå­˜æ”¾é¡¹ç›®çš„ä»“åº“(å»ºè®®å‹¾é€‰ä¸Šåˆå§‹åŒ–)ï¼Œgitå‘½ä»¤ï¼š 1ã€å…ˆè¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œé€šè¿‡å‘½ä»¤ git init æŠŠè¿™ä¸ªç›®å½•å˜æˆgitå¯ä»¥ç®¡ç†çš„ä»“åº“ git init 2ã€æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œä½¿ç”¨å‘½ä»¤ git add .æ·»åŠ åˆ°æš‚å­˜åŒºé‡Œé¢å»ï¼Œä¸è¦å¿˜è®°åé¢çš„å°æ•°ç‚¹â€œ.â€ï¼Œæ„æ€ä¸ºæ·»åŠ æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚ git add . 3ã€ç”¨å‘½ä»¤ git commitå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ã€‚å¼•å·å†…ä¸ºæäº¤è¯´æ˜ã€‚ git commit -m â€˜messageâ€™ 4ã€å…³è”åˆ°è¿œç¨‹åº“ã€‚ git remote add origin ä½ çš„è¿œç¨‹åº“åœ°(å¦‚ï¼šhttps://github.com/Aaron0525/Vue-juejin-App.git) 5ã€å°†é¡¹ç›®æ‰€æœ‰pushæ–‡ä»¶åˆ°ä»“åº“ä¸­ã€‚ git push -u origin master ç¬¬äº”æ­¥æ“ä½œæ—¶ï¼Œæœ‰æ—¶ä¼šå¤±è´¥ï¼Œæˆ‘çš„æ–¹æ³•æ˜¯å°† u æ”¹ä¸º f æ¥æäº¤ï¼Œå³è¾“å…¥å‘½ä»¤git push -f origin masterå›åˆ°githubä¸­è¯¥é¡¹ç›®çš„ä»“åº“ï¼Œé¡¹ç›®æ–‡ä»¶å°±æäº¤ä¸Šå»äº†ï¼Œè‹¥å¤±è´¥ï¼Œè¯·ä»”ç»†æ ¸å¯¹æ­¥éª¤ã€‚ åˆ¶ä½œgithubåœ¨çº¿é¢„è§ˆæ•ˆæœ githubåˆ¶ä½œé¢„è§ˆæ˜¯éœ€è¦åˆ©ç”¨GitHub Pagesçš„ï¼Œç‚¹å‡»é¡¹ç›®ä»“åº“çš„setting,æ‰¾åˆ°source,åˆ‡æ¢åˆ°master branch,ç‚¹å‡»ä¿å­˜ã€‚ ç‚¹å‡»GitHub Pagesä¸‹é¢å‡ºç°çš„ç½‘å€å³ä¸ºé¢„è§ˆåœ°å€ï¼Œä½†æ˜¯æ­¤æ—¶ç‚¹å‡»è¿›å»ä¼šå‘ç°æ²¡æœ‰é¡µé¢æ•ˆæœï¼Œæ²¡å…³ç³»ï¼Œä¸‹é¢ç»§ç»­ï¼š æˆ‘ä»¬ç”ŸæˆgithubPagesçš„ç›®çš„å°±æ˜¯éœ€è¦ç”Ÿæˆä¸€ä¸ªgh-pagesåˆ†æ”¯(æ­£å¸¸æƒ…å†µä¸‹åªæœ‰ä¸€ä¸ªmasteråˆ†æ”¯)ã€‚ ç”Ÿæˆgh-pagesåˆ†æ”¯æ­¥éª¤ï¼š 1ã€å°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼š git clone https://github.com/Aaron0525/Vue-juejin-App.git(é¡¹ç›®å…‹éš†åœ°å€) 2ã€ç”Ÿæˆåˆ†æ”¯gh-pageså¹¶åˆ‡æ¢åˆ°æ­¤åˆ†æ”¯ cd flexSupplement ï¼ˆè¿›å…¥åˆ°ä½ å…‹éš†ä»“åº“çš„æœ¬åœ°æ–‡ä»¶å¤¹ï¼‰ git checkout - -orphan gh-pages (åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢ï¼Œä¸¤ä¸ªæ¨ªæ†) 3ã€å°†æœ¬åœ°å…‹éš†æ–‡ä»¶(æ–‡ä»¶åä¸ºgithubä»“åº“å)é‡Œé¢é™¤.gitæ–‡ä»¶ä»¥å¤–çš„å…¶ä»–æ–‡ä»¶å…¨éƒ¨åˆ é™¤ï¼Œå†å°†æ ¹ç›®å½•ä¸‹distæ–‡ä»¶å¤¹é‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ°å…‹éš†æ–‡ä»¶ä¸­ã€‚ ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š git add . ï¼ˆå°†æœ¬åœ°æ‰€æœ‰æ–‡ä»¶åŠ åˆ°ä»“åº“é‡Œï¼‰ git commit -m â€œmessageâ€ ï¼ˆè®¾ç½®æäº¤ä¿¡æ¯ï¼‰ git remote add origin https://github.com/Aaron0525/ Vue-juejin-App.gitï¼ˆæœ¬åœ°ä»“åº“é“¾æ¥è¿œç¨‹ä»“åº“ï¼‰ git push -u origin gh-pages ï¼ˆpushæ–‡ä»¶åˆ°ä»“åº“ä¸­ï¼‰ å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œå›åˆ°githubé‡Œé¢ï¼Œç‚¹å‡»ä¸Šé¢è¯´åˆ°çš„GitHub Pagesä¸‹é¢çš„åœ°å€ï¼Œæ—¢èƒ½é¢„è§ˆæ•ˆæœï¼Œæ³¨æ„è€å¿ƒç­‰å¾…ä¸€å°ä¼šï¼Œè·Ÿæ–°åŒæ­¥è¿˜æ˜¯éœ€è¦ä¸€ä¸ªè¿‡ç¨‹çš„ï¼ŒåŒæ ·è¿™é‡Œé¢è¿˜æ˜¯æ— æ³•æ˜¾ç¤ºmockçš„æ•°æ®ã€‚ æ€»ç»“ githubï¼Œè¿™ä¸ªæ˜Ÿçƒä¸Šæœ€æµè¡Œçš„å¼€æºæ‰˜ç®¡æœåŠ¡çš„åˆ†å¸ƒå¼ç½‘ç«™ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼ŒæŒæ¡åŸºæœ¬çš„githubä½¿ç”¨æ–¹æ³•ï¼Œæ— è®ºæ˜¯å¯¹äºåˆ†äº«ã€æ‰˜ç®¡è‡ªå·±çš„é¡¹ç›®ï¼Œè¿˜æ˜¯æŸ¥é˜…å…¶ä»–ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œéƒ½æ˜¯ååˆ†æœ‰å¸®åŠ©çš„ã€‚ ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›é¡¹ç›®æ¼”ç¤ºï¼š Vue2.0ç§»åŠ¨ç«¯ä»¥éŸ³ä¹æ’­æ”¾å™¨ Vue2.0æ¨¡ä»¿æ˜é‡‘App å“åº”å¼ç½‘ç«™ è§‰å¾—æœ‰ç”¨çš„ï¼Œå¯ä»¥ç»™ä¸ªstartå“¦ï¼ æ„Ÿè°¢ï¼ï¼ï¼","categories":[],"tags":[{"name":"Vue2.0","slug":"Vue2-0","permalink":"http://upyang.com/tags/Vue2-0/"},{"name":"github","slug":"github","permalink":"http://upyang.com/tags/github/"}]},{"title":"Vue2.0ä»¿æ˜é‡‘App(æ€»ç»“)","slug":"Vueå­¦ä¹ ","date":"2017-07-21T15:28:51.000Z","updated":"2017-08-07T02:55:46.111Z","comments":true,"path":"2017/07/21/Vueå­¦ä¹ /","link":"","permalink":"http://upyang.com/2017/07/21/Vueå­¦ä¹ /","excerpt":"","text":"å‰è¨€ æœ€è¿‘ä¸€æ®µæ—¶é—´ä¸€ç›´åœ¨å­¦ä¹ Vue2.0çš„ç›¸å…³çŸ¥è¯†ï¼Œä¹‹å‰åªæ˜¯çœ‹è¿‡ç›¸å…³çš„è§†é¢‘æ•™å­¦ï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰åŠ¨æ‰‹å»å®è·µè‡ªå·±çš„é¡¹ç›®ï¼Œè¿™æ¬¡å†³å®šç”¨Vue2.0å»æ¨¡ä»¿ä¸€ä¸ªç§»åŠ¨ç«¯App,çœ‹äº†å¾ˆå¤šè‡ªå·±ç”¨è¿‡çš„App,æœ€åå†³å®šæ¨¡ä»¿åšæ˜é‡‘ç§»åŠ¨ç«¯App,æ°å¥½è¿™æ¬¾Appä¹Ÿæ˜¯ç”¨Vueåšçš„ã€‚å†™ä¸‹è¿™ç¯‡åšå®¢ï¼Œè®°å½•å®è·µä¸­çš„å¿ƒå¾—ä½“ä¼šã€‚ éœ€æ±‚åˆ†æé¦–å…ˆç›´è§‚çš„çœ‹ä¸‹æ˜é‡‘Appçš„åŸºæœ¬é¡µé¢æ„æˆï¼š é€šè¿‡è§‚å¯Ÿåˆ†æï¼Œæ€»ç»“å‡ºä»¥ä¸‹å‡ ç‚¹ï¼š é¦–é¡µï¼Œåº•éƒ¨å’Œé¡¶éƒ¨åˆ†åˆ«æœ‰tabåˆ‡æ¢ï¼Œåœ¨Vueä¸­å¯ä»¥é€šè¿‡é…ç½®åµŒå¥—è·¯ç”±æ¥å®ç°ã€‚ å‘ç°é¡µï¼Œé¡¶éƒ¨æœ‰ä¸€ä¸ªè½®æ’­å›¾ï¼Œæ•°æ®è¦æ±‚å®æ—¶è·Ÿæ–°ã€‚å› ä¸ºä¹‹å‰æœ‰åœ¨åšVue-musicæ—¶æœ‰åšè¿‡ä¸€ä¸ªæ•°æ®å®æ—¶è·Ÿæ–°çš„è½®æ’­å›¾,è¿™é‡Œç›´æ¥å¼•ç”¨è¿‡æ¥ï¼Œåé¢ä¹Ÿä¼šå…·ä½“å»è®²æ€ä¹ˆå®ç°ã€‚æ²¸ç‚¹æ ï¼Œæœ‰ä¸€ä¸ªå·¦å³å¯ä»¥æ»‘åŠ¨çš„æ–°é—»æ ã€‚ æ¶ˆæ¯ã€æˆ‘çš„ä¿¡æ¯é¡µé¢åŸºæœ¬ä¸Šéƒ½æ˜¯æ•°æ®äº¤äº’ï¼Œå…¶ä¸­æˆ‘çš„ä¿¡æ¯é‡Œé¢ä¼šåŒ…å«ä¸€ä¸ªh5è°ƒç”¨æ‘„åƒå¤´ã€ç›¸å†Œçš„åŠŸèƒ½ã€‚ é¡¹ç›®ä¸­ç”¨åˆ°çš„å­—ä½“å›¾æ ‡é‡‡ç”¨é˜¿é‡Œçš„iconfont,ä¸€äº›æ— æ³•æœç´¢åˆ°çš„å›¾ç‰‡ï¼Œç”¨fireworkåˆ‡å›¾å·¥å…·åˆ‡å‡ºæ¥ã€‚ é¡¹ç›®æ„å»ºè¿™é‡ŒåŸºæœ¬çš„nodeã€gitçš„å®‰è£…å°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šç›¸å…³çš„æ•™ç¨‹ã€‚é€‰ç”¨webpackã€vue-cliè„šæ‰‹æ¶æ¥å¿«é€Ÿæ­å»ºæˆ‘ä»¬çš„é¡¹ç›®éª¨æ¶ã€‚ Vueåˆ›å»ºé¡¹ç›®å‘½ä»¤ï¼š Vue init webpack juejin æ ¹æ®æç¤ºå®Œæˆç›¸åº”çš„é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼Œä¸ªäººæ„æ„¿é€‰æ‹©æ˜¯å¦ä½¿ç”¨ESlintã€å•å…ƒæµ‹è¯•ã€ç«¯åˆ°ç«¯æµ‹è¯•ç­‰ç­‰,å»ºè®®æ–°æ‰‹ä¸ä½¿ç”¨ESlintåšä»£ç æ ¼å¼æ£€æŸ¥ï¼Œä¸ç„¶å¯èƒ½åœ¨å†™çš„è¿‡ç¨‹ä¸­é‡åˆ°éå¸¸å¤šä»£ç æ ¼å¼é”™è¯¯ï¼Œå½“ç„¶é€‰æ‹©ä½¿ç”¨çš„è¯ä¹Ÿæœ‰å¥½å¤„ï¼Œèƒ½å¾ˆå¥½çš„è§„èŒƒè‡ªå·±çš„ä»£ç é£æ ¼ã€‚ å®Œæˆé¡¹ç›®æ„å»ºåï¼Œå¯¹ç›®å½•è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹å®Œæˆåå¦‚ä¸‹ï¼š ç›®å½•ä»‹ç» api: å­˜æ”¾jsonpè¯·æ±‚è½®æ’­å›¾æ•°æ®çš„jsæ–‡ä»¶ base: å­˜æ”¾é¡¹ç›®çš„åŸºç¡€ç»„ä»¶ï¼Œä¾‹å¦‚ï¼šè½®æ’­å›¾ç»„ä»¶(slider)ã€æ–°é—»åˆ—è¡¨ç»„ä»¶(newslist)ã€æ–°é—»è¯¦æƒ…listdetail)ã€æœç´¢ç»„ä»¶(search)ã€ä¿®æ”¹ä¸ªäººä¿¡æ¯ç»„ä»¶(modify)ç­‰. common: å­˜æ”¾fontsã€imageã€jsã€stylusæ–‡ä»¶ã€‚ components: å­˜æ”¾é¡¹ç›®çš„ä¸»è¦ç»„ä»¶ router: è·¯ç”±é…ç½® éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæƒ³è¦æ¨¡æ‹Ÿä»åç«¯è·å–æ•°æ®å¹¶ç»‘å®šåˆ°ç»„ä»¶ä¸Šï¼Œè€Œä¸æ˜¯æŠŠæ•°æ®å†™æ­»åœ¨ç»“æ„ä¸Šï¼Œæ‰€ä»¥è¿™é‡Œåœ¨æ ¹ç›®å½•æ–°å»ºäº†ä¸€ä¸ªdata.jsonçš„æ–‡ä»¶ï¼Œé‡Œé¢å†™å¥½äº†é¡¹ç›®éœ€è¦ç”¨åˆ°çš„æ•°æ®ã€‚package.jsoné…ç½®ä¾èµ– npm install node_modulesæ–‡ä»¶ç›®å½•ä¸‹æŸ¥çœ‹åˆ°ä»¥ä¸Šçš„ä¾èµ–åŒ…ï¼Œè¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚æ³¨æ„ï¼šå› ä¸ºé¡¹ç›®ç”¨åˆ°çš„reseté‡ç½®æ ·å¼æ–‡ä»¶(copyæ¥çš„)æ˜¯stylusæ ¼å¼ï¼Œæ‰€ä»¥è¿˜éœ€è¦åœ¨devDependenciesä¸­é…ç½®styluså’Œstylus-loaderä¾èµ–ã€‚ æ–‡ä»¶è·¯å¾„é…ç½®é¡¹ç›®ä¸­ä¼šç»å¸¸å¼•å…¥å„ç§æ–‡ä»¶ï¼Œä¸ºäº†å¼•ç”¨æ–¹ä¾¿ä¼šè¿›è¡Œä»¥ä¸‹é…ç½®ï¼Œè§‰å¾—æ²¡å¿…è¦çš„å¯ä»¥å¿½ç•¥ã€‚ æ‰“å¼€buildç›®å½•ä¸‹çš„webpack.base.conf.jsæ–‡ä»¶ï¼Œåœ¨resolveä¸‹è¿›è¡Œä»¥ä¸‹é…ç½® è¿™æ ·çš„å¥½å¤„æ˜¯å¼•ç”¨æŸä¸ªæ–‡ä»¶çš„æ—¶å€™ä¸ç”¨æ¯æ¬¡éƒ½å¸¦ä¸Šä¸€å †çš„å‰ç¼€ã€‚å¼•å…¥å­—ä½“å›¾æ ‡å‰é¢è¯´åˆ°æœ¬é¡¹ç›®ç”¨çš„æ˜¯é˜¿é‡Œiconfontå­—ä½“å›¾æ ‡åº“ï¼Œé€‰æ‹©å¥½æ‰€è¦ç”¨åˆ°çš„å›¾æ ‡ä¹‹åä¸‹è½½åˆ°æœ¬åœ°ï¼Œå°†å…¶ä¸­é™¤äº†3ä¸ªhtmlæ¼”ç¤ºæ–‡ä»¶ä»¥å¤–çš„å…¶ä»–7ä¸ªæ–‡ä»¶æ‹·è´åˆ°common/fontsç›®å½•ä¸‹ï¼Œç„¶åå°†iconfont.cssæ–‡ä»¶é‡Œçš„å†…å®¹æ‹·è´åˆ°common/stylus/icon.stylä¸­,é¦–å…ˆè¦ä¿®æ”¹çš„æ˜¯å¼•ç”¨è·¯å¾„ï¼Œå…¶ä»–æ ¹æ®éœ€è¦è‡ªè¡Œä¿®æ”¹å­—ä½“å›¾æ ‡çš„åŸºæœ¬æ ·å¼ã€‚ æµ‹è¯•å­—ä½“å›¾æ ‡æ˜¯å¦å¼•ç”¨æˆåŠŸï¼šæ ¹ç›®å½•main.jsä¸‹ import â€˜./common/stylus/icon.stylâ€™ï¼Œç„¶ååœ¨ç»„ä»¶ä¸­å¼•ç”¨ä¸€ä¸ªå­—ä½“å›¾æ ‡ï¼Œç”¨æµè§ˆå™¨æŸ¥çœ‹æ˜¯å¦å¼•ç”¨æˆåŠŸã€‚Expressè·å–data.jsonæ•°æ®çš„è·¯ç”±é…ç½®data.jsonæ–‡ä»¶æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š æ¥ä¸‹æ¥é…ç½®Expressè·¯ç”±ï¼Œæœ¬é¡¹ç›®åªæ¶‰åŠåˆ°getæ•°æ®ï¼Œæ‰€ä»¥åªè¿›è¡Œäº†ç®€å•çš„è·¯ç”±é…ç½®ï¼ŒExpressçš„è¯¦ç»†ä½¿ç”¨å¯ä»¥æŸ¥çœ‹Expresså®˜ç½‘,æ‰“å¼€build.jsæ–‡ä»¶ä¸‹çš„dev-server.jsæ–‡ä»¶ï¼Œè¿›è¡Œä»¥ä¸‹é…ç½®ï¼š npm run devé‡å¯æœåŠ¡å™¨ï¼Œæµè§ˆå™¨è®¿é—®localhost:8080/api/infor,è‹¥èƒ½çœ‹åˆ°å¦‚data.json/inforé‡Œé¢çš„æ•°æ®è¯´æ˜å·²ç»é…ç½®æˆåŠŸäº†ã€‚ é¡µé¢åµŒå¥—è·¯ç”±é…ç½®å‰é¢è®²åˆ°æœ¬é¡¹ç›®éœ€è¦é…ç½®åµŒå¥—è·¯ç”±ï¼Œé¦–å…ˆçœ‹ä¸€ä¸‹è·¯ç”±ç»„ä»¶çš„ç›®å½•ç»“æ„ï¼šcomponentsç›®å½•ä¸‹é™¤äº†å››ä¸ªä¸»è¦é¡µé¢ç»„ä»¶ï¼Œè¿˜éœ€è¦åœ¨homeç›®å½•ä¸‹æ–°å»ºäº”ä¸ªå­è·¯ç”±å¯¹åº”çš„ç»„ä»¶ã€‚ æ‰“å¼€routerä¸‹çš„indexæ–‡ä»¶è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364import Vue from &apos;vue&apos;import Router from &apos;vue-router&apos;import Home from &apos;../components/home/home&apos;import Find from &apos;../components/find/find&apos;import Infor from &apos;../components/infor/infor&apos;import My from &apos;../components/my/my&apos;import Homepage from &apos;../components/home/homepage/homepage&apos;import Frontend from &apos;../components/home/frontend/frontend&apos;import Product from &apos;../components/home/product/product&apos;import Design from &apos;../components/home/design/design&apos;import Afterend from &apos;../components/home/afterend/afterend&apos;Vue.use(Router)export default new Router(&#123; routes: [ &#123; path: &apos;/&apos;, redirect: &apos;./home&apos; &#125;, &#123; path: &apos;/home&apos;, component: Home, children: [ &#123; path: &apos;/&apos;, redirect: &apos;./homepage&apos; &#125;, &#123; path: &apos;/home/homepage&apos;, component: Homepage &#125;, &#123; path: &apos;/home/frontend&apos;, component: Frontend &#125;, &#123; path: &apos;/home/product&apos;, component: Product &#125;, &#123; path: &apos;/home/design&apos;, component: Design &#125;, &#123; path: &apos;/home/afterend&apos;, component: Afterend &#125; ] &#125;, &#123; path: &apos;/find&apos;, component: Find &#125;, &#123; path: &apos;/infor&apos;, component: Infor &#125;, &#123; path: &apos;/my&apos;, component: My &#125; ]&#125;) redirect: &#39;./home&#39;ï¼Œredirecté‡å®šå‘æ˜¯è§„å®šè¿è¡Œé¡¹ç›®åé¦–æ¬¡æ˜¾ç¤ºçš„é¡µé¢ï¼Œè¿™é‡Œå®šå‘åˆ°homeé¦–é¡µï¼Œå­è·¯ç”±ä¸­åŒæ ·éœ€è¦é‡å®šå‘redirect: &#39;./homepage&#39;ã€‚è§‚å¯Ÿå¯ä»¥å‘ç°ä¸»è·¯ç”±é¦–æ¬¡æ˜¾ç¤ºçš„é¡µé¢å†…å®¹æ˜¯å’Œå­è·¯ç”±é¦–æ¬¡æ˜¾ç¤ºçš„é¡µé¢å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥ç”¨åŒä¸€ä¸ªç»„ä»¶å‘¢?ç™¾èˆ¬å°è¯•åæ²¡æœ‰æˆåŠŸï¼Œå› ä¸ºä¸»è·¯ç”±homeé¡µé¢æ¸²æŸ“å‡ºæ¥åï¼Œå†…å®¹ä¸Šæ˜¯åŒ…å«é¡¶éƒ¨çš„tabåˆ‡æ¢çš„(ä¹Ÿå°±æ˜¯å­è·¯ç”±)ï¼Œæ‰€ä»¥å‰é¢è¯´åˆ°çš„å†…å®¹ä¸€æ ·å…¶å®æ˜¯ä¸ªä¼ªå‘½é¢˜ï¼Œé‚£ä¹ˆå­è·¯ç”±çš„é‡å®šå‘ä¸èƒ½æ˜¯homeè€Œæ˜¯homepageï¼Œå…¬ç”¨çš„é¡µé¢å†…å®¹å†™åœ¨homepageé‡Œé¢ã€‚ æ¥ä¸‹æ¥ç¼–å†™ä¸»è·¯ç”±å’Œå­è·¯ç”±çš„tabç»„ä»¶ 1234567891011121314151617181920212223242526272829 &lt;!-- åº•éƒ¨tabï¼Œé¡¶éƒ¨åŒç† --&gt;&lt;template&gt; &lt;div class=&quot;tab&quot;&gt; &lt;router-link tag=&quot;div&quot; class=&quot;tab-item&quot; to=&quot;/home&quot;&gt; &lt;div class=&quot;tab-link&quot;&gt; &lt;div class=&quot;ic_container&quot;&gt;&lt;i class=&quot;iconfont ic home&quot;&gt;&amp;#xe6a6;&lt;/i&gt;&lt;/div&gt; &lt;span&gt;é¦–é¡µ&lt;/span&gt; &lt;/div&gt; &lt;/router-link&gt; &lt;router-link tag=&quot;div&quot; class=&quot;tab-item&quot; to=&quot;/find&quot;&gt; &lt;div class=&quot;tab-link&quot;&gt; &lt;div class=&quot;ic_container&quot;&gt;&lt;i class=&quot;iconfont ic find&quot;&gt;&amp;#xe669;&lt;/i&gt;&lt;/div&gt; &lt;span&gt;å‘ç°&lt;/span&gt; &lt;/div&gt; &lt;/router-link&gt; &lt;router-link tag=&quot;div&quot; class=&quot;tab-item&quot; to=&quot;/infor&quot;&gt; &lt;div class=&quot;tab-link&quot;&gt; &lt;div class=&quot;ic_container&quot;&gt;&lt;i class=&quot;iconfont ic message&quot;&gt;&amp;#xe62d;&lt;/i&gt;&lt;/div&gt; &lt;span&gt;æ¶ˆæ¯&lt;/span&gt; &lt;/div&gt; &lt;/router-link&gt; &lt;router-link tag=&quot;div&quot; class=&quot;tab-item&quot; to=&quot;/my&quot;&gt; &lt;div class=&quot;tab-link&quot;&gt; &lt;div class=&quot;ic_container&quot;&gt;&lt;i class=&quot;iconfont ic my&quot;&gt;&amp;#xe705;&lt;/i&gt;&lt;/div&gt; &lt;span&gt;æˆ‘çš„&lt;/span&gt; &lt;/div&gt; &lt;/router-link&gt; &lt;/div&gt;&lt;/template&gt; æ³¨æ„ï¼šæ£€æŸ¥è·¯ç”±æ˜¯å¦é…ç½®æˆåŠŸä¸ä»…ä»…è¦çœ‹æ˜¯å¦èƒ½æ­£å¸¸åˆ‡æ¢ï¼Œè¿˜éœ€è¦è§‚å¯Ÿåœ°å€æ è·¯å¾„å˜åŒ–ï¼Œæ˜¯å¦ç¬¦åˆé€»è¾‘ã€‚åº•éƒ¨ç‚¹å‡»åˆ‡æ¢æ—¶ï¼Œhttp://localhost:8080/#/[home,find,infor,my]å››ä¸ªåœ°å€ä¹‹é—´åˆ‡æ¢ã€‚ç‚¹å‡»é¡¶éƒ¨è·¯ç”±æ—¶ï¼Œhttp://localhost:8080/#/home/[homepage,frontend,product,design,afterend]äº”ä¸ªåœ°å€ä¹‹é—´åˆ‡æ¢ã€‚ å‘ç°é¡µè½®æ’­å›¾è½®æ’­å›¾å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ååˆ†å¸¸è§ï¼Œä»¥å¾€çš„è½®æ’­å›¾æ•°æ®éƒ½æ˜¯å†™æ­»çš„ï¼Œä¸èƒ½å˜åŒ–ï¼Œè¿™æ¬¡å¸Œæœ›æ¨¡ä»¿å‡ºæ¥çš„æ˜é‡‘Appæ›´åŠ çœŸå®ï¼Œæ‰€ä»¥åšäº†ä¸€ä¸ªæ•°æ®å¯å˜çš„çš„è½®æ’­å›¾ã€‚å¾ˆé—æ†¾ï¼Œæ˜é‡‘Appä¸Šçš„è½®æ’­å›¾æ•°æ®æš‚æ—¶æ²¡æœ‰æƒ³åˆ°å¥½çš„åŠæ³•å»æ‹¿åˆ°ï¼Œchromeç½‘é¡µç‰ˆæ˜é‡‘åˆ‡æ¢åˆ°æ‰‹æœºæ¨¡å¼ä¾æ—§æ²¡æœ‰è½®æ’­å›¾æ•°æ®ã€‚è¿™é‡Œé€‰ç”¨çš„æ˜¯QQéŸ³ä¹é¦–é¡µè½®æ’­å›¾æ•°æ®ï¼Œç©¶ç«Ÿæ€ä¹ˆæ‹¿åˆ°æ•°æ®å¹¶æ˜¾ç¤ºå‘¢ï¼Ÿ jsonpå°è£…å®‰è£…å¥½jsonpä¾èµ–åï¼Œè¯¦è§webmodules / jsonpï¼Œç„¶åå¯¹å¯¹åŸå§‹jsonpè¿›è¡Œç®€å•çš„å°è£…:12345678910111213141516171819202122232425import originJsonp from &apos;jsonp&apos;//å¯¹å¤–æš´éœ²ä¸€ä¸ªæ–¹æ³•ä¹Ÿå«jsonp,å‚æ•°urlæ˜¯å¹²å‡€çš„æ•°æ®åœ°å€ï¼Œå‚æ•°dataé€‰æ‹©æˆ‘ä»¬æƒ³è¦çš„æ•°æ®å¹¶æ‹¼æ¥urlä¸Šexport default function jsonp(url, data, option) &#123; url += (url.indexOf(&apos;?&apos;) &lt; 0 ? &apos;?&apos; : &apos;&amp;&apos;) + param(data) return new Promise((resolve, reject) =&gt; &#123; originJsonp(url, option, (err, data) =&gt; &#123; if (!err) &#123; resolve(data) &#125; else &#123; reject(err) &#125; &#125;) &#125;)&#125;export function param(data) &#123; let url = &apos;&apos; for (var k in data) &#123; let value = data[k] !== undefined ? data[k] : &apos;&apos; url += &apos;&amp;&apos; + k + &apos;=&apos; + encodeURIComponent(value) &#125; return url ? url.substring(1) : &apos;&apos;&#125; è·å–æ•°æ®åæ¸²æŸ“åˆ°ç»„ä»¶ä¸­ï¼š12345678910111213&lt;div class=&quot;recommend&quot;&gt; &lt;div class=&quot;recommend-content&quot;&gt; &lt;div v-if=&quot;recommends.length&quot; class=&quot;slider-wrapper&quot;&gt; &lt;slider&gt; &lt;div v-for=&quot;item in recommends&quot;&gt; &lt;a :href=&quot;item.linkUrl&quot;&gt; &lt;img :src=&quot;item.picUrl&quot;&gt; &lt;/a&gt; &lt;/div&gt; &lt;/slider&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; better-scroll æ»šåŠ¨åŒºåŸŸçš„å­å…ƒç´ é«˜åº¦å¤§äºçˆ¶å…ƒç´ æ—¶æ‰ä¼šæ»šåŠ¨ï¼Œé€šå¸¸éœ€è¦ç»™æ»šåŠ¨åŒºåŸŸåŠ ä¸Šä¸€å±‚å®šé«˜åº¦çš„ç›’å­ã€‚å¦‚æœåˆ—è¡¨æ˜¯æ•°æ®æ¸²æŸ“æ¥çš„ï¼Œåˆå§‹åŒ–better-scrollçš„æ—¶æœºè¦åœ¨è·å–æ•°æ®å‡½æ•°æ‰§è¡Œæ—¶å°±åˆå§‹åŒ–better-scrollï¼Œä¿è¯èƒ½æ­£ç¡®å°±è®¡ç®—å‡ºå­å…ƒç´ çš„é«˜åº¦ï¼Œå­ã€çˆ¶å…ƒç´ é«˜åº¦å·®å³ä¸ºå¯æ»šåŠ¨çš„é«˜åº¦ã€‚ çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶æ•°æ®é€šä¿¡ åœ¨ç‚¹å‡»æ–°é—»åˆ—è¡¨å,ä¼šå‡ºç°æ–°é—»è¯¦æƒ…é¡µé¢ï¼Œæ–°é—»è¯¦æƒ…é¡µé¢æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­ç»„ä»¶æ¨¡æ¿,é‡Œé¢çš„ä½œè€…ã€å›¾åƒã€æ–‡ç« bannerå›¾ã€æ–‡ç« æ ‡é¢˜ç­‰ä¸€ç³»åˆ—æ•°æ®æ˜¯éœ€è¦åœ¨ç‚¹å‡»æ–°é—»åˆ—è¡¨åå°†æ•°æ®ä¼ é€’è¿‡æ¥å¹¶ç»‘å®šåœ¨ç»„ä»¶ç»“æ„ä¸Šçš„ã€‚ å®šä¹‰å­ç»„ä»¶ï¼š1234567891011121314151617181920212223242526272829303132&lt;template&gt; &lt;transition name=&quot;move&quot;&gt; &lt;div v-show=&quot;showFlag&quot; class=&quot;listdetail&quot;&gt; &lt;div class=&quot;foot&quot;&gt; &lt;div class=&quot;like-num&quot;&gt;å–œæ¬¢ &#123;&#123;list.like&#125;&#125;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/transition&gt;&lt;/template&gt;&lt;script type=&quot;text/ecmascript-6&quot;&gt; export default &#123; data() &#123; return &#123; showFlag: false &#125; &#125;, props: &#123; list: &#123; type: Object &#125; &#125;, methods: &#123; show() &#123; this.showFlag = true; &#125;, hide() &#123; this.showFlag = false; &#125; &#125; &#125;;&lt;/script&gt; åœ¨propsä¸­å®šä¹‰ä¸€ä¸ªå˜é‡listæ¥æ¥å—çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ® çˆ¶ç»„ä»¶ï¼šå¼•å…¥å­ç»„ä»¶listdetailå¹¶æ³¨å†Œ çˆ¶ç»„ä»¶ä¸­æ–°é—»åˆ—è¡¨æ˜¯é€šè¿‡v-foråœ¨liæ ‡ç­¾ä¸Šæ¸²æŸ“å‡ºæ¥çš„ï¼Œç‚¹å‡»æŸæ–°é—»åˆ—è¡¨ä¼ ç»™å­ç»„ä»¶çš„æ•°æ®ä¹Ÿå¿…é¡»æ˜¯å¯¹åº”çš„ï¼Œæ·»åŠ clickäº‹ä»¶@selectlist(item)ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå‚æ•°item,è¿™ä¸ªitemå°±æ˜¯è¯¥æ–°é—»åˆ—è¡¨æ‰€å¯¹åº”çš„ç›¸å…³æ•°æ®ã€‚12345678910111213141516&lt;!-- ref è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼Œç›´æ¥æŒ‡å‘ç»„ä»¶å®ä¾‹ã€‚ listæ¥å—æ•°æ®ã€‚--&gt;&lt;listdetail :list=&quot;selectedlist&quot; ref=&quot;listdetail&quot;&gt;&lt;/listdetail&gt;&lt;!--dataé‡Œé¢å®šä¹‰ä¸€ä¸ªä¸­é—´å˜é‡selectedlist,ç¼“å­˜itemçš„æ•°æ®(æ•°æ®ä¸ºæŸä¸ªæ–°é—»åˆ—è¡¨è€Œéæ‰€æœ‰æ•°æ®)å¹¶å°†å…¶ç»‘å®šåœ¨&lt;listdetail&gt;æ ‡ç­¾ä¸Š--&gt;data: &#123; return &#123; selectedlist: &#123;&#125;, &#125;&#125;&lt;!--å®šä¹‰selectlistå‡½æ•°ï¼Œå°†æ•°æ®èµ‹å€¼ç»™ä¸­é—´å˜é‡selectedlist,å¹¶åœ¨ç‚¹å‡»æ—¶è§¦å‘å­ç»„ä»¶çš„show()æ–¹æ³• --&gt;methods: &#123; selectlist(item) &#123; this.selectedlist = item; this.$refs.listdetail.show(); &#125;,&#125; å°ç»“ å­ç»„ä»¶åœ¨propsä¸­åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œç”¨æ¥æ¥å—çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ®ã€‚ çˆ¶ç»„ä»¶ä¸­æ³¨å†Œå’Œå¼•ç”¨å­ç»„ä»¶ã€‚ åœ¨å­ç»„ä»¶å˜è¿ä¸­æ·»åŠ å­ç»„ä»¶propsä¸­åˆ›å»ºçš„å±æ€§ã€‚ ç‚¹å‡»äº‹ä»¶è§¦å‘å­ç»„ä»¶show()æ–¹æ³•æ—¶å°†æ•°æ®ä¸€å¹¶èµ‹å€¼ç»™æ”¹å±æ€§ã€‚ çˆ¶ç»„ä»¶å¯ä»¥è°ƒç”¨å­ç»„ä»¶ä¸­çš„æ–¹æ³•ã€‚ Vueä¸­transitionè¿‡æ¸¡åŠ¨ç”»Appå¾ˆå¤šåœ°æ–¹ä¼šæœ‰ç‚¹å‡»åå‡ºç°ä¸€ä¸ªæ–°çš„é¡µé¢çš„æ“ä½œï¼Œå¦‚æœä¸åšåŠ¨ç”»çœ‹èµ·æ¥ä¼šæ„Ÿè§‰å·®ç‚¹ä»€ä¹ˆï¼ŒVueä¸­ä¹Ÿæä¾›äº†äº†è¿‡æ¸¡åŠ¨ç”»çš„APIï¼Œå®˜ç½‘æ•™ç¨‹ï¼šhttps://cn.vuejs.org/v2/guide/transitions.htmlã€‚ åœ¨ç‚¹å‡»æ–°é—»åˆ—è¡¨åï¼Œä¼šä»å³è‡³å·¦å‡ºæ¥æ–°é—»è¯¦æƒ…é¡µé¢ï¼Œå®ç°ä¹Ÿååˆ†ç®€å•ï¼š123456789101112131415&lt;template&gt; &lt;transition name=&quot;move&quot;&gt; &lt;div v-show=&quot;showFlag&quot; class=&quot;listdetail&quot;&gt; &lt;!-- ç»„ä»¶å†…å®¹--&gt; &lt;/div&gt; &lt;/transition&gt;&lt;/template&gt;&lt;style&gt; .move-enter-active, .move-leave-active &#123; transition: all 0.2s linear; &#125; .move-enter, .move-leave-active &#123; transform: translate3d(100%, 0, 0); &#125;&lt;/style&gt; h5è°ƒç”¨æ‘„åƒå¤´ h5è°ƒç”¨æ‘„åƒå¤´åœ¨IOSè®¾å¤‡å’Œå®‰å“è®¾å¤‡ä¸Šå­˜åœ¨å¾ˆå¤§çš„å…¼å®¹æ€§é—®é¢˜ï¼Œç›®å‰ä¹Ÿåªæ˜¯å®ç°äº†èƒ½æ‰“å¼€æ‘„åƒå¤´å’Œç›¸å†Œï¼Œå¯¹å›¾ç‰‡è¿›è¡Œç¼–è¾‘å’Œä¸Šä¼ åŠŸèƒ½è¿˜æ²¡æœ‰å®ç°(æ­£åœ¨ç ”ç©¶ä¸­)ã€‚ ç§»åŠ¨ç«¯å®ç°å›¾ç‰‡ä¸Šä¼ å¹¶é¢„è§ˆï¼Œéœ€è¦ç”¨åˆ°h5æ ‡ç­¾inputçš„fileå±æ€§åŠfilereaderå¯¹è±¡ï¼›accept=â€image/*â€ è¡¨ç¤ºæ¥å—çš„æ˜¯å›¾ç‰‡(ä¸é™åˆ¶æ ¼å¼ï¼‰ï¼Œè‹¥æƒ³é™åˆ¶æ ¼å¼éœ€è¦è¿™æ ·å†™capture=â€cameraâ€ ç›´æ¥æ‰“å¼€æ‘„åƒå¤´ï¼Œè‹¥ä¸åŠ ä¼šå‡ºç°é€‰æ‹©æ‰“å¼€ç›¸æœºæˆ–æ‰“å¼€ç›¸å†Œæ€»ç»“æ¨¡ä»¿æ˜é‡‘Appæ˜¯å¯¹Vue2.0çŸ¥è¯†çš„ä¸€ç§å®è·µï¼Œæ•´ä¸ªåšå®Œè¿˜æ˜¯å¾ˆæœ‰æ”¶è·çš„ï¼Œå·©å›ºäº†è‡ªå·±çš„CSSå¸ƒå±€æ–¹é¢çš„åŸºæœ¬åŠŸï¼Œä¹Ÿå¯¹Vue2.0è¯­æ³•çš„å…·ä½“åº”ç”¨åœºæ™¯æ›´åŠ æ¸…æ™°ã€‚","categories":[],"tags":[{"name":"Vue2.0","slug":"Vue2-0","permalink":"http://upyang.com/tags/Vue2-0/"},{"name":"ES6","slug":"ES6","permalink":"http://upyang.com/tags/ES6/"},{"name":"jsonp","slug":"jsonp","permalink":"http://upyang.com/tags/jsonp/"},{"name":"webpack","slug":"webpack","permalink":"http://upyang.com/tags/webpack/"}]},{"title":"Vue2.0æ˜é‡‘App","slug":"Vue-juejin-App","date":"2017-07-21T09:56:15.000Z","updated":"2017-08-02T02:43:02.984Z","comments":true,"path":"2017/07/21/Vue-juejin-App/","link":"","permalink":"http://upyang.com/2017/07/21/Vue-juejin-App/","excerpt":"","text":"æ˜é‡‘ç§»åŠ¨ç«¯APP ğŸ‘‰ githubï¼š https://github.com/Aaron0525/Vue-juejin-App ğŸ‘‰ æ¼”ç¤ºåœ°å€: http://www.upyang.com/Vue-juejin-App/#/home/homepage é¡¹ç›®ä»‹ç»ï¼š&emsp;&emsp;è¿™æ˜¯ä¸€ä¸ªç”¨Vue2.0æ¨¡ä»¿çš„æ˜é‡‘App,ä½¿ç”¨äº†Vue2.0+ES6+webpackç­‰å‰ç«¯çƒ­é—¨æŠ€æœ¯ã€‚æŠ€æœ¯æ ˆï¼š&emsp;&emsp;Vue.js: MVVMè½»é‡ç»„ä»¶åŒ–çš„çƒ­é—¨å‰ç«¯æ¡†æ¶ã€‚&emsp;&emsp;Vuexï¼šçŠ¶æ€ç®¡ç†ã€‚ é‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ã€‚&emsp;&emsp;Vue Routerï¼šå‰ç«¯è·¯ç”±ï¼Œå®ƒæ˜¯Vue.jså®˜æ–¹çš„è·¯ç”±æ’ä»¶ï¼Œå®ƒå’Œvue.jsæ˜¯æ·±åº¦é›†æˆçš„ï¼Œé€‚åˆç”¨äºæ„å»ºå•é¡µé¢åº”ç”¨ã€‚vueçš„å•é¡µé¢åº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥ã€‚&emsp;&emsp;better-scrollï¼šé¡µé¢æ»šåŠ¨æ’ä»¶ï¼Œå®ç°äº†é¡µé¢æ— æ»šåŠ¨æ¡å½¢å¼çš„æ»šåŠ¨ï¼Œä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†é¦–é¡µçš„è½®æ’­å›¾ã€‚&emsp;&emsp;axiosã€jsonpï¼šæŠ“å–æ˜é‡‘PCç«¯çº¿ä¸Šæ–°é—»åˆ—è¡¨æ•°æ®å¹¶æ¸²æŸ“åˆ°ç»„å»ºä¸­ã€‚&emsp;&emsp;Vue-lazyloadï¼šå›¾ç‰‡æ‡’åŠ è½½ã€‚ &emsp;&emsp;æ„å»ºå·¥å…·ï¼š webpack","categories":[],"tags":[{"name":"Vue2.0","slug":"Vue2-0","permalink":"http://upyang.com/tags/Vue2-0/"},{"name":"ES6","slug":"ES6","permalink":"http://upyang.com/tags/ES6/"},{"name":"jsonp","slug":"jsonp","permalink":"http://upyang.com/tags/jsonp/"}]},{"title":"Vue2.0ç§»åŠ¨ç«¯éŸ³ä¹App","slug":"Vue-music","date":"2017-07-18T11:02:20.000Z","updated":"2017-07-28T03:09:06.931Z","comments":true,"path":"2017/07/18/Vue-music/","link":"","permalink":"http://upyang.com/2017/07/18/Vue-music/","excerpt":"","text":"Vue2.0æ­å»ºç§»åŠ¨ç«¯éŸ³ä¹APP ğŸ‘‰ github: https://github.com/Aaron0525/Vue-music ğŸ‘‰ æ¼”ç¤ºåœ°å€: http://www.upyang.com/Vue-music/index.html#/recommend é¡¹ç›®ä»‹ç»ï¼š&emsp;&emsp;è¿™æ˜¯ä¸€ä¸ªç”¨Vue.jså†™çš„ç§»åŠ¨ç«¯éŸ³ä¹App(SPA),ä½¿ç”¨äº†Vue2.0+ES6+webpackç­‰å‰ç«¯çƒ­é—¨æŠ€æœ¯ã€‚æ ¸å¿ƒåŠŸèƒ½çƒ­é—¨æ­Œæ›²æ¨èã€éŸ³ä¹æ’­æ”¾ã€æ­Œæ›²æ­Œæ‰‹æœç´¢ç­‰ã€‚æŠ€æœ¯æ ˆï¼š&emsp;&emsp;MVVMæ¡†æ¶ï¼šVue.jsï¼ˆç‰ˆæœ¬2.0ï¼‰è½»é‡ç»„ä»¶åŒ–çš„çƒ­é—¨å‰ç«¯æ¡†æ¶ã€‚&emsp;&emsp;çŠ¶æ€ç®¡ç†ï¼šVuexã€‚ é‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ã€‚&emsp;&emsp;å‰ç«¯è·¯ç”±ï¼šVue Routerã€‚å®ƒæ˜¯Vue.jså®˜æ–¹çš„è·¯ç”±æ’ä»¶ï¼Œå®ƒå’Œvue.jsæ˜¯æ·±åº¦é›†æˆçš„ï¼Œé€‚åˆç”¨äºæ„å»ºå•é¡µé¢åº”ç”¨ã€‚vueçš„å•é¡µé¢åº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥ã€‚&emsp;&emsp;æ»šåŠ¨æ’ä»¶ï¼šbetter-scrollã€‚å®ç°äº†é¡µé¢æ— æ»šåŠ¨æ¡å½¢å¼çš„æ»šåŠ¨ï¼Œä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†é¦–é¡µçš„è½®æ’­å›¾ã€‚&emsp;&emsp;æ„å»ºå·¥å…·ï¼š webpack&emsp;&emsp;æœåŠ¡ç«¯é€šä¿¡ï¼šaxiosã€jsonpã€‚ä»QQéŸ³ä¹æŠ“å–æ•°æ®æ˜¾ç¤ºåˆ°é¡µé¢ã€‚&emsp;&emsp;æ„å»ºå·¥å…·ï¼š webpack","categories":[],"tags":[{"name":"Vue2.0","slug":"Vue2-0","permalink":"http://upyang.com/tags/Vue2-0/"},{"name":"ES6","slug":"ES6","permalink":"http://upyang.com/tags/ES6/"},{"name":"jsonp","slug":"jsonp","permalink":"http://upyang.com/tags/jsonp/"}]},{"title":"å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹é›…è™å†›è§„","slug":"é›…è™å†›è§„","date":"2017-07-15T08:08:55.000Z","updated":"2017-08-03T15:28:23.316Z","comments":true,"path":"2017/07/15/é›…è™å†›è§„/","link":"","permalink":"http://upyang.com/2017/07/15/é›…è™å†›è§„/","excerpt":"","text":"å°½é‡å‡å°‘HTTPè¯·æ±‚æ•° 80%çš„ç»ˆç«¯ç”¨æˆ·å“åº”æ—¶é—´éƒ½èŠ±åœ¨äº†å‰ç«¯ä¸Šï¼Œå…¶ä¸­å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨ä¸‹è½½é¡µé¢ä¸Šçš„å„ç§ç»„ä»¶ï¼šå›¾ç‰‡ï¼Œæ ·å¼è¡¨ï¼Œè„šæœ¬ï¼ŒFlashç­‰ç­‰ã€‚å‡å°‘ç»„ä»¶æ•°å¿…ç„¶èƒ½å¤Ÿå‡å°‘é¡µé¢æäº¤çš„HTTPè¯·æ±‚æ•°ã€‚è¿™æ˜¯è®©é¡µé¢æ›´å¿«çš„å…³é”®ã€‚ å‡å°‘é¡µé¢ç»„ä»¶æ•°çš„ä¸€ç§æ–¹å¼æ˜¯ç®€åŒ–é¡µé¢è®¾è®¡ã€‚ä½†æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åœ¨æ„å»ºå¤æ‚çš„é¡µé¢åŒæ—¶åŠ å¿«å“åº”æ—¶é—´å‘¢ï¼Ÿå—¯ï¼Œç¡®å®æœ‰é±¼å’Œç†ŠæŒå…¼å¾—çš„åŠæ³•ã€‚ åˆå¹¶æ–‡ä»¶æ˜¯é€šè¿‡æŠŠæ‰€æœ‰è„šæœ¬æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­çš„æ–¹å¼æ¥å‡å°‘è¯·æ±‚æ•°çš„ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥åˆå¹¶æ‰€æœ‰çš„CSSã€‚å¦‚æœå„ä¸ªé¡µé¢çš„è„šæœ¬å’Œæ ·å¼ä¸ä¸€æ ·çš„è¯ï¼Œåˆå¹¶æ–‡ä»¶å°±æ˜¯ä¸€é¡¹æ¯”è¾ƒéº»çƒ¦çš„å·¥ä½œäº†ï¼Œä½†æŠŠè¿™ä¸ªä½œä¸ºç«™ç‚¹å‘å¸ƒè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ç¡®å®å¯ä»¥æé«˜å“åº”æ—¶é—´ã€‚ CSS Spritesæ˜¯å‡å°‘å›¾ç‰‡è¯·æ±‚æ•°é‡çš„é¦–é€‰æ–¹å¼ã€‚æŠŠèƒŒæ™¯å›¾ç‰‡éƒ½æ•´åˆåˆ°ä¸€å¼ å›¾ç‰‡ä¸­ï¼Œç„¶åç”¨CSSçš„background-imageå’Œbackground-positionå±æ€§æ¥å®šä½è¦æ˜¾ç¤ºçš„éƒ¨åˆ†ã€‚ å›¾åƒæ˜ å°„å¯ä»¥æŠŠå¤šå¼ å›¾ç‰‡åˆå¹¶æˆå•å¼ å›¾ç‰‡ï¼Œæ€»å¤§å°æ˜¯ä¸€æ ·çš„ï¼Œä½†å‡å°‘äº†è¯·æ±‚æ•°å¹¶åŠ é€Ÿäº†é¡µé¢åŠ è½½ã€‚å›¾ç‰‡æ˜ å°„åªæœ‰åœ¨å›¾åƒåœ¨é¡µé¢ä¸­è¿ç»­çš„æ—¶å€™æ‰æœ‰ç”¨ï¼Œæ¯”å¦‚å¯¼èˆªæ¡ã€‚ç»™image mapè®¾ç½®åæ ‡çš„è¿‡ç¨‹æ—¢æ— èŠåˆå®¹æ˜“å‡ºé”™ï¼Œç”¨image mapæ¥åšå¯¼èˆªä¹Ÿä¸å®¹æ˜“ï¼Œæ‰€ä»¥ä¸æ¨èç”¨è¿™ç§æ–¹å¼ã€‚ è¡Œå†…å›¾ç‰‡ï¼ˆBase64ç¼–ç ï¼‰ç”¨data: URLæ¨¡å¼æ¥æŠŠå›¾ç‰‡åµŒå…¥é¡µé¢ã€‚è¿™æ ·ä¼šå¢åŠ HTMLæ–‡ä»¶çš„å¤§å°ï¼ŒæŠŠè¡Œå†…å›¾ç‰‡æ”¾åœ¨ï¼ˆç¼“å­˜çš„ï¼‰æ ·å¼è¡¨ä¸­æ˜¯ä¸ªå¥½åŠæ³•ï¼Œè€Œä¸”æˆåŠŸé¿å…äº†é¡µé¢å˜â€œé‡â€ã€‚ä½†ç›®å‰ä¸»æµæµè§ˆå™¨å¹¶ä¸èƒ½å¾ˆå¥½åœ°æ”¯æŒè¡Œå†…å›¾ç‰‡ã€‚ å‡å°‘é¡µé¢çš„HTTPè¯·æ±‚æ•°æ˜¯ä¸ªèµ·ç‚¹ï¼Œè¿™æ˜¯æå‡ç«™ç‚¹é¦–æ¬¡è®¿é—®é€Ÿåº¦çš„é‡è¦æŒ‡å¯¼åŸåˆ™ã€‚ å‡å°‘DNSæŸ¥æ‰¾ åŸŸåç³»ç»Ÿå»ºç«‹äº†ä¸»æœºåå’ŒIPåœ°å€é—´çš„æ˜ å°„ï¼Œå°±åƒç”µè¯ç°¿ä¸Šäººåå’Œå·ç çš„æ˜ å°„ä¸€æ ·ã€‚å½“ä½ åœ¨æµè§ˆå™¨è¾“å…¥www.yahoo.comçš„æ—¶å€™ï¼Œæµè§ˆå™¨å°±ä¼šè”ç³»DNSè§£æå™¨è¿”å›æœåŠ¡å™¨çš„IPåœ°å€ã€‚DNSæ˜¯æœ‰æˆæœ¬çš„ï¼Œå®ƒéœ€è¦20åˆ°120æ¯«ç§’å»æŸ¥æ‰¾ç»™å®šä¸»æœºåçš„IPåœ°å€ã€‚åœ¨DNSæŸ¥æ‰¾å®Œæˆä¹‹å‰ï¼Œæµè§ˆå™¨æ— æ³•ä»ä¸»æœºåä¸‹è½½ä»»ä½•ä¸œè¥¿ã€‚ DNSæŸ¥æ‰¾è¢«ç¼“å­˜èµ·æ¥æ›´é«˜æ•ˆï¼Œç”±ç”¨æˆ·çš„ISPï¼ˆç½‘ç»œæœåŠ¡æä¾›å•†ï¼‰æˆ–è€…æœ¬åœ°ç½‘ç»œå­˜åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ç¼“å­˜æœåŠ¡å™¨ä¸Šï¼Œä½†è¿˜å¯ä»¥ç¼“å­˜åœ¨ä¸ªäººç”¨æˆ·çš„è®¡ç®—æœºä¸Šã€‚DNSä¿¡æ¯è¢«ä¿å­˜åœ¨æ“ä½œç³»ç»Ÿçš„DNS cache(å¾®è½¯Windowsä¸Šçš„â€DNSå®¢æˆ·ç«¯æœåŠ¡â€)é‡Œã€‚å¤§å¤šæ•°æµè§ˆå™¨æœ‰ç‹¬ç«‹äºæ“ä½œç³»ç»Ÿçš„è‡ªå·±çš„cacheã€‚åªè¦æµè§ˆå™¨åœ¨è‡ªå·±çš„cacheé‡Œè¿˜ä¿ç•™ç€è¿™æ¡è®°å½•ï¼Œå®ƒå°±ä¸ä¼šå‘æ“ä½œç³»ç»ŸæŸ¥è¯¢DNSã€‚ IEé»˜è®¤ç¼“å­˜DNSæŸ¥æ‰¾30åˆ†é’Ÿï¼Œå†™åœ¨DnsCacheTimeoutæ³¨å†Œè¡¨è®¾ç½®ä¸­ã€‚Firefoxç¼“å­˜1åˆ†é’Ÿï¼Œå¯ä»¥ç”¨network.dnsCacheExpirationé…ç½®é¡¹è®¾ç½®ã€‚(FasterfoxæŠŠç¼“å­˜æ—¶é—´æ”¹æˆäº†1å°æ—¶ P.S. Fasterfoxæ˜¯FFçš„ä¸€ä¸ªæé€Ÿæ’ä»¶) å¦‚æœå®¢æˆ·ç«¯çš„DNS cacheæ˜¯ç©ºçš„ï¼ˆåŒ…æ‹¬æµè§ˆå™¨çš„å’Œæ“ä½œç³»ç»Ÿçš„ï¼‰ï¼ŒDNSæŸ¥æ‰¾æ•°ç­‰äºé¡µé¢ä¸Šä¸åŒçš„ä¸»æœºåæ•°ï¼ŒåŒ…æ‹¬é¡µé¢URLï¼Œå›¾ç‰‡ï¼Œè„šæœ¬æ–‡ä»¶ï¼Œæ ·å¼è¡¨ï¼ŒFlashå¯¹è±¡ç­‰ç­‰ç»„ä»¶ä¸­çš„ä¸»æœºåï¼Œå‡å°‘ä¸åŒçš„ä¸»æœºåå°±å¯ä»¥å‡å°‘DNSæŸ¥æ‰¾ã€‚ å‡å°‘ä¸åŒä¸»æœºåçš„æ•°é‡åŒæ—¶ä¹Ÿå‡å°‘äº†é¡µé¢èƒ½å¤Ÿå¹¶è¡Œä¸‹è½½çš„ç»„ä»¶æ•°é‡ï¼Œé¿å…DNSæŸ¥æ‰¾å‰Šå‡äº†å“åº”æ—¶é—´ï¼Œè€Œå‡å°‘å¹¶è¡Œä¸‹è½½æ•°é‡å´å¢åŠ äº†å“åº”æ—¶é—´ã€‚æˆ‘çš„åŸåˆ™æ˜¯æŠŠç»„ä»¶åˆ†æ•£åœ¨2åˆ°4ä¸ªä¸»æœºåä¸‹ï¼Œè¿™æ˜¯åŒæ—¶å‡å°‘DNSæŸ¥æ‰¾å’Œå…è®¸é«˜å¹¶å‘ä¸‹è½½çš„æŠ˜ä¸­æ–¹æ¡ˆã€‚ é¿å…é‡å®šå‘é‡å®šå‘ç”¨301å’Œ302çŠ¶æ€ç ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæœ‰301çŠ¶æ€ç çš„HTTPå¤´ï¼š 123HTTP/1.1 301 Moved Permanently Location: http://example.com/newuri Content-Type: text/html æµè§ˆå™¨ä¼šè‡ªåŠ¨è·³è½¬åˆ°LocationåŸŸæŒ‡æ˜çš„URLã€‚é‡å®šå‘éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨HTTPå¤´éƒ¨ï¼Œè€Œå“åº”ä½“ä¸€èˆ¬æ˜¯ç©ºçš„ã€‚å…¶å®é¢å¤–çš„HTTPå¤´ï¼Œæ¯”å¦‚Expireså’ŒCache-Controlä¹Ÿè¡¨ç¤ºé‡å®šå‘ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰åˆ«çš„è·³è½¬æ–¹å¼ï¼šrefreshå…ƒæ ‡ç­¾å’ŒJavaScriptï¼Œä½†å¦‚æœä½ å¿…é¡»å¾—åšé‡å®šå‘ï¼Œæœ€å¥½ç”¨æ ‡å‡†çš„3xxHTTPçŠ¶æ€ç ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®©è¿”å›æŒ‰é’®èƒ½æ­£å¸¸ä½¿ç”¨ã€‚ ç‰¢è®°é‡å®šå‘ä¼šæ‹–æ…¢ç”¨æˆ·ä½“éªŒï¼Œåœ¨ç”¨æˆ·å’ŒHTMLæ–‡æ¡£ä¹‹é—´æ’å…¥é‡å®šå‘ä¼šå»¶è¿Ÿé¡µé¢ä¸Šçš„æ‰€æœ‰ä¸œè¥¿ï¼Œé¡µé¢æ— æ³•æ¸²æŸ“ï¼Œç»„ä»¶ä¹Ÿæ— æ³•å¼€å§‹ä¸‹è½½ï¼Œç›´åˆ°HTMLæ–‡æ¡£è¢«é€è¾¾æµè§ˆå™¨ã€‚ æœ‰ä¸€ç§å¸¸è§çš„æå…¶æµªè´¹èµ„æºçš„é‡å®šå‘ï¼Œè€Œä¸”webå¼€å‘äººå‘˜ä¸€èˆ¬éƒ½æ„è¯†ä¸åˆ°è¿™ä¸€ç‚¹ï¼Œå°±æ˜¯URLå°¾éƒ¨ç¼ºå°‘ä¸€ä¸ªæ–œçº¿çš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼Œè·³è½¬åˆ°http://astrology.yahoo.com/astrologyä¼šè¿”å›ä¸€ä¸ªé‡å®šå‘åˆ°http://astrology.yahoo.com/astrology/çš„301å“åº”ï¼ˆæ³¨æ„æ·»åœ¨å°¾éƒ¨çš„æ–œçº¿ï¼‰ã€‚åœ¨Apacheä¸­å¯ä»¥ç”¨Aliasï¼Œmod_rewriteæˆ–è€…DirectorySlashæŒ‡ä»¤æ¥å–æ¶ˆä¸å¿…è¦çš„é‡å®šå‘ã€‚ é‡å®šå‘æœ€å¸¸è§çš„ç”¨é€”æ˜¯æŠŠæ—§ç«™ç‚¹è¿æ¥åˆ°æ–°çš„ç«™ç‚¹ï¼Œè¿˜å¯ä»¥è¿æ¥åŒä¸€ç«™ç‚¹çš„ä¸åŒéƒ¨åˆ†ï¼Œé’ˆå¯¹ç”¨æˆ·çš„ä¸åŒæƒ…å†µï¼ˆæµè§ˆå™¨ç±»å‹ï¼Œç”¨æˆ·å¸å·ç±»å‹ç­‰ç­‰ï¼‰åšä¸€äº›å¤„ç†ã€‚ç”¨é‡å®šå‘æ¥è¿æ¥ä¸¤ä¸ªç½‘ç«™æ˜¯æœ€ç®€å•çš„ï¼Œåªéœ€è¦å°‘é‡çš„é¢å¤–ä»£ç ã€‚è™½ç„¶åœ¨è¿™äº›æ—¶å€™ä½¿ç”¨é‡å®šå‘å‡å°‘äº†å¼€å‘äººå‘˜çš„å¼€å‘å¤æ‚åº¦ï¼Œä½†é™ä½äº†ç”¨æˆ·ä½“éªŒã€‚ä¸€ç§æ›¿ä»£æ–¹æ¡ˆæ˜¯ç”¨Aliaså’Œmod_rewriteï¼Œå‰ææ˜¯ä¸¤ä¸ªä»£ç è·¯å¾„éƒ½åœ¨ç›¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚å¦‚æœæ˜¯å› ä¸ºåŸŸåå˜åŒ–è€Œä½¿ç”¨äº†é‡å®šå‘ï¼Œå°±å¯ä»¥åˆ›å»ºä¸€æ¡CNAMEï¼ˆåˆ›å»ºä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªåŸŸåçš„DNSè®°å½•ä½œä¸ºåˆ«åï¼‰ç»“åˆAliasæˆ–è€…mod_rewriteæŒ‡ä»¤ã€‚ è®©Ajaxå¯ç¼“å­˜Ajaxçš„ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥ç»™ç”¨æˆ·æä¾›å³æ—¶åé¦ˆï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿä»åå°æœåŠ¡å™¨å¼‚æ­¥è¯·æ±‚ä¿¡æ¯ã€‚ç„¶è€Œï¼Œç”¨äº†Ajaxå°±æ— æ³•ä¿è¯ç”¨æˆ·åœ¨ç­‰å¾…å¼‚æ­¥JavaScriptå’ŒXMLå“åº”è¿”å›æœŸé—´ä¸ä¼šéå¸¸æ— èŠã€‚åœ¨å¾ˆå¤šåº”ç”¨ç¨‹åºä¸­ï¼Œç”¨æˆ·èƒ½å¤Ÿä¸€ç›´ç­‰å¾…å–å†³äºå¦‚ä½•ä½¿ç”¨Ajaxã€‚ä¾‹å¦‚ï¼Œåœ¨åŸºäºwebçš„ç”µå­é‚®ä»¶å®¢æˆ·ç«¯ä¸­ï¼Œç”¨æˆ·ä¸ºäº†å¯»æ‰¾ç¬¦åˆä»–ä»¬æœç´¢æ ‡å‡†çš„é‚®ä»¶æ¶ˆæ¯ï¼Œå°†ä¼šä¿æŒå¯¹Ajaxè¯·æ±‚è¿”å›ç»“æœçš„å…³æ³¨ã€‚é‡è¦çš„æ˜¯ï¼Œè¦è®°å¾—â€œå¼‚æ­¥â€å¹¶ä¸æ„å‘³ç€â€œå³æ—¶â€ã€‚è¦æé«˜æ€§èƒ½ï¼Œä¼˜åŒ–è¿™äº›Ajaxå“åº”è‡³å…³é‡è¦ã€‚æœ€é‡è¦çš„æé«˜Ajaxæ€§èƒ½çš„æ–¹æ³•å°±æ˜¯è®©å“åº”å˜å¾—å¯ç¼“å­˜ï¼Œå°±åƒåœ¨æ·»ä¸ŠExpiresæˆ–è€…Cache-Control HTTPå¤´ä¸­è®¨è®ºçš„ä¸€æ ·ã€‚ä¸‹é¢é€‚ç”¨äºAjaxçš„å…¶å®ƒè§„åˆ™ï¼š Gzipç»„ä»¶ å‡å°‘DNSæŸ¥æ‰¾ å‹ç¼©JavaScript é¿å…é‡å®šå‘ é…ç½®ETags æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ä¾‹å­ï¼Œä¸€ä¸ªWeb2.0çš„ç”µå­é‚®ä»¶å®¢æˆ·ç«¯ç”¨äº†Ajaxæ¥ä¸‹è½½ç”¨æˆ·çš„é€šè®¯å½•ï¼Œä»¥ä¾¿å®ç°è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ã€‚å¦‚æœç”¨æˆ·ä»ä¸Šä¸€æ¬¡ä½¿ç”¨ä¹‹åå†æ²¡æœ‰ä¿®æ”¹è¿‡å¥¹çš„é€šè®¯å½•ï¼Œè€Œä¸”Ajaxå“åº”æ˜¯å¯ç¼“å­˜çš„ï¼Œæœ‰å°šæœªè¿‡æœŸçš„Expiresæˆ–è€…Cache-Control HTTPå¤´ï¼Œé‚£ä¹ˆä¹‹å‰çš„é€šè®¯å½•å°±å¯ä»¥ä»ç¼“å­˜ä¸­è¯»å‡ºã€‚å¿…é¡»é€šçŸ¥æµè§ˆå™¨ï¼Œåº”è¯¥ç»§ç»­ä½¿ç”¨ä¹‹å‰ç¼“å­˜çš„é€šè®¯å½•å“åº”ï¼Œè¿˜æ˜¯å»è¯·æ±‚ä¸€ä¸ªæ–°çš„ã€‚å¯ä»¥é€šè¿‡ç»™é€šè®¯å½•çš„Ajax URLé‡Œæ·»åŠ ä¸€ä¸ªè¡¨æ˜ç”¨æˆ·é€šè®¯å½•æœ€åä¿®æ”¹æ—¶é—´çš„æ—¶é—´æˆ³æ¥å®ç°ï¼Œä¾‹å¦‚&amp;t=1190241612ã€‚å¦‚æœé€šè®¯å½•ä»ä¸Šä¸€æ¬¡ä¸‹è½½ä¹‹åå†æ²¡æœ‰è¢«ä¿®æ”¹è¿‡ï¼Œæ—¶é—´æˆ³ä¸å˜ï¼Œé€šè®¯å½•å°±å°†ä»æµè§ˆå™¨ç¼“å­˜ä¸­ç›´æ¥è¯»å‡ºï¼Œä»è€Œé¿å…ä¸€æ¬¡é¢å¤–çš„HTTPå¾€è¿”æ¶ˆè€—ã€‚å¦‚æœç”¨æˆ·å·²ç»ä¿®æ”¹äº†é€šè®¯å½•ï¼Œæ—¶é—´æˆ³ä¹Ÿå¯ä»¥ç¡®ä¿æ–°çš„URLä¸ä¼šåŒ¹é…ç¼“å­˜çš„å“åº”ï¼Œæµè§ˆå™¨å°†è¯·æ±‚æ–°çš„é€šè®¯å½•æ¡ç›®ã€‚ å³ä½¿Ajaxå“åº”æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œè€Œä¸”å¯èƒ½åªé€‚ç”¨äºå•ç”¨æˆ·ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥è¢«ç¼“å­˜ï¼Œè€Œè¿™æ ·ä¼šè®©ä½ çš„Web 2.0åº”ç”¨æ›´å¿«ã€‚ å»¶è¿ŸåŠ è½½ç»„ä»¶å¯ä»¥å‡‘è¿‘çœ‹çœ‹é¡µé¢å¹¶é—®è‡ªå·±ï¼šä»€ä¹ˆæ‰æ˜¯ä¸€å¼€å§‹æ¸²æŸ“é¡µé¢æ‰€å¿…é¡»çš„ï¼Ÿå…¶ä½™å†…å®¹éƒ½å¯ä»¥ç­‰ä¼šå„¿ã€‚ JavaScriptæ˜¯åˆ†éš”onloadäº‹ä»¶ä¹‹å‰å’Œä¹‹åçš„ä¸€ä¸ªç†æƒ³é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰JavaScriptä»£ç å’Œæ”¯æŒæ‹–æ”¾ä»¥åŠåŠ¨ç”»çš„åº“ï¼Œè¿™äº›éƒ½å¯ä»¥å…ˆç­‰ä¼šå„¿ï¼Œå› ä¸ºæ‹–æ”¾å…ƒç´ æ˜¯åœ¨é¡µé¢æœ€åˆæ¸²æŸ“ä¹‹åçš„ã€‚å…¶å®ƒå¯ä»¥å»¶è¿ŸåŠ è½½çš„éƒ¨åˆ†åŒ…æ‹¬éšè—å†…å®¹ï¼ˆåœ¨æŸä¸ªäº¤äº’åŠ¨ä½œä¹‹åæ‰å‡ºç°çš„å†…å®¹ï¼‰å’ŒæŠ˜å çš„å›¾ç‰‡ã€‚ å·¥å…·å¯å¸®ä½ å‡è½»å·¥ä½œé‡ï¼šYUI Image Loaderå¯ä»¥å»¶è¿ŸåŠ è½½æŠ˜å çš„å›¾ç‰‡ï¼Œè¿˜æœ‰YUI Get utilityæ˜¯ä¸€ç§å¼•å…¥JSå’ŒCSSçš„ç®€å•æ–¹æ³•ã€‚Yahoo!ä¸»é¡µå°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå¯ä»¥æ‰“å¼€Firebugçš„ç½‘ç»œé¢æ¿ä»”ç»†çœ‹çœ‹ã€‚ æœ€å¥½è®©æ€§èƒ½ç›®æ ‡ç¬¦åˆå…¶å®ƒwebå¼€å‘æœ€ä½³å®è·µï¼Œæ¯”å¦‚â€œæ¸è¿›å¢å¼ºâ€ã€‚å¦‚æœå®¢æˆ·ç«¯æ”¯æŒJavaScriptï¼Œå¯ä»¥æé«˜ç”¨æˆ·ä½“éªŒï¼Œä½†å¿…é¡»ç¡®ä¿é¡µé¢åœ¨ä¸æ”¯æŒJavaScriptæ—¶ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚æ‰€ä»¥ï¼Œåœ¨ç¡®å®šé¡µé¢è¿è¡Œæ­£å¸¸ä¹‹åï¼Œå¯ä»¥ç”¨ä¸€äº›å»¶è¿ŸåŠ è½½è„šæœ¬å¢å¼ºå®ƒï¼Œä»¥æ”¯æŒä¸€äº›æ‹–æ”¾å’ŒåŠ¨ç”»ä¹‹ç±»çš„åä¸½æ•ˆæœã€‚ é¢„åŠ è½½ç»„ä»¶ é¢„åŠ è½½å¯èƒ½çœ‹èµ·æ¥å’Œå»¶è¿ŸåŠ è½½æ˜¯ç›¸åçš„ï¼Œä½†å®ƒå…¶å®æœ‰ä¸åŒçš„ç›®æ ‡ã€‚é€šè¿‡é¢„åŠ è½½ç»„ä»¶å¯ä»¥å……åˆ†åˆ©ç”¨æµè§ˆå™¨ç©ºé—²çš„æ—¶é—´æ¥è¯·æ±‚å°†æ¥ä¼šç”¨åˆ°çš„ç»„ä»¶ï¼ˆå›¾ç‰‡ï¼Œæ ·å¼å’Œè„šæœ¬ï¼‰ã€‚ç”¨æˆ·è®¿é—®ä¸‹ä¸€é¡µçš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†ç»„ä»¶éƒ½å·²ç»åœ¨ç¼“å­˜é‡Œäº†ï¼Œæ‰€ä»¥åœ¨ç”¨æˆ·çœ‹æ¥é¡µé¢ä¼šåŠ è½½å¾—æ›´å¿«ã€‚ å®é™…åº”ç”¨ä¸­æœ‰ä»¥ä¸‹å‡ ç§é¢„åŠ è½½çš„ç±»å‹ï¼š æ— æ¡ä»¶é¢„åŠ è½½â€”â€”å°½å¿«å¼€å§‹åŠ è½½ï¼Œè·å–ä¸€äº›é¢å¤–çš„ç»„ä»¶ã€‚google.comå°±æ˜¯ä¸€ä¸ªspriteå›¾ç‰‡é¢„åŠ è½½çš„å¥½ä¾‹å­ï¼Œè¿™ä¸ªspriteå›¾ç‰‡å¹¶ä¸æ˜¯google.comä¸»é¡µéœ€è¦çš„ï¼Œè€Œæ˜¯æœç´¢ç»“æœé¡µé¢ä¸Šçš„å†…å®¹ã€‚æ¡ä»¶æ€§é¢„åŠ è½½â€”â€”æ ¹æ®ç”¨æˆ·æ“ä½œçŒœæµ‹ç”¨æˆ·å°†è¦è·³è½¬åˆ°å“ªé‡Œå¹¶æ®æ­¤é¢„åŠ è½½ã€‚åœ¨search.yahoo.comçš„è¾“å…¥æ¡†é‡Œé”®å…¥å†…å®¹åï¼Œå¯ä»¥çœ‹åˆ°é‚£äº›é¢å¤–ç»„ä»¶æ˜¯æ€æ ·è¯·æ±‚åŠ è½½çš„ã€‚æå‰é¢„åŠ è½½â€”â€”åœ¨æ¨å‡ºæ–°è®¾è®¡ä¹‹å‰é¢„åŠ è½½ã€‚ç»å¸¸åœ¨é‡æ–°è®¾è®¡ä¹‹åä¼šå¬åˆ°ï¼šâ€œè¿™ä¸ªæ–°ç½‘ç«™ä¸é”™ï¼Œä½†æ¯”ä»¥å‰æ›´æ…¢äº†â€ï¼Œä¸€éƒ¨åˆ†åŸå› æ˜¯ç”¨æˆ·è®¿é—®å…ˆå‰çš„é¡µé¢éƒ½æ˜¯æœ‰æ—§ç¼“å­˜çš„ï¼Œä½†æ–°çš„å´æ˜¯ä¸€ç§ç©ºç¼“å­˜çŠ¶æ€ä¸‹çš„ä½“éªŒã€‚å¯ä»¥é€šè¿‡åœ¨å°†è¦æ¨å‡ºæ–°è®¾è®¡ä¹‹å‰é¢„åŠ è½½ä¸€äº›ç»„ä»¶æ¥å‡è½»è¿™ç§è´Ÿé¢å½±å“ï¼Œè€ç«™å¯ä»¥åˆ©ç”¨æµè§ˆå™¨ç©ºé—²çš„æ—¶é—´æ¥è¯·æ±‚é‚£äº›æ–°ç«™éœ€è¦çš„å›¾ç‰‡å’Œè„šæœ¬ã€‚ å‡å°‘DOMå…ƒç´ çš„æ•°é‡ ä¸€ä¸ªå¤æ‚çš„é¡µé¢æ„å‘³ç€è¦ä¸‹è½½æ›´å¤šçš„å­—èŠ‚ï¼Œè€Œä¸”ç”¨JavaScriptè®¿é—®DOMä¹Ÿä¼šæ›´æ…¢ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæƒ³è¦æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨çš„æ—¶å€™ï¼Œå¾ªç¯éå†é¡µé¢ä¸Šçš„500ä¸ªDOMå…ƒç´ å’Œ5000ä¸ªDOMå…ƒç´ æ˜¯æœ‰åŒºåˆ«çš„ã€‚ å¤§é‡çš„DOMå…ƒç´ æ˜¯ä¸€ç§å¾å…†â€”â€”é¡µé¢ä¸Šæœ‰äº›å†…å®¹æ— å…³çš„æ ‡è®°éœ€è¦æ¸…ç†ã€‚æ­£åœ¨ç”¨åµŒå¥—è¡¨æ ¼æ¥å¸ƒå±€å—ï¼Ÿè¿˜æ˜¯ä¸ºäº†ä¿®å¤å¸ƒå±€é—®é¢˜è€Œæ·»äº†ä¸€å †çš„sï¼Ÿæˆ–è®¸åº”è¯¥ç”¨æ›´å¥½çš„è¯­ä¹‰åŒ–æ ‡è®°ã€‚ YUI CSS utilitieså¯¹å¸ƒå±€æœ‰å¾ˆå¤§å¸®åŠ©ï¼šgrids.cssé’ˆå¯¹æ•´ä½“å¸ƒå±€ï¼Œfonts.csså’Œreset.csså¯ä»¥ç”¨æ¥å»é™¤æµè§ˆå™¨çš„é»˜è®¤æ ¼å¼ã€‚è¿™æ˜¯ä¸ªå¼€å§‹æ¸…ç†å’Œæ€è€ƒæ ‡è®°çš„å¥½æœºä¼šï¼Œä¾‹å¦‚åªåœ¨è¯­ä¹‰ä¸Šæœ‰æ„ä¹‰çš„æ—¶å€™ä½¿ç”¨ï¼Œè€Œä¸æ˜¯å› ä¸ºå®ƒèƒ½å¤Ÿæ¸²æŸ“ä¸€ä¸ªæ–°è¡Œã€‚ DOMå…ƒç´ çš„æ•°é‡å¾ˆå®¹æ˜“æµ‹è¯•ï¼Œåªéœ€è¦åœ¨Firebugçš„æ§åˆ¶å°é‡Œè¾“å…¥ï¼š 1document.getElementsByTagName(&apos;*&apos;).length é‚£ä¹ˆå¤šå°‘DOMå…ƒç´ æ‰ç®—æ˜¯å¤ªå¤šå‘¢ï¼Ÿå¯ä»¥å‚è€ƒå…¶å®ƒç±»ä¼¼çš„æ ‡è®°è‰¯å¥½çš„é¡µé¢ï¼Œä¾‹å¦‚Yahoo!ä¸»é¡µæ˜¯ä¸€ä¸ªç›¸å½“ç¹å¿™çš„é¡µé¢ï¼Œä½†åªæœ‰ä¸åˆ°700ä¸ªå…ƒç´ ï¼ˆHTMLæ ‡ç­¾ï¼‰ã€‚ è·¨åŸŸåˆ†ç¦»ç»„ä»¶ åˆ†ç¦»ç»„ä»¶å¯ä»¥æœ€å¤§åŒ–å¹¶è¡Œä¸‹è½½ï¼Œä½†è¦ç¡®ä¿åªç”¨ä¸è¶…è¿‡2-4ä¸ªåŸŸï¼Œå› ä¸ºå­˜åœ¨DNSæŸ¥æ‰¾çš„ä»£ä»·ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æŠŠHTMLå’ŒåŠ¨æ€å†…å®¹éƒ¨ç½²åœ¨www.example.orgï¼Œè€ŒæŠŠé™æ€ç»„ä»¶åˆ†ç¦»åˆ°static1.example.orgå’Œstatic2.example.orgã€‚ å°½é‡å°‘ç”¨iframe ç”¨iframeå¯ä»¥æŠŠä¸€ä¸ªHTMLæ–‡æ¡£æ’å…¥åˆ°çˆ¶æ–‡æ¡£é‡Œï¼Œé‡è¦çš„æ˜¯æ˜ç™½iframeæ˜¯å¦‚ä½•å·¥ä½œçš„å¹¶é«˜æ•ˆåœ°ä½¿ç”¨å®ƒã€‚ &lt;iframe&gt;çš„ä¼˜ç‚¹ï¼š å¼•å…¥ç¼“æ…¢çš„ç¬¬ä¸‰æ–¹å†…å®¹ï¼Œæ¯”å¦‚æ ‡å¿—å’Œå¹¿å‘Šå®‰å…¨æ²™ç®±å¹¶è¡Œä¸‹è½½è„šæœ¬&lt;iframe&gt;çš„ç¼ºç‚¹ï¼š ä»£ä»·é«˜æ˜‚ï¼Œå³ä½¿æ˜¯ç©ºç™½çš„iframeé˜»å¡é¡µé¢åŠ è½½éè¯­ä¹‰ æœç»404 HTTPè¯·æ±‚ä»£ä»·é«˜æ˜‚ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦ç”¨ä¸€ä¸ªHTTPè¯·æ±‚å»è·å–ä¸€ä¸ªæ— ç”¨çš„å“åº”ï¼ˆæ¯”å¦‚404 Not Foundï¼‰ï¼Œåªä¼šæ‹–æ…¢ç”¨æˆ·ä½“éªŒè€Œæ²¡æœ‰ä»»ä½•å¥½å¤„ã€‚ æœ‰äº›ç«™ç‚¹ç”¨çš„æ˜¯æœ‰å¸®åŠ©çš„404â€”â€”â€œä½ çš„æ„æ€æ˜¯xxxï¼Ÿâ€ï¼Œè¿™æ ·åšæœ‰åˆ©äºç”¨æˆ·ä½“éªŒï¼Œï¼Œä½†ä¹Ÿæµªè´¹äº†æœåŠ¡å™¨èµ„æºï¼ˆæ¯”å¦‚æ•°æ®åº“ç­‰ç­‰ï¼‰ã€‚æœ€ç³Ÿç³•çš„æ˜¯é“¾æ¥åˆ°çš„å¤–éƒ¨JavaScriptæœ‰é”™è¯¯è€Œä¸”ç»“æœæ˜¯404ã€‚é¦–å…ˆï¼Œè¿™ç§ä¸‹è½½å°†é˜»å¡å¹¶è¡Œä¸‹è½½ã€‚å…¶æ¬¡ï¼Œæµè§ˆå™¨ä¼šè¯•å›¾è§£æ404å“åº”ä½“ï¼Œå› ä¸ºå®ƒæ˜¯JavaScriptä»£ç ï¼Œéœ€è¦æ‰¾å‡ºå…¶ä¸­å¯ç”¨çš„éƒ¨åˆ†ã€‚ é¿å…ä½¿ç”¨CSSè¡¨è¾¾å¼ç”¨CSSè¡¨è¾¾å¼åŠ¨æ€è®¾ç½®CSSå±æ€§ï¼Œæ˜¯ä¸€ç§å¼ºå¤§åˆå±é™©çš„æ–¹å¼ã€‚ä»IE5å¼€å§‹æ”¯æŒï¼Œä½†ä»IE8èµ·å°±ä¸æ¨èä½¿ç”¨äº†ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨CSSè¡¨è¾¾å¼æŠŠèƒŒæ™¯é¢œè‰²è®¾ç½®æˆæŒ‰å°æ—¶äº¤æ›¿çš„ï¼š 1background-color: expression( (new Date()).getHours()%2 ? &quot;#B8D4FF&quot; : &quot;#F08A00&quot; ); é€‰æ‹©èˆå¼ƒ@importå‰é¢æåˆ°äº†ä¸€ä¸ªæœ€ä½³å®è·µï¼šä¸ºäº†å®ç°é€æ­¥æ¸²æŸ“ï¼ŒCSSåº”è¯¥æ”¾åœ¨é¡¶éƒ¨ã€‚ åœ¨IEä¸­ç”¨@importä¸åœ¨åº•éƒ¨ç”¨æ•ˆæœä¸€æ ·ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦ç”¨å®ƒã€‚ é¿å…ä½¿ç”¨æ»¤é•œ IEä¸“æœ‰çš„AlphaImageLoaderæ»¤é•œå¯ä»¥ç”¨æ¥ä¿®å¤IE7ä¹‹å‰çš„ç‰ˆæœ¬ä¸­åŠé€æ˜PNGå›¾ç‰‡çš„é—®é¢˜ã€‚åœ¨å›¾ç‰‡åŠ è½½è¿‡ç¨‹ä¸­ï¼Œè¿™ä¸ªæ»¤é•œä¼šé˜»å¡æ¸²æŸ“ï¼Œå¡ä½æµè§ˆå™¨ï¼Œè¿˜ä¼šå¢åŠ å†…å­˜æ¶ˆè€—è€Œä¸”æ˜¯è¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ çš„ï¼Œè€Œä¸æ˜¯æ¯ä¸ªå›¾ç‰‡ï¼Œæ‰€ä»¥ä¼šå­˜åœ¨ä¸€å¤§å †é—®é¢˜ã€‚ æœ€å¥½çš„æ–¹æ³•æ˜¯å¹²è„†ä¸è¦ç”¨AlphaImageLoaderï¼Œè€Œä¼˜é›…åœ°é™çº§åˆ°ç”¨åœ¨IEä¸­æ”¯æŒæ€§å¾ˆå¥½çš„PNG8å›¾ç‰‡æ¥ä»£æ›¿ã€‚å¦‚æœéè¦ç”¨AlphaImageLoaderï¼Œåº”è¯¥ç”¨ä¸‹åˆ’çº¿hackï¼š_filteræ¥é¿å…å½±å“IE7åŠæ›´é«˜ç‰ˆæœ¬çš„ç”¨æˆ·ã€‚ æŠŠæ ·å¼è¡¨æ”¾åœ¨é¡¶éƒ¨ åœ¨Yahoo!ç ”ç©¶æ€§èƒ½çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°æŠŠæ ·å¼è¡¨æ”¾åˆ°æ–‡æ¡£çš„HEADéƒ¨åˆ†èƒ½è®©é¡µé¢çœ‹èµ·æ¥åŠ è½½åœ°æ›´å¿«ã€‚è¿™æ˜¯å› ä¸ºæŠŠæ ·å¼è¡¨æ”¾åœ¨headé‡Œèƒ½è®©é¡µé¢é€æ­¥æ¸²æŸ“ã€‚ å…³æ³¨æ€§èƒ½çš„å‰ç«¯å·¥ç¨‹å¸ˆæƒ³è®©é¡µé¢é€æ­¥æ¸²æŸ“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æƒ³è®©æµè§ˆå™¨å°½å¿«æ˜¾ç¤ºå·²æœ‰å†…å®¹ï¼Œè¿™åœ¨é¡µé¢ä¸Šæœ‰ä¸€å¤§å †å†…å®¹æˆ–è€…ç”¨æˆ·ç½‘é€Ÿå¾ˆæ…¢æ—¶æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚ç»™ç”¨æˆ·æ˜¾ç¤ºåé¦ˆï¼ˆæ¯”å¦‚è¿›åº¦æŒ‡æ ‡ï¼‰çš„é‡è¦æ€§å·²ç»è¢«å¹¿æ³›ç ”ç©¶è¿‡ï¼Œå¹¶ä¸”è¢«è®°å½•ä¸‹æ¥äº†ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒHTMLé¡µé¢å°±æ˜¯è¿›åº¦æŒ‡æ ‡ï¼å½“æµè§ˆå™¨é€æ¸åŠ è½½é¡µé¢å¤´éƒ¨ï¼Œå¯¼èˆªæ¡ï¼Œé¡¶éƒ¨logoç­‰ç­‰å†…å®¹çš„æ—¶å€™ï¼Œè¿™äº›éƒ½è¢«æ­£åœ¨ç­‰å¾…é¡µé¢åŠ è½½çš„ç”¨æˆ·å½“ä½œåé¦ˆï¼Œèƒ½å¤Ÿæé«˜æ•´ä½“ç”¨æˆ·ä½“éªŒã€‚ å»é™¤é‡å¤è„šæœ¬ é¡µé¢å«æœ‰é‡å¤çš„è„šæœ¬æ–‡ä»¶ä¼šå½±å“æ€§èƒ½ï¼Œè¿™å¯èƒ½å’Œä½ æƒ³è±¡çš„ä¸ä¸€æ ·ã€‚åœ¨å¯¹ç¾å›½å‰10å¤§webç«™ç‚¹çš„è¯„å®¡ä¸­ï¼Œå‘ç°åªæœ‰2ä¸ªç«™ç‚¹å«æœ‰é‡å¤è„šæœ¬ã€‚ä¸¤ä¸ªä¸»è¦åŸå› å¢åŠ äº†åœ¨å•ä¸€é¡µé¢ä¸­å‡ºç°é‡å¤è„šæœ¬çš„å‡ ç‡ï¼šå›¢é˜Ÿå¤§å°å’Œè„šæœ¬æ•°é‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé‡å¤è„šæœ¬ä¼šåˆ›å»ºä¸å¿…è¦çš„HTTPè¯·æ±‚ï¼Œæ‰§è¡Œæ— ç”¨çš„JavaScriptä»£ç ï¼Œè€Œå½±å“é¡µé¢æ€§èƒ½ã€‚ IEä¼šäº§ç”Ÿä¸å¿…è¦çš„HTTPè¯·æ±‚ï¼Œè€ŒFirefoxä¸ä¼šã€‚åœ¨IEä¸­ï¼Œå¦‚æœä¸€ä¸ªä¸å¯ç¼“å­˜çš„å¤–éƒ¨è„šæœ¬è¢«é¡µé¢å¼•å…¥äº†ä¸¤æ¬¡ï¼Œå®ƒä¼šåœ¨é¡µé¢åŠ è½½æ—¶äº§ç”Ÿä¸¤ä¸ªHTTPè¯·æ±‚ã€‚å³ä½¿è„šæœ¬æ˜¯å¯ç¼“å­˜çš„ï¼Œåœ¨ç”¨æˆ·é‡æ–°åŠ è½½é¡µé¢æ—¶ä¹Ÿä¼šäº§ç”Ÿé¢å¤–çš„HTTPè¯·æ±‚ã€‚ é™¤äº†äº§ç”Ÿæ²¡æœ‰æ„ä¹‰çš„HTTPè¯·æ±‚ä¹‹å¤–ï¼Œå¤šæ¬¡å¯¹è„šæœ¬æ±‚å€¼ä¹Ÿä¼šæµªè´¹æ—¶é—´ã€‚å› ä¸ºæ— è®ºè„šæœ¬æ˜¯å¦å¯ç¼“å­˜ï¼Œåœ¨Firefoxå’ŒIEä¸­éƒ½ä¼šæ‰§è¡Œå†—ä½™çš„JavaScriptä»£ç ã€‚ é¿å…ä¸å°å¿ƒæŠŠç›¸åŒè„šæœ¬å¼•å…¥ä¸¤æ¬¡çš„ä¸€ç§æ–¹æ³•å°±æ˜¯åœ¨æ¨¡ç‰ˆç³»ç»Ÿä¸­å®ç°è„šæœ¬ç®¡ç†æ¨¡å—ã€‚å…¸å‹çš„è„šæœ¬å¼•å…¥æ–¹æ³•å°±æ˜¯åœ¨HTMLé¡µé¢ä¸­ç”¨SCRIPTæ ‡ç­¾ï¼š1&lt;script type=&quot;text/javascript&quot; src=&quot;menu_1.0.17.js&quot;&gt;&lt;/script&gt; å°½é‡å‡å°‘DOMè®¿é—®ç”¨JavaScriptè®¿é—®DOMå…ƒç´ æ˜¯å¾ˆæ…¢çš„ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†è®©é¡µé¢ååº”æ›´è¿…é€Ÿï¼Œåº”è¯¥ï¼š ç¼“å­˜å·²è®¿é—®è¿‡çš„å…ƒç´ çš„ç´¢å¼•å…ˆâ€œç¦»çº¿â€æ›´æ–°èŠ‚ç‚¹ï¼Œå†æŠŠå®ƒä»¬æ·»åˆ°DOMæ ‘ä¸Šé¿å…ç”¨JavaScriptä¿®å¤å¸ƒå±€é—®é¢˜ ç”¨æ™ºèƒ½çš„äº‹ä»¶å¤„ç†å™¨ æœ‰æ—¶å€™æ„Ÿè§‰é¡µé¢åæ˜ ä¸å¤Ÿçµæ•ï¼Œæ˜¯å› ä¸ºæœ‰å¤ªå¤šé¢‘ç¹æ‰§è¡Œçš„äº‹ä»¶å¤„ç†å™¨è¢«æ·»åŠ åˆ°äº†DOMæ ‘çš„ä¸åŒå…ƒç´ ä¸Šï¼Œè¿™å°±æ˜¯æ¨èä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„åŸå› ã€‚å¦‚æœä¸€ä¸ªdivé‡Œé¢æœ‰10ä¸ªæŒ‰é’®ï¼Œåº”è¯¥åªç»™divå®¹å™¨æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯ç»™æ¯ä¸ªæŒ‰é’®éƒ½æ·»åŠ ä¸€ä¸ªã€‚äº‹ä»¶èƒ½å¤Ÿå†’æ³¡ï¼Œæ‰€ä»¥å¯ä»¥æ•è·äº‹ä»¶å¹¶å¾—çŸ¥å“ªä¸ªæŒ‰é’®æ˜¯äº‹ä»¶æºã€‚ æŠŠè„šæœ¬æ”¾åœ¨åº•éƒ¨ è„šæœ¬ä¼šé˜»å¡å¹¶è¡Œä¸‹è½½ï¼ŒHTTP/1.1å®˜æ–¹æ–‡æ¡£å»ºè®®æµè§ˆå™¨æ¯ä¸ªä¸»æœºåä¸‹å¹¶è¡Œä¸‹è½½çš„ç»„ä»¶æ•°ä¸è¦è¶…è¿‡ä¸¤ä¸ªï¼Œå¦‚æœå›¾ç‰‡æ¥è‡ªå¤šä¸ªä¸»æœºåï¼Œå¹¶è¡Œä¸‹è½½çš„æ•°é‡å°±å¯ä»¥è¶…è¿‡ä¸¤ä¸ªã€‚å¦‚æœè„šæœ¬æ­£åœ¨ä¸‹è½½ï¼Œæµè§ˆå™¨å°±ä¸å¼€å§‹ä»»ä½•å…¶å®ƒä¸‹è½½ä»»åŠ¡ï¼Œå³ä½¿æ˜¯åœ¨ä¸åŒä¸»æœºåä¸‹çš„ã€‚ æœ‰æ—¶å€™ï¼Œå¹¶ä¸å®¹æ˜“æŠŠè„šæœ¬ç§»åŠ¨åˆ°åº•éƒ¨ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœè„šæœ¬æ˜¯ç”¨document.writeæ’å…¥åˆ°é¡µé¢å†…å®¹ä¸­çš„ï¼Œå°±æ²¡åŠæ³•å†å¾€ä¸‹ç§»äº†ã€‚è¿˜å¯èƒ½å­˜åœ¨ä½œç”¨åŸŸé—®é¢˜ï¼Œåœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™äº›é—®é¢˜éƒ½æ˜¯å¯ä»¥è§£å†³çš„ã€‚ ä¸€ä¸ªå¸¸è§çš„å»ºè®®æ˜¯ç”¨æ¨è¿Ÿï¼ˆdeferredï¼‰è„šæœ¬ï¼Œæœ‰DEFERå±æ€§çš„è„šæœ¬æ„å‘³ç€ä¸èƒ½å«æœ‰document.writeï¼Œå¹¶ä¸”æç¤ºæµè§ˆå™¨å‘Šè¯‰ä»–ä»¬å¯ä»¥ç»§ç»­æ¸²æŸ“ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒFirefoxä¸æ”¯æŒDEFERå±æ€§ã€‚åœ¨IEä¸­ï¼Œè„šæœ¬å¯èƒ½è¢«æ¨è¿Ÿï¼Œä½†ä¸å°½å¦‚äººæ„ã€‚å¦‚æœè„šæœ¬å¯ä»¥æ¨è¿Ÿï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒæ”¾åˆ°é¡µé¢åº•éƒ¨ï¼Œé¡µé¢å°±å¯ä»¥æ›´å¿«åœ°è½½å…¥ã€‚ æŠŠJavaScriptå’ŒCSSæ”¾åˆ°å¤–é¢ å¾ˆå¤šæ€§èƒ½åŸåˆ™éƒ½æ˜¯å…³äºå¦‚ä½•ç®¡ç†å¤–éƒ¨ç»„ä»¶çš„ï¼Œç„¶è€Œï¼Œåœ¨è¿™äº›é¡¾è™‘å‡ºç°ä¹‹å‰ä½ åº”è¯¥é—®ä¸€ä¸ªæ›´åŸºç¡€çš„é—®é¢˜ï¼šåº”è¯¥æŠŠJavaScriptå’ŒCSSæ”¾åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­è¿˜æ˜¯ç›´æ¥å†™åœ¨é¡µé¢é‡Œï¼Ÿ å®é™…ä¸Šï¼Œç”¨å¤–éƒ¨æ–‡ä»¶å¯ä»¥è®©é¡µé¢æ›´å¿«ï¼Œå› ä¸ºJavaScriptå’ŒCSSæ–‡ä»¶ä¼šè¢«ç¼“å­˜åœ¨æµè§ˆå™¨ã€‚HTMLæ–‡æ¡£ä¸­çš„è¡Œå†…JavaScriptå’ŒCSSåœ¨æ¯æ¬¡è¯·æ±‚è¯¥HTMLæ–‡æ¡£çš„æ—¶å€™éƒ½ä¼šé‡æ–°ä¸‹è½½ã€‚è¿™æ ·åšå‡å°‘äº†æ‰€éœ€çš„HTTPè¯·æ±‚æ•°ï¼Œä½†å¢åŠ äº†HTMLæ–‡æ¡£çš„å¤§å°ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœJavaScriptå’ŒCSSåœ¨å¤–éƒ¨æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”å·²ç»è¢«æµè§ˆå™¨ç¼“å­˜èµ·æ¥äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æˆåŠŸåœ°æŠŠHTMLæ–‡æ¡£å˜å°äº†ï¼Œè€Œä¸”è¿˜æ²¡æœ‰å¢åŠ HTTPè¯·æ±‚æ•°ã€‚ å‹ç¼©JavaScriptå’ŒCSS å‹ç¼©å…·ä½“æ¥è¯´å°±æ˜¯ä»ä»£ç ä¸­å»é™¤ä¸å¿…è¦çš„å­—ç¬¦ä»¥å‡å°‘å¤§å°ï¼Œä»è€Œæå‡åŠ è½½é€Ÿåº¦ã€‚ä»£ç æœ€å°åŒ–å°±æ˜¯å»æ‰æ‰€æœ‰æ³¨é‡Šå’Œä¸å¿…è¦çš„ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ï¼Œæ¢è¡Œå’Œtabï¼‰ã€‚åœ¨JavaScriptä¸­è¿™æ ·åšèƒ½å¤Ÿæé«˜å“åº”æ€§èƒ½ï¼Œå› ä¸ºè¦ä¸‹è½½çš„æ–‡ä»¶å˜å°äº†ã€‚ä¸¤ä¸ªæœ€å¸¸ç”¨çš„JavaScriptä»£ç å‹ç¼©å·¥å…·æ˜¯JSMinå’ŒYUI Compressorï¼ŒYUI compressorè¿˜å¯ä»¥å‹ç¼©CSSã€‚ æ··æ·†æ˜¯ä¸€ç§å¯é€‰çš„æºç ä¼˜åŒ–æªæ–½ï¼Œè¦æ¯”å‹ç¼©æ›´å¤æ‚ï¼Œæ‰€ä»¥æ··æ·†è¿‡ç¨‹ä¹Ÿæ›´å®¹æ˜“äº§ç”Ÿbugã€‚åœ¨å¯¹ç¾å›½å‰åçš„ç½‘ç«™è°ƒæŸ¥ä¸­ï¼Œå‹ç¼©å¯ä»¥ç¼©å°21%ï¼Œè€Œæ··æ·†èƒ½ç¼©å°25%ã€‚è™½ç„¶æ··æ·†çš„ç¼©å°ç¨‹åº¦æ›´é«˜ï¼Œä½†æ¯”å‹ç¼©é£é™©æ›´å¤§ã€‚ é™¤äº†å‹ç¼©å¤–éƒ¨è„šæœ¬å’Œæ ·å¼ï¼Œè¡Œå†…çš„&lt;script&gt;å’Œ&lt;style&gt;å—ä¹Ÿå¯ä»¥å‹ç¼©ã€‚å³ä½¿å¯ç”¨äº†gzipæ¨¡å—ï¼Œå…ˆè¿›è¡Œå‹ç¼©ä¹Ÿèƒ½å¤Ÿç¼©å°5%æˆ–è€…æ›´å¤šçš„å¤§å°ã€‚JavaScriptå’ŒCSSçš„ç”¨å¤„è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥å‹ç¼©ä»£ç ä¼šæœ‰ä¸é”™çš„æ•ˆæœã€‚ ä¼˜åŒ–å›¾ç‰‡å°è¯•æŠŠGIFæ ¼å¼è½¬æ¢æˆPNGæ ¼å¼ï¼Œçœ‹çœ‹æ˜¯å¦èŠ‚çœç©ºé—´ã€‚åœ¨æ‰€æœ‰çš„PNGå›¾ç‰‡ä¸Šè¿è¡Œpngcrushï¼ˆæˆ–è€…å…¶å®ƒPNGä¼˜åŒ–å·¥å…·ï¼‰ ä¼˜åŒ–CSS Spriteåœ¨Spriteå›¾ç‰‡ä¸­æ¨ªå‘æ’åˆ—ä¸€èˆ¬éƒ½æ¯”çºµå‘æ’åˆ—çš„æœ€ç»ˆæ–‡ä»¶å°ç»„åˆSpriteå›¾ç‰‡ä¸­çš„ç›¸ä¼¼é¢œè‰²å¯ä»¥ä¿æŒä½è‰²æ•°ï¼Œæœ€ç†æƒ³çš„æ˜¯256è‰²ä»¥ä¸‹PNG8æ ¼å¼â€œå¯¹ç§»åŠ¨ç«¯å‹å¥½â€ï¼Œä¸è¦åœ¨Spriteå›¾ç‰‡ä¸­ç•™ä¸‹å¤ªå¤§çš„ç©ºéš™ã€‚è™½ç„¶ä¸ä¼šåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå½±å“å›¾ç‰‡æ–‡ä»¶çš„å¤§å°ï¼Œä½†è¿™æ ·åšå¯ä»¥èŠ‚çœç”¨æˆ·ä»£ç†æŠŠå›¾ç‰‡è§£å‹æˆåƒç´ æ˜ å°„æ—¶æ¶ˆè€—çš„å†…å­˜ã€‚100Ã—100çš„å›¾ç‰‡æ˜¯1ä¸‡ä¸ªåƒç´ ï¼Œè€Œ1000Ã—1000çš„å›¾ç‰‡å°±æ˜¯100ä¸‡ä¸ªåƒç´ äº†ã€‚ ä¸è¦ç”¨HTMLç¼©æ”¾å›¾ç‰‡ ä¸è¦å› ä¸ºåœ¨HTMLä¸­å¯ä»¥è®¾ç½®å®½é«˜è€Œä½¿ç”¨æœ¬ä¸éœ€è¦çš„å¤§å›¾ã€‚å¦‚æœéœ€è¦1&lt;img width=&quot;100&quot; height=&quot;100&quot; src=&quot;mycat.jpg&quot; alt=&quot;My Cat&quot; /&gt; é‚£ä¹ˆå›¾ç‰‡æœ¬èº«ï¼ˆmycat.jpgï¼‰åº”è¯¥æ˜¯100x100pxçš„ï¼Œè€Œä¸æ˜¯å»ç¼©å°500x500pxçš„å›¾ç‰‡ã€‚ ç”¨å°çš„å¯ç¼“å­˜çš„favicon.icoï¼ˆP.S. æ”¶è—å¤¹å›¾æ ‡ï¼‰ favicon.icoæ˜¯æ”¾åœ¨æœåŠ¡å™¨æ ¹ç›®å½•çš„å›¾ç‰‡ï¼Œå®ƒä¼šå¸¦æ¥ä¸€å †éº»çƒ¦ï¼Œå› ä¸ºå³ä¾¿ä½ ä¸ç®¡å®ƒï¼Œæµè§ˆå™¨ä¹Ÿä¼šè‡ªåŠ¨è¯·æ±‚å®ƒï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦ç»™ä¸€ä¸ª404 Not Foundå“åº”ã€‚è€Œä¸”åªè¦åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šï¼Œæ¯æ¬¡è¯·æ±‚å®ƒæ—¶éƒ½ä¼šå‘é€cookieï¼Œæ­¤å¤–è¿™ä¸ªå›¾ç‰‡è¿˜ä¼šå¹²æ‰°ä¸‹è½½é¡ºåºï¼Œä¾‹å¦‚åœ¨IEä¸­ï¼Œå½“ä½ åœ¨onloadä¸­è¯·æ±‚é¢å¤–ç»„ä»¶æ—¶ï¼Œå°†ä¼šå…ˆä¸‹è½½faviconã€‚ æ‰€ä»¥ä¸ºäº†ç¼“è§£favicon.icoçš„ç¼ºç‚¹ï¼Œåº”è¯¥ç¡®ä¿ï¼š è¶³å¤Ÿå°ï¼Œæœ€å¥½åœ¨1Kä»¥ä¸‹è®¾ç½®åˆé€‚çš„æœ‰æ•ˆæœŸHTTPå¤´ï¼ˆä»¥åå¦‚æœæƒ³æ¢çš„è¯å°±ä¸èƒ½é‡å‘½åäº†ï¼‰ï¼ŒæŠŠæœ‰æ•ˆæœŸè®¾ç½®ä¸ºå‡ ä¸ªæœˆåä¸€èˆ¬æ¯”è¾ƒå®‰å…¨ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥å½“å‰favicon.icoçš„æœ€åä¿®æ”¹æ—¥æœŸæ¥ç¡®ä¿å˜æ›´èƒ½è®©æµè§ˆå™¨çŸ¥é“ã€‚ ç»™Cookieå‡è‚¥ ä½¿ç”¨cookieçš„åŸå› æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æˆæƒå’Œä¸ªæ€§åŒ–ã€‚HTTPå¤´ä¸­cookieä¿¡æ¯åœ¨webæœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´äº¤æ¢ã€‚é‡è¦çš„æ˜¯ä¿è¯cookieå°½å¯èƒ½çš„å°ï¼Œä»¥æœ€å°åŒ–å¯¹ç”¨æˆ·å“åº”æ—¶é—´çš„å½±å“ã€‚ æ¸…é™¤ä¸å¿…è¦çš„cookieä¿è¯cookieå°½å¯èƒ½å°ï¼Œä»¥æœ€å°åŒ–å¯¹ç”¨æˆ·å“åº”æ—¶é—´çš„å½±å“æ³¨æ„ç»™cookieè®¾ç½®åˆé€‚çš„åŸŸçº§åˆ«ï¼Œä»¥å…å½±å“å…¶å®ƒå­åŸŸè®¾ç½®åˆé€‚çš„æœ‰æ•ˆæœŸï¼Œæ›´æ—©çš„æœ‰æ•ˆæœŸæˆ–è€…noneå¯ä»¥æ›´å¿«çš„åˆ é™¤cookieï¼Œæé«˜ç”¨æˆ·å“åº”æ—¶é—´ æŠŠç»„ä»¶æ”¾åœ¨ä¸å«cookieçš„åŸŸä¸‹ å½“æµè§ˆå™¨å‘é€å¯¹é™æ€å›¾åƒçš„è¯·æ±‚æ—¶ï¼Œcookieä¹Ÿä¼šä¸€èµ·å‘é€ï¼Œè€ŒæœåŠ¡å™¨æ ¹æœ¬ä¸éœ€è¦è¿™äº›cookieã€‚æ‰€ä»¥å®ƒä»¬åªä¼šé€ æˆæ²¡æœ‰æ„ä¹‰çš„ç½‘ç»œé€šä¿¡é‡ï¼Œåº”è¯¥ç¡®ä¿å¯¹é™æ€ç»„ä»¶çš„è¯·æ±‚ä¸å«cookieã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªå­åŸŸï¼ŒæŠŠæ‰€æœ‰çš„é™æ€ç»„ä»¶éƒ½éƒ¨ç½²åœ¨é‚£å„¿ã€‚ å¦‚æœåŸŸåæ˜¯www.example.orgï¼Œå¯ä»¥æŠŠé™æ€ç»„ä»¶éƒ¨ç½²åˆ°static.example.orgã€‚ç„¶è€Œï¼Œå¦‚æœå·²ç»åœ¨é¡¶çº§åŸŸexample.orgæˆ–è€…www.example.orgè®¾ç½®äº†cookieï¼Œé‚£ä¹ˆæ‰€æœ‰å¯¹static.example.orgçš„è¯·æ±‚éƒ½ä¼šå«æœ‰è¿™äº›cookieã€‚è¿™æ—¶å€™å¯ä»¥å†ä¹°ä¸€ä¸ªæ–°åŸŸåï¼ŒæŠŠæ‰€æœ‰çš„é™æ€ç»„ä»¶éƒ¨ç½²ä¸Šå»ï¼Œå¹¶ä¿æŒè¿™ä¸ªæ–°åŸŸåä¸å«cookieã€‚Yahoo!ç”¨çš„æ˜¯yimg.comï¼ŒYouTubeæ˜¯ytimg.comï¼ŒAmazonæ˜¯images-amazon.comç­‰ç­‰ã€‚ æŠŠé™æ€ç»„ä»¶éƒ¨ç½²åœ¨ä¸å«cookieçš„åŸŸä¸‹è¿˜æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯æœ‰äº›ä»£ç†å¯èƒ½ä¼šæ‹’ç»ç¼“å­˜å¸¦cookieçš„ç»„ä»¶ã€‚æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šå¦‚æœä¸çŸ¥é“åº”è¯¥ç”¨example.orgè¿˜æ˜¯www.example.orgä½œä¸ºä¸»é¡µï¼Œå¯ä»¥è€ƒè™‘ä¸€ä¸‹cookieçš„å½±å“ã€‚çœç•¥wwwçš„è¯ï¼Œå°±åªèƒ½æŠŠcookieå†™åˆ°*.example.orgï¼Œæ‰€ä»¥å› ä¸ºæ€§èƒ½åŸå› æœ€å¥½ç”¨wwwå­åŸŸï¼Œå¹¶ä¸”æŠŠcookieå†™åˆ°è¿™ä¸ªå­åŸŸä¸‹ã€‚ ä¿è¯æ‰€æœ‰ç»„ä»¶éƒ½å°äº25K è¿™ä¸ªé™åˆ¶æ˜¯å› ä¸ºiPhoneä¸èƒ½ç¼“å­˜å¤§äº25Kçš„ç»„ä»¶ï¼Œæ³¨æ„è¿™é‡ŒæŒ‡çš„æ˜¯æœªå‹ç¼©çš„å¤§å°ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¼©å‡å†…å®¹æœ¬èº«ä¹Ÿå¾ˆé‡è¦ï¼Œå› ä¸ºå•çº¯çš„gzipå¯èƒ½ä¸å¤Ÿã€‚ æŠŠç»„ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªå¤åˆæ–‡æ¡£é‡Œ æŠŠå„ä¸ªç»„ä»¶æ‰“åŒ…æˆä¸€ä¸ªåƒæœ‰é™„ä»¶çš„ç”µå­é‚®ä»¶ä¸€æ ·çš„å¤åˆæ–‡æ¡£é‡Œï¼Œå¯ä»¥ç”¨ä¸€ä¸ªHTTPè¯·æ±‚è·å–å¤šä¸ªç»„ä»¶ï¼ˆè®°ä½ä¸€ç‚¹ï¼šHTTPè¯·æ±‚æ˜¯ä»£ä»·é«˜æ˜‚çš„ï¼‰ã€‚ç”¨è¿™ç§æ–¹å¼çš„æ—¶å€™ï¼Œè¦å…ˆæ£€æŸ¥ç”¨æˆ·ä»£ç†æ˜¯å¦æ”¯æŒï¼ˆiPhoneå°±ä¸æ”¯æŒï¼‰ã€‚ Gzipç»„ä»¶ å‰ç«¯å·¥ç¨‹å¸ˆå¯ä»¥æƒ³åŠæ³•æ˜æ˜¾åœ°ç¼©çŸ­é€šè¿‡ç½‘ç»œä¼ è¾“HTTPè¯·æ±‚å’Œå“åº”çš„æ—¶é—´ã€‚æ¯«æ— ç–‘é—®ï¼Œç»ˆç«¯ç”¨æˆ·çš„å¸¦å®½é€Ÿåº¦ï¼Œç½‘ç»œæœåŠ¡å•†ï¼Œå¯¹ç­‰äº¤æ¢ç‚¹çš„è·ç¦»ç­‰ç­‰ï¼Œéƒ½æ˜¯å¼€å‘å›¢é˜Ÿæ‰€æ— æ³•æ§åˆ¶çš„ã€‚ä½†è¿˜æœ‰åˆ«çš„èƒ½å¤Ÿå½±å“å“åº”æ—¶é—´çš„å› ç´ ï¼Œå‹ç¼©å¯ä»¥é€šè¿‡å‡å°‘HTTPå“åº”çš„å¤§å°æ¥ç¼©çŸ­å“åº”æ—¶é—´ã€‚ ä»HTTP/1.1å¼€å§‹ï¼Œwebå®¢æˆ·ç«¯å°±æœ‰äº†æ”¯æŒå‹ç¼©çš„Accept-Encoding HTTPè¯·æ±‚å¤´ã€‚ 1Accept-Encoding: gzip, deflate å¦‚æœwebæœåŠ¡å™¨çœ‹åˆ°è¿™ä¸ªè¯·æ±‚å¤´ï¼Œå®ƒå°±ä¼šç”¨å®¢æˆ·ç«¯åˆ—å‡ºçš„ä¸€ç§æ–¹å¼æ¥å‹ç¼©å“åº”ã€‚webæœåŠ¡å™¨é€šè¿‡Content-Encodingç›¸åº”å¤´æ¥é€šçŸ¥å®¢æˆ·ç«¯ã€‚1Content-Encoding: gzip å°½å¯èƒ½å¤šåœ°ç”¨gzipå‹ç¼©èƒ½å¤Ÿç»™é¡µé¢å‡è‚¥ï¼Œè¿™ä¹Ÿæ˜¯æå‡ç”¨æˆ·ä½“éªŒæœ€ç®€å•çš„æ–¹æ³•ã€‚ é¿å…å›¾ç‰‡srcå±æ€§ä¸ºç©ºImage with empty string srcå±æ€§æ˜¯ç©ºå­—ç¬¦ä¸²çš„å›¾ç‰‡å¾ˆå¸¸è§ï¼Œä¸»è¦ä»¥ä¸¤ç§å½¢å¼å‡ºç°ï¼šstraight HTML1&lt;img src=â€â€&gt; JavaScript 12var img = new Image();img.src = â€œâ€; é…ç½®ETags å®ä½“æ ‡ç­¾ï¼ˆETagsï¼‰ï¼Œæ˜¯æœåŠ¡å™¨å’Œæµè§ˆå™¨ç”¨æ¥å†³å®šæµè§ˆå™¨ç¼“å­˜ä¸­ç»„ä»¶ä¸æºæœåŠ¡å™¨ä¸­çš„ç»„ä»¶æ˜¯å¦åŒ¹é…çš„ä¸€ç§æœºåˆ¶ï¼ˆâ€œå®ä½“â€ä¹Ÿå°±æ˜¯ç»„ä»¶ï¼šå›¾ç‰‡ï¼Œè„šæœ¬ï¼Œæ ·å¼è¡¨ç­‰ç­‰ï¼‰ã€‚æ·»åŠ ETagså¯ä»¥æä¾›ä¸€ç§å®ä½“éªŒè¯æœºåˆ¶ï¼Œæ¯”æœ€åä¿®æ”¹æ—¥æœŸæ›´åŠ çµæ´»ã€‚ä¸€ä¸ªETagæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½œä¸ºä¸€ä¸ªç»„ä»¶æŸä¸€å…·ä½“ç‰ˆæœ¬çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å”¯ä¸€çš„æ ¼å¼çº¦æŸæ˜¯å­—ç¬¦ä¸²å¿…é¡»ç”¨å¼•å·æ‹¬èµ·æ¥ï¼ŒæºæœåŠ¡å™¨ç”¨ç›¸åº”å¤´ä¸­çš„ETagæ¥æŒ‡å®šç»„ä»¶çš„ETagï¼š å¯¹Ajaxç”¨GETè¯·æ±‚Yahoo!é‚®ç®±å›¢é˜Ÿå‘ç°ä½¿ç”¨XMLHttpRequestæ—¶ï¼Œæµè§ˆå™¨çš„POSTè¯·æ±‚æ˜¯é€šè¿‡ä¸€ä¸ªä¸¤æ­¥çš„è¿‡ç¨‹æ¥å®ç°çš„ï¼šå…ˆå‘é€HTTPå¤´ï¼Œåœ¨å‘é€æ•°æ®ã€‚æ‰€ä»¥æœ€å¥½ç”¨GETè¯·æ±‚ï¼Œå®ƒåªéœ€è¦å‘é€ä¸€ä¸ªTCPæŠ¥æ–‡ï¼ˆé™¤écookieç‰¹åˆ«å¤šï¼‰ã€‚IEçš„URLé•¿åº¦æœ€å¤§å€¼æ˜¯2Kï¼Œæ‰€ä»¥å¦‚æœè¦å‘é€çš„æ•°æ®è¶…è¿‡2Kå°±æ— æ³•ä½¿ç”¨GETäº†ã€‚ POSTè¯·æ±‚çš„ä¸€ä¸ªæœ‰è¶£çš„å‰¯ä½œç”¨æ˜¯å®é™…ä¸Šæ²¡æœ‰å‘é€ä»»ä½•æ•°æ®ï¼Œå°±åƒGETè¯·æ±‚ä¸€æ ·ã€‚æ­£å¦‚HTTPè¯´æ˜æ–‡æ¡£ä¸­æè¿°çš„ï¼ŒGETè¯·æ±‚æ˜¯ç”¨æ¥æ£€ç´¢ä¿¡æ¯çš„ã€‚æ‰€ä»¥å®ƒçš„è¯­ä¹‰åªæ˜¯ç”¨GETè¯·æ±‚æ¥è¯·æ±‚æ•°æ®ï¼Œè€Œä¸æ˜¯ç”¨æ¥å‘é€éœ€è¦å­˜å‚¨åˆ°æœåŠ¡å™¨çš„æ•°æ®ã€‚ å°½æ—©æ¸…ç©ºç¼“å†²åŒºå½“ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªé¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨éœ€è¦ç”¨å¤§çº¦200åˆ°500æ¯«ç§’æ¥ç»„è£…HTMLé¡µé¢ï¼Œåœ¨è¿™æœŸé—´ï¼Œæµè§ˆå™¨é—²ç­‰ç€æ•°æ®åˆ°è¾¾ã€‚PHPä¸­æœ‰ä¸€ä¸ªflush()å‡½æ•°ï¼Œå…è®¸ç»™æµè§ˆå™¨å‘é€ä¸€éƒ¨åˆ†å·²ç»å‡†å¤‡å®Œæ¯•çš„HTMLå“åº”ï¼Œä»¥ä¾¿æµè§ˆå™¨å¯ä»¥åœ¨åå°å‡†å¤‡å‰©ä½™éƒ¨åˆ†çš„åŒæ—¶å¼€å§‹è·å–ç»„ä»¶ï¼Œå¥½å¤„ä¸»è¦ä½“ç°åœ¨å¾ˆå¿™çš„åå°æˆ–è€…å¾ˆâ€œè½»â€çš„å‰ç«¯é¡µé¢ä¸Šï¼ˆP.S. ä¹Ÿå°±æ˜¯è¯´ï¼Œå“åº”æ—¶è€—ä¸»è¦åœ¨åå°æ–¹é¢æ—¶æœ€èƒ½ä½“ç°ä¼˜åŠ¿ï¼‰ã€‚ è¾ƒç†æƒ³çš„æ¸…ç©ºç¼“å†²åŒºçš„ä½ç½®æ˜¯HEADåé¢ï¼Œå› ä¸ºHTMLçš„HEADéƒ¨åˆ†é€šå¸¸æ›´å®¹æ˜“ç”Ÿæˆï¼Œå¹¶ä¸”å…è®¸å¼•å…¥ä»»ä½•CSSå’ŒJavaScriptæ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥è®©æµè§ˆå™¨åœ¨åå°è¿˜åœ¨å¤„ç†çš„æ—¶å€™å°±å¼€å§‹å¹¶è¡Œè·å–ç»„ä»¶ã€‚ ä¾‹å¦‚ï¼š 12345... &lt;!-- css, js --&gt; &lt;/head&gt; &lt;?php flush(); ?&gt; &lt;body&gt; ... &lt;!-- content --&gt; ä½¿ç”¨CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰ ç”¨æˆ·ä¸æœåŠ¡å™¨çš„ç‰©ç†è·ç¦»å¯¹å“åº”æ—¶é—´ä¹Ÿæœ‰å½±å“ã€‚æŠŠå†…å®¹éƒ¨ç½²åœ¨å¤šä¸ªåœ°ç†ä½ç½®åˆ†æ•£çš„æœåŠ¡å™¨ä¸Šèƒ½è®©ç”¨æˆ·æ›´å¿«åœ°è½½å…¥é¡µé¢ã€‚ä½†å…·ä½“è¦æ€ä¹ˆåšå‘¢ï¼Ÿ å®ç°å†…å®¹åœ¨åœ°ç†ä½ç½®ä¸Šåˆ†æ•£çš„ç¬¬ä¸€æ­¥æ˜¯ï¼šä¸è¦å°è¯•å»é‡æ–°è®¾è®¡ä½ çš„webåº”ç”¨ç¨‹åºæ¥é€‚åº”åˆ†å¸ƒå¼ç»“æ„ã€‚è¿™å–å†³äºåº”ç”¨ç¨‹åºï¼Œæ”¹å˜ç»“æ„å¯èƒ½åŒ…æ‹¬ä¸€äº›è®©äººæœ›è€Œç”Ÿç•çš„ä»»åŠ¡ï¼Œæ¯”å¦‚åŒæ­¥ä¼šè¯çŠ¶æ€å’Œè·¨æœåŠ¡å™¨å¤åˆ¶æ•°æ®åº“äº‹åŠ¡ï¼ˆç¿»è¯‘å¯èƒ½ä¸å‡†ç¡®ï¼‰ã€‚ç¼©çŸ­ç”¨æˆ·å’Œå†…å®¹ä¹‹é—´è·ç¦»çš„æè®®å¯èƒ½è¢«æ¨è¿Ÿï¼Œæˆ–è€…æ ¹æœ¬ä¸å¯èƒ½é€šè¿‡ï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªéš¾é¢˜ã€‚ è®°ä½ç»ˆç«¯ç”¨æˆ·80%åˆ°90%çš„å“åº”æ—¶é—´éƒ½èŠ±åœ¨ä¸‹è½½é¡µé¢ç»„ä»¶ä¸Šäº†ï¼šå›¾ç‰‡ï¼Œæ ·å¼ï¼Œè„šæœ¬ï¼ŒFlashç­‰ç­‰ï¼Œè¿™æ˜¯ä¸šç»©é»„é‡‘æ³•åˆ™ã€‚æœ€å¥½å…ˆåˆ†æ•£é™æ€å†…å®¹ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±é‡æ–°è®¾è®¡åº”ç”¨ç¨‹åºç»“æ„ã€‚è¿™ä¸ä»…èƒ½å¤Ÿå¤§å¤§å‡å°‘å“åº”æ—¶é—´ï¼Œè¿˜æ›´å®¹æ˜“è¡¨ç°å‡ºCDNçš„åŠŸåŠ³ã€‚ å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰æ˜¯ä¸€ç»„åˆ†æ•£åœ¨ä¸åŒåœ°ç†ä½ç½®çš„webæœåŠ¡å™¨ï¼Œç”¨æ¥ç»™ç”¨æˆ·æ›´é«˜æ•ˆåœ°å‘é€å†…å®¹ã€‚å…¸å‹åœ°ï¼Œé€‰æ‹©ç”¨æ¥å‘é€å†…å®¹çš„æœåŠ¡å™¨æ˜¯åŸºäºç½‘ç»œè·ç¦»çš„è¡¡é‡æ ‡å‡†çš„ã€‚ä¾‹å¦‚ï¼šé€‰è·³æ•°ï¼ˆhopï¼‰æœ€å°‘çš„æˆ–è€…å“åº”æ—¶é—´æœ€å¿«çš„æœåŠ¡å™¨ã€‚ æ·»ä¸ŠExpiresæˆ–è€…Cache-Control HTTPå¤´è¿™æ¡è§„åˆ™æœ‰ä¸¤ä¸ªæ–¹é¢ï¼š å¯¹äºé™æ€ç»„ä»¶ï¼šé€šè¿‡è®¾ç½®ä¸€ä¸ªé¥è¿œçš„å°†æ¥æ—¶é—´ä½œä¸ºExpiresæ¥å®ç°æ°¸ä¸å¤±æ•ˆå¤šä½™åŠ¨æ€ç»„ä»¶ï¼šç”¨åˆé€‚çš„Cache-ControlHTTPå¤´æ¥è®©æµè§ˆå™¨è¿›è¡Œæ¡ä»¶æ€§çš„è¯·æ±‚ ç½‘é¡µè®¾è®¡è¶Šæ¥è¶Šä¸°å¯Œï¼Œè¿™æ„å‘³ç€é¡µé¢é‡Œæœ‰æ›´å¤šçš„è„šæœ¬ï¼Œå›¾ç‰‡å’ŒFlashã€‚ç«™ç‚¹çš„æ–°è®¿å®¢å¯èƒ½è¿˜æ˜¯ä¸å¾—ä¸æäº¤å‡ ä¸ªHTTPè¯·æ±‚ï¼Œä½†é€šè¿‡ä½¿ç”¨æœ‰æ•ˆæœŸèƒ½è®©ç»„ä»¶å˜å¾—å¯ç¼“å­˜ï¼Œè¿™é¿å…äº†åœ¨æ¥ä¸‹æ¥çš„æµè§ˆè¿‡ç¨‹ä¸­ä¸å¿…è¦çš„HTTPè¯·æ±‚ã€‚æœ‰æ•ˆæœŸHTTPå¤´é€šå¸¸è¢«ç”¨åœ¨å›¾ç‰‡ä¸Šï¼Œä½†å®ƒä»¬åº”è¯¥ç”¨åœ¨æ‰€æœ‰ç»„ä»¶ä¸Šï¼ŒåŒ…æ‹¬è„šæœ¬ã€æ ·å¼å’ŒFlashç»„ä»¶ã€‚ æµè§ˆå™¨ï¼ˆå’Œä»£ç†ï¼‰ç”¨ç¼“å­˜æ¥å‡å°‘HTTPè¯·æ±‚çš„æ•°ç›®å’Œå¤§å°ï¼Œè®©é¡µé¢èƒ½å¤Ÿæ›´å¿«åŠ è½½ã€‚webæœåŠ¡å™¨é€šè¿‡æœ‰æ•ˆæœŸHTTPå“åº”å¤´æ¥å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œé¡µé¢çš„å„ä¸ªç»„ä»¶åº”è¯¥è¢«ç¼“å­˜å¤šä¹…ã€‚ç”¨ä¸€ä¸ªé¥è¿œçš„å°†æ¥æ—¶é—´åšæœ‰æ•ˆæœŸï¼Œå‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªå“åº”åœ¨2010å¹´4æœˆ15æ—¥å‰ä¸ä¼šæ”¹å˜ã€‚ 1Expires: Thu, 15 Apr 2010 20:00:00 GMT å¦‚æœä½ ç”¨çš„æ˜¯ApacheæœåŠ¡å™¨ï¼Œç”¨ExpiresDefaultæŒ‡ä»¤æ¥è®¾ç½®ç›¸å¯¹äºå½“å‰æ—¥æœŸçš„æœ‰æ•ˆæœŸã€‚ä¸‹é¢çš„ä¾‹å­è®¾ç½®äº†ä»è¯·æ±‚æ—¶é—´èµ·10å¹´çš„æœ‰æ•ˆæœŸï¼š1ExpiresDefault &quot;access plus 10 years&quot;","categories":[],"tags":[{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"æ€§èƒ½ä¼˜åŒ–","permalink":"http://upyang.com/tags/æ€§èƒ½ä¼˜åŒ–/"},{"name":"SEO","slug":"SEO","permalink":"http://upyang.com/tags/SEO/"}]},{"title":"åŸç”Ÿjså®ç°Ajaxå®ä¾‹è®²è§£(äºŒ)","slug":"ajax2","date":"2017-07-12T14:30:38.000Z","updated":"2017-07-16T14:43:11.553Z","comments":true,"path":"2017/07/12/ajax2/","link":"","permalink":"http://upyang.com/2017/07/12/ajax2/","excerpt":"","text":"å¯¼è¯­Ajaxçš„æ ¸å¿ƒæŠ€æœ¯æ˜¯XMLHttpRequestå¯¹è±¡,å®ƒå¯ä»¥åœ¨ä¸å‘æœåŠ¡å™¨æäº¤æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå®ç°å±€éƒ¨æ›´æ–°ç½‘é¡µã€‚é€šè¿‡è¿™ä¸ªå¯¹è±¡ï¼ŒAjaxå¯ä»¥åƒæ¡Œé¢åº”ç”¨ç¨‹åºé‚£æ ·åªä¸æœåŠ¡å™¨è¿›è¡Œæ•°æ®å±‚çš„äº¤æ¢ï¼Œè€Œä¸å¿…æ¯æ¬¡éƒ½åˆ·æ–°ç•Œé¢ï¼Œä¹Ÿä¸å¿…æ¯æ¬¡å°†æ•°æ®å¤„ç†çš„å·¥ä½œéƒ½äº¤ç»™æœåŠ¡å™¨æ¥åšã€‚è¿™æ ·æ—¢å‡è½»äº†æœåŠ¡å™¨è´Ÿæ‹…åˆæé«˜äº†å“åº”é€Ÿåº¦ï¼Œè¿˜ç¼©çŸ­äº†ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ã€‚é€šå¸¸ä¸€ä¸ªAjaxçš„å®ç°è¿‡ç¨‹æœ‰äº”æ­¥ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥ä¸Šç¯‡åšå®¢ä¸­çš„å°å®ä¾‹ä¸ºä¾‹æ¥é€æ­¥å­¦ä¹ ã€‚ XMLHttpRequestå¯¹è±¡çš„äº”æ­¥ä½¿ç”¨æ³•åˆ›å»ºXMLHttpRequestå¯¹è±¡ã€‚IEæµè§ˆå™¨å°†XMLHttpRequestå®ç°ä¸ºä¸€ä¸ªActiveXå¯¹è±¡ï¼Œå…¶ä»–æµè§ˆå™¨å¦‚Firefoxï¼ŒOperaï¼ŒNetscapeç­‰å°†å…¶å®ç°ä¸ºä¸€ä¸ªæœ¬åœ°JavaScriptå¯¹è±¡ã€‚1234567891011121314151617181920212223242526272829function CreatXHR() &#123; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒActiveXæ§ä»¶ï¼Œé’ˆå¯¹IE6åŠä¹‹å‰ç‰ˆæœ¬ if (window.ActiveXObject) &#123; //å°†æ‰€æœ‰å¯èƒ½å‡ºç°çš„ActiveXObjectç‰ˆæœ¬éƒ½æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ var arrXHR = [&apos;Microsoft.XMLHTTP&apos;, &apos;MSXML2.XMLHTTP.6.0&apos;, &apos;MSXML2.XMLHTTP.5.0&apos;, &apos;MSXML2.XMLHTTP.4.0&apos;, &apos;MSXML2.XMLHTTP.3.0&apos;, &apos;MSXML2.XMLHTTP&apos;]; //é€šè¿‡å¾ªç¯åˆ›å»ºXMLHttpRequestå¯¹è±¡ var temp = arrXHR.length; for (var i=0;i&lt;temp;i++) &#123; try &#123; //åˆ›å»ºXMLHttpRequestå¯¹è±¡ xhr = new ActiveXObject(arrXHR[i]); //å¦‚æœåˆ›å»ºXMLHttpRequestå¯¹è±¡æˆåŠŸï¼Œåˆ™è·³å‡ºå¾ªç¯ break; &#125; catch(ex) &#123; &#125; &#125; &#125; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å°†XMLHttpRequestä½œä¸ºæœ¬åœ°å¯¹è±¡å®ç°ï¼Œé’ˆå¯¹IE7ï¼ŒFirefoxï¼ŒOperaç­‰æµè§ˆå™¨ else if(window.XMLHttpRequest) &#123; xhr = new XMLHttpRequest(); &#125; &#125; 123456789101112131415//åˆ›å»ºXMLHttpRequestå¯¹è±¡ï¼Œè°ƒç”¨å‰é¢å®šä¹‰å¥½çš„å‡½æ•° creatXMLHTTP(); if (xhr!=null) &#123; //åˆ›å»ºå“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° //åˆ›å»ºhttpè¯·æ±‚ //å‘é€httpè¯·æ±‚ &#125; else &#123; alert(&quot;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒXMLHTTP&quot;); &#125; æ³¨å†Œå›è°ƒå‡½æ•°12//åˆ›å»ºå“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° xhr.onreadystatechange = httpStateChange; åœ¨å¼‚æ­¥è°ƒç”¨æ—¶ï¼ŒXMLHttpRequestå¯¹è±¡æœ‰å‡ ä¸ªä¸åŒçš„çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€è¡¨ç¤ºäº†å¼‚æ­¥è°ƒç”¨çš„è¿‡ç¨‹ã€‚ 0ï¼šæœªåˆå§‹åŒ–çŠ¶æ€ï¼Œåˆšåˆ›å»ºå®Œä¸€ä¸ªXMLHttpRequestå¯¹è±¡ï¼› 1ï¼šåˆå§‹åŒ–çŠ¶æ€ï¼Œå³XMLHttpRequestå¯¹è±¡å·²ç»è·å¾—äº†è¦å°†æ•°æ®å‘é€åˆ°å“ªä¸ªæœåŠ¡å™¨ä¸Šã€ä»¥ä»€ä¹ˆæ–¹å¼å‘é€ç­‰ä¿¡æ¯ï¼› 2ï¼šå‘é€çŠ¶æ€ï¼ŒXMLHttpRequestå¼€å§‹å‘é€æ•°æ®ï¼› 3ï¼šæ•°æ®ä¼ é€çŠ¶æ€ï¼Œæ­¤æ—¶XMLHttpRequestæ­£åœ¨æ¥å—ä»æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®è¿˜æ²¡æœ‰ä¼ é€å®Œæ¯•ï¼› 4ï¼šå®ŒæˆçŠ¶æ€ï¼šæ­¤æ—¶XMLHttpRequestå¯¹è±¡å·²ç»å°†ä»æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®æ¥å—å®Œæ¯•ã€‚ä½¿ç”¨XMLHttpRequestå¯¹è±¡çš„onreadystatechangeå±æ€§ï¼Œå¯ä»¥è®¾ç½®å“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•°ã€‚è®¾ç½®å›è°ƒå‡½æ•°æ—¶ï¼Œä¸è¦åœ¨å‡½æ•°ååè€ŒåŠ æ‹¬å·ã€‚åŠ æ‹¬å·è¡¨ç¤ºå°†å›è°ƒå‡½æ•°çš„è¿”å›å€¼æ³¨å†Œç»™onreadystatechangeå±æ€§ã€‚ openæ–¹æ³•è®¾ç½®å’ŒæœåŠ¡å™¨ç«¯äº¤äº’çš„ä¿¡æ¯12//åˆ›å»ºhttpè¯·æ±‚ xhr.open(&quot;get&quot;,&quot;Readme.txt&quot;, true); è¯·æ±‚æ ¹ç›®å½•ä¸‹å­˜å‚¨ç”¨æˆ·åä¸ºReadmeçš„txtæ–‡ä»¶,ç¨ååˆ©ç”¨å®ƒè¿›è¡Œç”¨æˆ·åçš„éªŒè¯ã€‚ XMLHttpRequestçš„open(method,URL,flag,name,password)æ–¹æ³•ç”¨æ¥åˆå§‹åŒ–å¯¹è±¡ï¼Œå‰ä¸¤ä¸ªå‚æ•°å¿…é€‰ï¼Œåä¸‰ä¸ªå‚æ•°æ˜¯å¯é€‰ã€‚methodï¼šæŒ‡å®šç”¨ä»€ä¹ˆæ–¹å¼å‘æœåŠ¡å™¨å‘é€httpè¯·æ±‚ï¼Œå‚æ•°å€¼å¯ä»¥æ˜¯getï¼Œpostï¼Œheadï¼Œputå’Œdeleteäº”ç§ã€‚URLï¼šæŒ‡å®šæœåŠ¡å™¨çš„URLï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·å¤„ç†å’Œè¿”å›æ•°æ®çš„ç¨‹åºçš„URLã€‚è¯¥URLå¯ä»¥æ˜¯ç»å¯¹åœ°å€ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹åœ°å€ã€‚flagï¼šæŒ‡å®šæäº¤httpè¯·æ±‚çš„æ–¹å¼ï¼ŒtrueæŒ‡å¼‚æ­¥æ–¹å¼ï¼Œä¸ºé»˜è®¤å€¼ï¼›falseæŒ‡åŒæ­¥æ–¹å¼ã€‚nameå’Œpasswordï¼šå¦‚æœæœåŠ¡å™¨éœ€è¦éªŒè¯ï¼Œè¿™ä¸¤ä¸ªå‚æ•°ç”¨æ¥æäº¤ç”¨æˆ·åå’Œå¯†ç ã€‚ è®¾ç½®å‘é€çš„æ•°æ®ä¸æœåŠ¡å™¨ç«¯å¼€å§‹äº¤äº’ã€‚12//å‘é€httpè¯·æ±‚ xhr.send(null); å‘é€httpè¯·æ±‚ä½¿ç”¨XMLHttpRequestçš„send(data)æ–¹æ³•ï¼Œdataå‚æ•°å°±æ˜¯ä¼ é€’ç»™open()æ–¹æ³•ä¸­URLå‚æ•°æ‰€æŒ‡å®šçš„æ–‡ä»¶çš„å‚æ•°ã€‚è‹¥æœè¦ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œç”¨â€&amp;â€æ¥åˆ†éš”ï¼Œä¸éœ€è¦ä¼ é€’å‚æ•°å†™â€nullâ€ã€‚ å›è°ƒå‡½æ•°ä¸­åˆ¤æ–­äº¤äº’æ˜¯å¦ç»“æŸåˆ¤æ–­å¼‚æ­¥è°ƒç”¨æ˜¯å¦æˆåŠŸï¼š1234if (xhr.readyState==4)//å¼‚æ­¥è°ƒç”¨å®Œæ¯•&#123; if (xhr.status==200 || xhr.status==0)&#123;&#125;//å¼‚æ­¥è°ƒç”¨æˆåŠŸ||åœ¨æœ¬æœºä¸Šè°ƒè¯•&#125; readyStateå±æ€§å€¼ä¸º4ï¼Œè¯´æ˜å¼‚æ­¥è°ƒç”¨å®Œæˆï¼Œä½†å¹¶ä¸ä»£è¡¨å¼‚æ­¥è°ƒç”¨æ‰§è¡ŒæˆåŠŸã€‚XMLHttpRequestçš„statuså±æ€§å¯ä»¥è·å¾—ä»æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç ã€‚0ä»£è¡¨ä¸èƒ½ç†è§£çš„httpçŠ¶æ€ï¼Œé€šå¸¸åªæœ‰åœ¨æœ¬åœ°è®¡ç®—æœºæ‰“å¼€æ–‡ä»¶æ—¶æ‰ä¼šè¿”å›ã€‚æ¯”è¾ƒå¸¸ç”¨çš„httpçŠ¶æ€ç æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼š200ï¼šæœåŠ¡å™¨æˆåŠŸè¿”å›ç½‘é¡µã€‚404ï¼šå®¢æˆ·ç«¯è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨ã€‚503ï¼šæœåŠ¡å™¨å“åº”è¶…æ—¶ã€‚ è·å¾—æœåŠ¡å™¨è¿”å›çš„æ•°æ®123456if (xhr.readyState==4)&#123; if (xhr.status==200 || xhr.status==0)&#123; var Names = xhr.responseText; &#125;&#125; å¼‚æ­¥è°ƒç”¨çš„æœ€ç»ˆç›®çš„æ˜¯æ¥æ”¶ä»æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œå¹¶æ ¹æ®è¯¥æ•°æ®å†³å®šå¦‚ä½•æ˜¾ç¤ºåœ¨å®¢æˆ·ç«¯ç½‘é¡µä¸­ã€‚å¼‚æ­¥è°ƒç”¨æˆåŠŸåï¼ŒXMLHttpRequestå¯¹è±¡é€šè¿‡ä½¿ç”¨ä»¥ä¸‹4ä¸ªå±æ€§æ¥è·å¾—æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€‚responseTextï¼šè¡¨ç¤ºå°†æœåŠ¡å™¨è¿”å›çš„æ•°æ®ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚responseXMLï¼šè¡¨ç¤ºä»¥XMLçš„å½¢å¼è¿”å›ã€‚responseBodyï¼šè¡¨ç¤ºä»¥unsigned byteæ•°ç»„çš„å½¢å¼è¿”å›ã€‚responseStreamï¼šè¡¨ç¤ºä»¥IStreamå¯¹è±¡çš„å½¢å¼è¿”å›ã€‚ å±€éƒ¨æ›´æ–°1234567891011var OWarn = document.getElementById(&quot;Warn&quot;);if (Flag)&#123; OWarn.innerHTML = &quot;æ‚¨è¾“å…¥çš„ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼&quot;; Form.Btn.disabled = true;//æäº¤æŒ‰é’®ä¸å¯ç”¨&#125;else&#123; OWarn.innerHTML = &quot;åˆæ³•ç”¨æˆ·å&quot;; Form.Btn.disabled = false;//æäº¤æŒ‰é’®å¯ç”¨&#125; è·å–æœåŠ¡å™¨è¿”å›çš„æ•°æ®ä¹‹åå°±è¦æ˜¾ç¤ºå‡ºæ¥ã€‚Ajaxé€šè¿‡DOMæ¥å®Œæˆå±€éƒ¨æ›´æ–°æ•°æ®ã€‚ ç»“æŸè¯­ åœ¨ajaxçš„ç¼–ç¨‹ä¸­æ˜¯å¿…é¡»å¯¹XMLHttpRequestè¿›è¡Œä¸Šè¿°çš„5æ­¥æ“ä½œçš„ï¼Œå°è£…æˆä¸€ä¸ªå…·æœ‰å¤ç”¨æ€§æ•ˆæœçš„æ–¹æ³•ï¼Œå¯¹æˆ‘ä»¬çš„æ—¥å¸¸ä½¿ç”¨æ˜¯éå¸¸æ¥è¯´æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚","categories":[],"tags":[{"name":"jsonp","slug":"jsonp","permalink":"http://upyang.com/tags/jsonp/"},{"name":"ajax","slug":"ajax","permalink":"http://upyang.com/tags/ajax/"},{"name":"XMLHttpRequest","slug":"XMLHttpRequest","permalink":"http://upyang.com/tags/XMLHttpRequest/"}]},{"title":"åŸç”Ÿjså®ç°Ajaxå®ä¾‹è®²è§£(ä¸€)","slug":"ajax","date":"2017-07-12T02:02:20.000Z","updated":"2017-07-16T14:44:18.440Z","comments":true,"path":"2017/07/12/ajax/","link":"","permalink":"http://upyang.com/2017/07/12/ajax/","excerpt":"","text":"Ajaxç®€ä»‹ ajax = å¼‚æ­¥ JavaScript å’Œ XMLã€‚ ajaxæ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¼ ç»Ÿçš„ç½‘é¡µï¼ˆä¸ä½¿ç”¨ajaxï¼‰å¦‚æœéœ€è¦æ›´æ–°å†…å®¹ï¼Œå¿…é¡»é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µã€‚Ajaxçš„å‡ºç°ï¼Œä½¿å¾—ä½¿ç½‘å¯ä»¥å®ç°å¼‚æ­¥æ›´æ–°ï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚ æ³¨æ„ï¼šajaxæœ¬èº«ä¸æ”¯æŒè·¨åŸŸè¯·æ±‚ï¼Œéœ€è¦åœ¨æœåŠ¡å™¨ç«¯å¤„ç†ã€‚ å·¥ä½œåŸç† ajaxçš„æŠ€æœ¯æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡ã€‚ ajaxè¯·æ±‚è¿‡ç¨‹ï¼šåˆ›å»ºXMLHttpRequestã€è¿æ¥æœåŠ¡å™¨ã€å‘é€è¯·æ±‚ã€æœåŠ¡å™¨åšå‡ºå“åº”ã€æ¥æ”¶å“åº”æ•°æ® å›¾ç¤ºï¼š ajaxä¸jsonpåŒºåˆ«ä»å®ç°æ–¹å¼ä¸Šæ¥è®²ï¼Œajaxæ˜¯é€šè¿‡åˆ›å»ºXMLHttpRequestæ¥è·å–åŒæºçš„æ•°æ®ã€‚è€Œjsonpæ˜¯é€šè¿‡&lt;script&gt;æ ‡ç­¾æ¥è°ƒç”¨æœåŠ¡å™¨æä¾›çš„jsè„šæœ¬ã€‚ jsonpäº§ç”ŸåŸå›  1. Ajaxç›´æ¥è¯·æ±‚æ™®é€šæ–‡ä»¶å­˜åœ¨è·¨åŸŸæ— æƒé™è®¿é—®çš„é—®é¢˜ï¼ˆé™æ€é¡µã€åŠ¨æ€é¡µã€webæœåŠ¡ã€wcfåªè¦æ˜¯è·¨åŸŸè¯·æ±‚ä¸€å¾‹ä¸å‡†ï¼‰ 2. webçš„é¡µé¢ä¸Šè°ƒç”¨jsæ–‡ä»¶æ˜¯ä¸å—è·¨åŸŸçš„å½±å“ï¼ˆå‡¡æ‹¥æœ‰srcå±æ€§çš„æ ‡ç­¾éƒ½æ‹¥æœ‰è·¨åŸŸèƒ½åŠ›script img iframeï¼‰ 3. å¯ä»¥åˆ¤æ–­ ç°åœ¨æƒ³é€šè¿‡çº¯webç«¯(ActiveXæ§ä»¶ã€æœåŠ¡ç«¯ä»£ç†ã€H5ä¹‹Websocketç­‰æ–¹å¼ä¸ç®—)è·¨åŸŸè®¿é—®æ•°æ®å°±åªæœ‰ä¸€ç§å¯èƒ½ï¼Œå°±æ˜¯åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè®¾æ³•æŠŠæ•°æ®è£…è¿›jsæ ¼å¼çš„æ–‡ä»¶é‡Œï¼Œä¾›å®¢æˆ·åº¦è°ƒç”¨å’Œè¿›ä¸€æ­¥å¤„ç†ï¼› 4. jsonçš„çº¯å­—ç¬¦æ•°æ ¼å¼å¯ä»¥ç®€æ´çš„æè¿°å¤æ‚æ•°æ®è¿˜è¢«jsåŸç”Ÿæ”¯æŒ 5. webå®¢æˆ·ç«¯é€šè¿‡ä¸è°ƒç”¨è„šæœ¬ä¸€æ ·çš„æ–¹å¼æ¥è°ƒç”¨è·¨åŸŸæœåŠ¡å™¨ä¸ŠåŠ¨æ€ç”Ÿæˆçš„jsæ ¼å¼æ–‡ä»¶(åç¼€.json)ï¼ŒæœåŠ¡å™¨ä¹‹æ‰€ä»¥è¦åŠ¨æ€ç”Ÿæˆjsonæ–‡ä»¶ç›®çš„æŠŠå®¢æˆ·ç«¯éœ€è¦çš„æ•°æ®è£…å…¥è¿›å» 6. å®¢æˆ·ç«¯åœ¨å¯¹jsonæ–‡ä»¶è°ƒç”¨æˆåŠŸåè·å¾—è‡ªå·±æ‰€éœ€çš„æ•°æ®å‰©ä¸‹çš„å°±æŒ‰ç…§è‡ªå·±éœ€æ±‚è¿›è¡Œå¤„ç†å’Œå±•ç°ï¼Œè¿™ç§è·å–è¿œç¨‹æ•°æ®çš„æ–¹å¼éå¸¸åƒajaxå…¶å®å¹¶ä¸€æ · 7. ä¸ºäº†æ–¹ä¾¿å®¢æˆ·ç«¯ä½¿ç”¨æ•°æ®é€æ¸å½¢æˆéæ­£å¼ä¼ è¾“åè®®jsonp å…¶å®ï¼Œè¯´åˆ°ajaxå°±ä¼šé¢ä¸´ä¸¤ä¸ªä¸å¯é¿å…çš„é—®é¢˜ï¼Œä¸€æ˜¯ä»¥ä½•ç§æ ¼å¼æ¥å‡ç¼“æ•°æ®ï¼›äºŒæ˜¯å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ã€‚ç›®å‰æ¥è¯´ï¼Œæ‰€è¢«æ¨å´‡çš„æ–¹æ¡ˆæ˜¯JSONä½œæ•°æ®äº¤æ¢ï¼ŒJSONPæ¥è§£å†³è·¨åŸŸé—®é¢˜ã€‚ JSONä¸JSONPè™½ç„¶çœ‹ä¸Šå»åªæœ‰ä¸€å­—ä¹‹å·®ï¼Œä½†æ˜¯å®é™…ä¸Šæ ¹æœ¬ä¸æ˜¯ä¸€å›äº‹ã€‚JSONæ˜¯ä¸€ç§key/valueå½¢å¼çš„æ•°æ®æ ¼å¼ï¼ŒäºŒJSONPåˆ™æ˜¯ä¸€ç§è·¨åŸŸæ•°æ®äº¤äº’åè®®ã€‚ å®ä¾‹ é¢˜ç›®ï¼šæ³¨å†Œæ—¶ï¼Œä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ŒåŒæ—¶è¦éªŒè¯ç”¨æˆ·åæ˜¯å¦åˆæ³•ã€‚ å®ç°åŠŸèƒ½ï¼Œç”¨æˆ·åœ¨è¾“å…¥ç”¨æˆ·ååï¼Œéœ€è¦ç»™å‡ºæé†’è¯¥åç§°æ˜¯å¦å·²ç»å­˜åœ¨ã€‚ htmlæ–‡æ¡£ç»“æ„123456789101112131415161718&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Ajaxå®ä¾‹è¯¦è§£&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;reg&quot; style=&quot;margin-top: 50px;margin-left:100px;&quot;&gt; &lt;p&gt;æ³¨å†Œé¡µ(ajaxæ£€æµ‹ç”¨æˆ·åæ˜¯å¦åˆæ³•)&lt;/p&gt; &lt;form name=&quot;Form&quot;&gt; ç”¨æˆ·å: &lt;input type=&quot;text&quot; name=&quot;Name&quot; onblur=&quot;check()&quot;&gt; &lt;span id=&quot;myDiv&quot;&gt;&lt;/span&gt;&lt;br&gt; å¯† ç : &lt;input type=&quot;text&quot; name=&quot;Password&quot;&gt;&lt;br&gt; &lt;input type=&quot;button&quot; value=&quot; æäº¤&quot; name=&quot;Btn&quot; disabled=&quot;false&quot;&gt; &lt;/form&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; JavaScriptä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;script type=&quot;text/javascript&quot;&gt; //åˆå§‹åŒ–ä¸€ä¸ªå­˜å‚¨XMLHttpRequestå¯¹è±¡çš„å˜é‡ var xhr = null; //å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºXMLHttpRequestå¯¹è±¡,å…¼å®¹å„ä¸ªç‰ˆæœ¬ function CreatXHR() &#123; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒActiveXæ§ä»¶ï¼Œé’ˆå¯¹IE6åŠä¹‹å‰ç‰ˆæœ¬ if (window.ActiveXObject) &#123; //å°†æ‰€æœ‰å¯èƒ½å‡ºç°çš„ActiveXObjectç‰ˆæœ¬éƒ½æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ var arrXHR = [&apos;Microsoft.XMLHTTP&apos;, &apos;MSXML2.XMLHTTP.6.0&apos;, &apos;MSXML2.XMLHTTP.5.0&apos;, &apos;MSXML2.XMLHTTP.4.0&apos;, &apos;MSXML2.XMLHTTP.3.0&apos;, &apos;MSXML2.XMLHTTP&apos;]; //é€šè¿‡å¾ªç¯åˆ›å»ºXMLHttpRequestå¯¹è±¡ var temp = arrXHR.length; for (var i=0;i&lt;temp;i++) &#123; try &#123; //åˆ›å»ºXMLHttpRequestå¯¹è±¡ xhr = new ActiveXObject(arrXHR[i]); //å¦‚æœåˆ›å»ºXMLHttpRequestå¯¹è±¡æˆåŠŸï¼Œåˆ™è·³å‡ºå¾ªç¯ break; &#125; catch(ex) &#123; &#125; &#125; &#125; //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å°†XMLHttpRequestä½œä¸ºæœ¬åœ°å¯¹è±¡å®ç°ï¼Œé’ˆå¯¹IE7ï¼ŒFirefoxï¼ŒOperaç­‰æµè§ˆå™¨ else if(window.XMLHttpRequest) &#123; xhr = new XMLHttpRequest(); &#125; &#125; //å“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° function httpStateChange() &#123; if (xhr.readyState==4)//å¼‚æ­¥è°ƒç”¨å®Œæ¯• &#123; if (xhr.status==200 || xhr.status==0)//å¼‚æ­¥è°ƒç”¨æˆåŠŸï¼Œåœ¨æœ¬æœºä¸Šè°ƒè¯• &#123; //è·å¾—æœåŠ¡å™¨è¿”å›çš„æ•°æ® var Names = xhr.responseText; var arrName = Names.split(&quot;;&quot;);//æŠŠè·å–åˆ°çš„ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚ //å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œç”¨äºåˆ¤æ–­ç”¨æˆ·åæ˜¯å¦å·²ç»å­˜åœ¨ var Flag = false; for(i=0;i&lt;arrName.length;i++) &#123; if (arrName[i]== Form.Name.value) &#123; Flag = true;//ç”¨æˆ·åå­˜åœ¨ break; &#125; &#125; //åˆæ³•æ€§éªŒè¯æé†’ var OWarn = document.getElementById(&quot;Warn&quot;); if (Flag) &#123; OWarn.innerHTML = &quot;æ‚¨è¾“å…¥çš„ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼&quot;; Form.Btn.disabled = true;//æäº¤æŒ‰é’®ä¸å¯ç”¨ &#125; else &#123; OWarn.innerHTML = &quot;åˆæ³•ç”¨æˆ·å&quot;; Form.Btn.disabled = false;//æäº¤æŒ‰é’®å¯ç”¨ &#125; &#125; &#125; &#125; //æ ¡éªŒç”¨æˆ·åæ˜¯å¦æœ‰æ•ˆ function check() &#123; //åˆ›å»ºXMLHttpRequestå¯¹è±¡ï¼Œè°ƒç”¨å‰é¢å®šä¹‰å¥½çš„å‡½æ•° CreatXHR(); if (xhr!=null) &#123; //åˆ›å»ºå“åº”XMLHttpRequestå¯¹è±¡çŠ¶æ€å˜åŒ–çš„å‡½æ•° xhr.onreadystatechange = httpStateChange; //åˆ›å»ºhttpè¯·æ±‚ xhr.open(&quot;get&quot;,&quot;Readme.txt&quot;, true); //å‘é€httpè¯·æ±‚ xhr.send(null); &#125; else &#123; alert(&quot;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒXMLHTTP&quot;); &#125; &#125;&lt;/script&gt; æ³¨æ„ æ³¨æ„ï¼šéœ€è¦åœ¨htmlåŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªReademe.txtæ–‡ä»¶æ¥å­˜å‚¨å·²ç»å­˜åœ¨çš„ç”¨æˆ·åï¼Œå¤šä¸ªç”¨æˆ·åä¹‹é—´ç”¨åˆ†å¥½éš”å¼€ã€‚ æ•ˆæœå›¾ å¯ä»¥å¤åˆ¶ä»£ç äº²è‡ªè¯•çœ‹ä¸‹æ•ˆæœå“¦ï¼(å»ºè®®Firefoxä¸‹è°ƒè¯•)è¯¦ç»†ä»£ç è®²è§£è¯·çœ‹ä¸‹ä¸€ç« é€šä¿—æ˜“æ‡‚Ajaxå®ä¾‹è®²è§£(äºŒ)","categories":[],"tags":[{"name":"jsonp","slug":"jsonp","permalink":"http://upyang.com/tags/jsonp/"},{"name":"ajax","slug":"ajax","permalink":"http://upyang.com/tags/ajax/"},{"name":"XMLHttpRequest","slug":"XMLHttpRequest","permalink":"http://upyang.com/tags/XMLHttpRequest/"}]},{"title":"å“åº”å¼ç½‘ç«™è®¾è®¡","slug":"Responsive-website","date":"2017-07-09T06:35:42.000Z","updated":"2017-07-28T03:01:53.577Z","comments":true,"path":"2017/07/09/Responsive-website/","link":"","permalink":"http://upyang.com/2017/07/09/Responsive-website/","excerpt":"","text":"å“åº”å¼ç½‘ç«™ ğŸ‘‰ github: https://github.com/Aaron0525/Responsive-website ğŸ‘‰ æ¼”ç¤ºåœ°å€: http://www.upyang.com/Responsive-website/ é¡¹ç›®ä»‹ç»ï¼š&emsp;&emsp;å“åº”å¼ç½‘ç«™è®¾è®¡(Responsive Web design)çš„ç†å¿µæ˜¯ï¼šé›†ä¸­åˆ›å»ºé¡µé¢çš„å›¾ç‰‡æ’ç‰ˆå¤§å°ï¼Œå¯ä»¥æ™ºèƒ½åœ°æ ¹æ®ç”¨æˆ·è¡Œä¸ºä»¥åŠä½¿ç”¨çš„è®¾å¤‡ç¯å¢ƒï¼ˆç³»ç»Ÿå¹³å°ã€å±å¹•å°ºå¯¸ã€å±å¹•å®šå‘ç­‰ï¼‰è¿›è¡Œç›¸å¯¹åº”çš„å¸ƒå±€ã€‚å“åº”å¼å¸ƒå±€è¦ç‚¹ï¼š &emsp;&emsp;ä¸€ã€åª’ä½“æŸ¥è¯¢ï¼ˆmedia queryï¼‰ã€‚åª’ä½“æŸ¥è¯¢æ˜¯å“åº”å¼ç½‘é¡µçš„æ ¸å¿ƒï¼Œå®ƒèƒ½æ£€æµ‹å½“å‰è®¾å¤‡çš„å®½åº¦æ¥é€‰ç”¨ä¸åŒçš„CSSæ ·å¼æ–‡ä»¶ã€‚åœ¨å†™CSSæ ·å¼æ—¶ï¼Œä»æœ€å°çš„è®¾å¤‡å¼€å§‹å†™ä¸ºå¥½ã€‚&emsp;&emsp;äºŒã€æµå¼å¸ƒå±€ã€‚å®ƒçš„ç‰¹ç‚¹å°±æ˜¯ç™¾åˆ†æ¯”å¸ƒå±€ï¼Œç›¸æ¯”é‡‡ç”¨å…·ä½“å°ºå¯¸çš„å¸ƒå±€ï¼Œç™¾åˆ†æ¯”å¸ƒå±€åœ¨ç”¨æˆ·ç¼©æ”¾æµè§ˆå™¨çª—å£æ—¶ï¼Œä¸ä¼šå‡ºç°å†…å®¹è¢«éšè—å’Œå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡ã€‚&emsp;&emsp;ä¸‰ã€å¼¹æ€§å›¾ç‰‡ã€‚ è¦è®©å›¾ç‰‡è‡ªé€‚åº”ç¼©æ”¾ï¼Œä¸€èˆ¬ä½¿ç”¨csså°†å›¾ç‰‡çš„å®½åº¦è®¾ç½®æˆ100%ï¼Œè¿™æ ·å°±èƒ½ä½¿å›¾ç‰‡åœ¨å¸ƒå±€ä¸­ä¿æŒç‰¹å®šçš„æ¯”ä¾‹ã€‚ä½†éšç€æµè§ˆå™¨çš„ç¼©æ”¾ï¼Œå½“å›¾ç‰‡çš„å®é™…å¤§å°è¶…è¿‡å›¾ç‰‡æœ¬èº«çš„å¤§å°æ—¶ï¼Œå›¾ç‰‡å°±ä¼šå˜çš„æ¨¡ç³Šã€‚æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯åŠæ—¶æ›¿æ¢æˆä¸€å¼ å°ºå¯¸æ›´å¤§çš„å›¾ç‰‡ã€‚å“åº”å¼å¸ƒå±€ä¼˜ç¼ºç‚¹ï¼š &emsp;&emsp;ä¼˜ç‚¹ï¼šåœ¨ä¸åŒç»ˆç«¯ã€ä¸åŒåˆ†è¾¨ç‡ä¸‹æœ‰å¾ˆå¼ºçš„é€‚é…æ€§ï¼›åªéœ€ä¸€å¥—ä»£ç ï¼Œä¸€å®šç¨‹åº¦ä¸ŠèŠ‚çœäº†å¼€å‘å’Œç»´æŠ¤çš„æˆæœ¬ã€‚ç¼ºç‚¹ï¼šå…¼å®¹å„ç§è®¾å¤‡å·¥ä½œé‡å¤§ï¼Œæ•ˆç‡ä½ä¸‹ï¼›ä»£ç ç´¯èµ˜ï¼Œä¼šå‡ºç°éšè—æ— ç”¨çš„å…ƒç´ ï¼ŒåŠ è½½æ—¶é—´åŠ é•¿ã€‚&emsp;&emsp;æ‰€ä»¥å“åº”å¼å¸ƒå±€ä¸é€‚åˆæ•°æ®é‡å¤§ï¼Œæ“ä½œå¤æ‚çš„ç½‘ç«™ï¼Œé€‚ç”¨äºåšå®¢ã€ä¸­å°å‹ä¼ä¸šç½‘ç«™ç­‰ã€‚","categories":[],"tags":[{"name":"HTML5","slug":"HTML5","permalink":"http://upyang.com/tags/HTML5/"},{"name":"CSS3","slug":"CSS3","permalink":"http://upyang.com/tags/CSS3/"},{"name":"media","slug":"media","permalink":"http://upyang.com/tags/media/"}]},{"title":"jsonpè·¨åŸŸå®ç°","slug":"jsonpè·¨åŸŸå®ç°","date":"2017-07-08T10:57:30.000Z","updated":"2017-07-09T15:25:11.436Z","comments":true,"path":"2017/07/08/jsonpè·¨åŸŸå®ç°/","link":"","permalink":"http://upyang.com/2017/07/08/jsonpè·¨åŸŸå®ç°/","excerpt":"","text":"åŒæºç­–ç•¥åœ¨JavaScriptä¸­ï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„å®‰å…¨æ€§é™åˆ¶ï¼Œè¢«ç§°ä¸ºâ€œSame-Origin Policyâ€ï¼ˆåŒæºç­–ç•¥ï¼‰ã€‚è¿™ä¸€ç­–ç•¥å¯¹äºJavaScriptä»£ç èƒ½å¤Ÿè®¿é—®çš„é¡µé¢å†…å®¹åšäº†å¾ˆé‡è¦çš„é™åˆ¶ï¼Œå³JavaScriptåªèƒ½è®¿é—®ä¸åŒ…å«å®ƒçš„æ–‡æ¡£åœ¨åŒä¸€åŸŸä¸‹çš„å†…å®¹ã€‚ï¼ˆå›¾ç‰‡æ¥è‡ªMDNï¼‰ JSONPåœ¨jsä¸­ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨XMLHttpRequestè¯·æ±‚ä¸åŒåŸŸä¸Šçš„æ•°æ®æ—¶ï¼Œæ˜¯ä¸å¯ä»¥çš„ã€‚ä½†æ˜¯ï¼Œåœ¨é¡µé¢ä¸Šç”¨æ ‡ç­¾å¼•å…¥&lt;script&gt;ä¸åŒåŸŸä¸Šçš„jsè„šæœ¬æ–‡ä»¶å´æ˜¯å¯ä»¥çš„ï¼Œjsonpæ­£æ˜¯åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥å®ç°çš„ã€‚ jsonpçš„å®¢æˆ·ç«¯å®ç° tocatæœåŠ¡å™¨ä¸Šæœ‰ä¸ªremote.jsï¼ˆè¿™é‡Œç”¨tocatï¼Œwebé¡¹ç›®æ¼”ç¤ºï¼‰ alert(&quot;è·¨åŸŸæˆåŠŸ&quot;); æœ¬åœ°index.htmlæ–‡ä»¶ 1234567891011&lt;!DOCTYPE&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;è·¨åŸŸèµ„æº&lt;/title&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt;/* å®Œæˆè·¨åŸŸ */&lt;script src=&quot;http://localhost:8080/web/js/remote.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; å¾ˆæ˜æ˜¾ï¼Œæ˜¾ç¤ºè·¨åŸŸæˆåŠŸ æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æœ¬åœ°index.htmlå®šä¹‰callbackå‡½æ•° ï¼Œç„¶åè¿œç¨‹tomcat.jsä¼ å…¥å›è°ƒæ•°æ® 123456789101112131415161718&lt;!DOCTYPE&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;è·¨åŸŸèµ„æº&lt;/title&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt; /* å®Œæˆè·¨åŸŸ */ &lt;script type=&quot;text/javascript&quot;&gt; window.onload = function() &#123; var callback = function(data) &#123; alert(&quot;è·¨åŸŸè°ƒç”¨è¿œç¨‹tomcat.jsæˆåŠŸ: &quot; + data.name); &#125; &#125; &lt;/script&gt; &lt;script src=&quot;http://localhost:8080/web/js/tomcat.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; è¿œç¨‹æœåŠ¡å™¨ï¼š tomcat.js 1callback(&#123;&quot;name&quot;:&quot;kk&quot;&#125;); åˆ°æ­¤ï¼Œè·¨åŸŸåŸºæœ¬å®ç°ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œè¿œç¨‹ç«™ç‚¹æ€ä¹ˆçŸ¥é“è¦è°ƒç”¨å“ªä¸ªcallbackå‘¢ï¼Ÿ æ‰€ä»¥å°±æœ‰äº†jsonpçš„æ ¸å¿ƒï¼šæœåŠ¡ç«¯æä¾›çš„callbackæ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œ æœ¬åœ°åªè¦åŠ¨æ€ä¼ ä¸€ä¸ªcallbackç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°±çŸ¥é“è¯¥è°ƒç”¨å“ªä¸ªäº† åƒè¿™æ ·ï¼šå®¢æˆ·ç«¯12345678910111213141516171819202122&lt;!DOCTYPE&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;è·¨åŸŸèµ„æº&lt;/title&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt; &lt;script type=&quot;text/javascript&quot;&gt; window.onload = function() &#123; var callback = function(data) &#123; alert(&quot;è·¨åŸŸè°ƒç”¨è¿œç¨‹æˆåŠŸ: &quot; + data.name); &#125; var url = &quot;http://localhost:8080/web/js/helloServlet?userid=1&amp;callback=callback&quot;; // åˆ›å»ºscriptæ ‡ç­¾ï¼Œè®¾ç½®å…¶å±æ€§ var script = document.createElement(&apos;script&apos;); script.setAttribute(&apos;src&apos;, url); // æŠŠscriptæ ‡ç­¾åŠ å…¥headï¼Œæ­¤æ—¶è°ƒç”¨å¼€å§‹ document.getElementsByTagName(&apos;head&apos;)[0].appendChild(script); &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; æœåŠ¡ç«¯ï¼šï¼ˆè¿™é‡Œé€‰ç”¨javaè§£é‡Šï¼‰// ä»å®¢æˆ·ç«¯è·å–å‚æ•°useridå’Œcallback1PrintWriter out =response.getWriter(); // æ ¹æ®useridæŸ¥æ‰¾åˆ°çš„æ•°æ®å­˜å‚¨ä¸ºjson1out.println(callback+&quot;(&quot;+json+&quot;)&quot;); jsonpçš„æ‰§è¡Œå…¨è¿‡ç¨‹å°±æ˜¯è¿™ä¹ˆå›äº‹äº†ï¼ˆä¸ªäººç†è§£ï¼‰ ç°åœ¨å†æ¥çœ‹JQueryä¸­çš„å®ç°ï¼Œæˆ‘ä»¬æœ€ç»å¸¸ç”¨çš„$.ajaxï¼Œä¼¼ä¹é€šé€äº†ä¸å°‘ï¼Œä¹Ÿå°±æ˜¯è¿™ä¹ˆå›äº‹ 12345678910111213141516171819202122232425$(function() &#123; $.ajax(&#123; async: false, url: http, //è·¨åŸŸurlåœ°å€ type: &quot;GET&quot;, dataType: &apos;jsonp&apos;, jsonp: &apos;jsoncallback&apos;, data: &#123; &quot;userid&quot;: &quot;1&quot; &#125;, timeout: 5000, beforeSend: function() &#123; //jsonp æ–¹å¼æ­¤æ–¹æ³•ä¸è¢«è§¦å‘.åŸå› å¯èƒ½æ˜¯dataTypeå¦‚æœæŒ‡å®šä¸ºjsonpçš„è¯,å°±å·²ç»ä¸æ˜¯ajaxäº‹ä»¶äº† &#125;, success: function(json) &#123; //å®¢æˆ·ç«¯jqueryé¢„å…ˆå®šä¹‰å¥½çš„callbackå‡½æ•°,æˆåŠŸè·å–è·¨åŸŸæœåŠ¡å™¨ä¸Šçš„jsonæ•°æ®å,ä¼šåŠ¨æ€æ‰§è¡Œè¿™ä¸ªcallbackå‡½æ•° &#125; error: function(xhr) &#123; //jsonp æ–¹å¼æ­¤æ–¹æ³•ä¸è¢«è§¦å‘.åŸå› æ˜¯:dataTypeå¦‚æœæŒ‡å®šä¸ºjsonpçš„è¯,å°±å·²ç»ä¸æ˜¯ajaxäº‹ä»¶äº† //è¯·æ±‚å‡ºé”™å¤„ç† alert(&quot;è¯·æ±‚å‡ºé”™(è¯·æ£€æŸ¥ç›¸å…³åº¦ç½‘ç»œçŠ¶å†µ.)&quot;); &#125; &#125;); &#125;) è¿™é‡Œå‘ç°ï¼Œ$.ajaxå’Œajaxå¹¶ä¸æ˜¯ä¸€å›äº‹å•Š,ajaxçš„æ ¸å¿ƒæ˜¯é€šè¿‡XmlHttpRequestè·å–éæœ¬é¡µå†…å®¹ï¼Œè€Œjsonpçš„æ ¸å¿ƒåˆ™æ˜¯åŠ¨æ€æ·»åŠ &lt;script&gt;æ ‡ç­¾æ¥è°ƒç”¨æœåŠ¡å™¨æä¾›çš„jsè„šæœ¬ã€‚ window.nameæ³¨æ„ï¼Œwindow.nameçš„å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²çš„å¤§å°æœ€å¤§èƒ½å…è®¸2Må·¦å³ç”šè‡³æ›´å¤§çš„ä¸€ä¸ªå®¹é‡ï¼Œå…·ä½“å–å†³äºä¸åŒçš„æµè§ˆå™¨ï¼Œä½†ä¸€èˆ¬æ˜¯å¤Ÿç”¨äº†ã€‚å®ä¾‹ï¼šå‡è®¾æœ‰ä¸‰ä¸ªé¡µé¢ï¼šhttp://a.com/a.html //æ¸´æœ›è·å¾—æ•°æ®çš„é¡µé¢http://a.com/b.html //açš„å…„å¼Ÿé¡µé¢ï¼Œå……å½“ä¸­é—´äººè§’è‰²http://b.com/data.html //ä¸åŒæºçš„æ•°æ®é¡µ http://a.com/a.html,ç›‘å¬iframeçš„onloadäº‹ä»¶ï¼Œåœ¨æ­¤äº‹ä»¶ä¸­è®¾ç½®è¿™ä¸ªiframeçš„srcæŒ‡å‘æœ¬åœ°åŸŸçš„ä»£ç†é¡µé¢http://a.com/b.htmlï¼ˆä»£ç†æ–‡ä»¶å’Œåº”ç”¨é¡µé¢åœ¨åŒä¸€åŸŸä¸‹ï¼Œæ‰€ä»¥å¯ä»¥ç›¸äº’é€šä¿¡ï¼‰åŠ¨æ€åˆ›å»ºiframe 1234567891011121314151617181920212223242526272829&lt;script type=&quot;text/javascript&quot;&gt;var state = 0, iframe = document.createElement(&apos;iframe&apos;);// é€šè¿‡iframeçš„srcä¸data.htmlé€šä¿¡iframe.src = &apos;http://b.com/data.html&apos;;//ç›‘å¬onloadif (iframe.attachEvent) &#123; iframe.attachEvent(&apos;onload&apos;, loadfn);&#125; else &#123; iframe.onload = loadfn;var loadfn = function() &#123; if (state === 0) &#123; state = 1; iframe.contentWindow.location = &quot;http://a.com/b.html&quot;; // è®¾ç½®çš„ä»£ç†é¡µé¢ &#125; else if (state === 1) &#123; var data = iframe.contentWindow.name; // è¯»å–æ•°æ® alert(data); //å¼¹å‡º&apos;data.html!&apos; &#125; &#125;;&lt;/script&gt; â— http://b.com/data.html&lt;script type=&quot;text/javascript&quot;&gt; window.name = &apos;data.html&apos;;&lt;/script&gt; è¿™æ ·å°±å¯ä»¥æˆåŠŸè§£å†³äº†ï¼Œç†ä¸€ä¸‹æ€è·¯ï¼Œåº”è¯¥æ˜¯è¿™æ ·:å……å½“ä¸­é—´äººçš„iframeæƒ³è¦è·å–åˆ°data.htmlçš„é€šè¿‡window.nameè®¾ç½®çš„æ•°æ®ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªiframeçš„srcè®¾ä¸ºwww.cnblogs.com/data.htmlå°±è¡Œäº†ã€‚ç„¶åa.htmlæƒ³è¦å¾—åˆ°iframeæ‰€è·å–åˆ°çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æƒ³è¦å¾—åˆ°iframeçš„window.nameçš„å€¼ï¼Œè¿˜å¿…é¡»æŠŠè¿™ä¸ªiframeçš„srcè®¾æˆè·Ÿa.htmlé¡µé¢åŒä¸€ä¸ªåŸŸæ‰è¡Œ å›¾ç¤ºï¼š HTML5ä¸­æ–°å¼•è¿›çš„window.postMessageæ–¹æ³•åœ¨HTML5ä¸­æ–°å¢äº†postMessageæ–¹æ³•ï¼ŒpostMessageå¯ä»¥å®ç°è·¨æ–‡æ¡£æ¶ˆæ¯ä¼ è¾“ï¼ˆCross Document Messagingï¼‰ï¼ŒInternet Explorer 8, Firefox 3, Opera 9, Chrome 3å’Œ Safari 4éƒ½æ”¯æŒpostMessageã€‚å®ç°ï¼šå‘é€ä¿¡æ¯çš„é¡µé¢http://a.com/a.html12345678910111213141516171819202122232425&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;å®¢æˆ·ç«¯&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; window.onload = function() &#123; window.frames[0].postMessage(&apos;data&apos;, &apos;http://b.com/data.html&apos;); //postMessageæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ•°æ®ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼ŒæŒ‡æ˜ç›®æ ‡çª—å£çš„æºï¼Œå…·ä½“çœ‹MDN &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;iframe id=&quot;child&quot; src=&quot;http://b.com/data.html&quot;&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt;æ¥æ”¶ä¿¡æ¯çš„é¡µé¢http://b.com/data.html// é€šè¿‡ç›‘å¬messageäº‹ä»¶è·å–æ•°æ®window.addEventListener(&apos;message&apos;,function(e)&#123; var e =e||event; alert(e.data); &#125;,false); å›¾ç¤ºï¼š è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ã€‚ å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚ æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORSé€šä¿¡ä¸åŒæºçš„AJAXé€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç°AJAXè¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚å› æ­¤ï¼Œå®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ã€‚åªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡ã€‚å…·ä½“åŸç†å‚è§MDN","categories":[],"tags":[{"name":"HTML5","slug":"HTML5","permalink":"http://upyang.com/tags/HTML5/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://upyang.com/tags/JavaScript/"},{"name":"Jsonp","slug":"Jsonp","permalink":"http://upyang.com/tags/Jsonp/"},{"name":"CORS","slug":"CORS","permalink":"http://upyang.com/tags/CORS/"}]}]}